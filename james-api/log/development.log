Started GET "/webhooks/ngrok" for 190.248.183.35 at 2018-06-07 13:44:44 -0500
  
ActionController::RoutingError (No route matches [GET] "/webhooks/ngrok"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `call'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 190.248.183.35 at 2018-06-07 13:44:48 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `call'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/webhooks/sendgrid" for 190.248.183.35 at 2018-06-07 13:44:59 -0500
Processing by WebhooksController#sendgrid as HTML
Completed 500 Internal Server Error in 2453ms


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"sendgrid"} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.241 at 2018-06-07 13:54:37 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"kb1X3exYOtOSN8oQWzni_Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"0LT2WMfaZeVhYP6eNDMsgg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"P94y1yTIbBkLVW2C3QeFVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"27RAiR8XIuZW5BVB179TTQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"84ZOP8PuCe9bPjt8r58v3A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"rtD989HGSVxAcM7IxKLPeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"bZLUlEbOYyKNGjFUoTJNeg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Snmarokjf7Vu82PpGF9Mmg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"TMlf1cS38elSwpRKYqcJEQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"qEl3X3aPN4r6UirJEs0bHQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"g68z_A95hB-gIlm4khFGlw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"kb1X3exYOtOSN8oQWzni_Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"0LT2WMfaZeVhYP6eNDMsgg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"P94y1yTIbBkLVW2C3QeFVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"27RAiR8XIuZW5BVB179TTQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"84ZOP8PuCe9bPjt8r58v3A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"rtD989HGSVxAcM7IxKLPeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"bZLUlEbOYyKNGjFUoTJNeg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Snmarokjf7Vu82PpGF9Mmg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"TMlf1cS38elSwpRKYqcJEQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"qEl3X3aPN4r6UirJEs0bHQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"g68z_A95hB-gIlm4khFGlw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}}
Completed 500 Internal Server Error in 5ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"kb1X3exYOtOSN8oQWzni_Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"0LT2WMfaZeVhYP6eNDMsgg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"P94y1yTIbBkLVW2C3QeFVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"27RAiR8XIuZW5BVB179TTQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"84ZOP8PuCe9bPjt8r58v3A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"rtD989HGSVxAcM7IxKLPeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"bZLUlEbOYyKNGjFUoTJNeg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Snmarokjf7Vu82PpGF9Mmg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"TMlf1cS38elSwpRKYqcJEQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"qEl3X3aPN4r6UirJEs0bHQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"g68z_A95hB-gIlm4khFGlw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"kb1X3exYOtOSN8oQWzni_Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"0LT2WMfaZeVhYP6eNDMsgg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"P94y1yTIbBkLVW2C3QeFVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"27RAiR8XIuZW5BVB179TTQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"84ZOP8PuCe9bPjt8r58v3A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"rtD989HGSVxAcM7IxKLPeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"bZLUlEbOYyKNGjFUoTJNeg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Snmarokjf7Vu82PpGF9Mmg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"TMlf1cS38elSwpRKYqcJEQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"qEl3X3aPN4r6UirJEs0bHQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397678, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"g68z_A95hB-gIlm4khFGlw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.223 at 2018-06-07 13:54:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"UqGaEDg7f_hUyXAV4wbCDw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"9kL5oMhcf8914QN-DHg5CA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"ARkQmJOHWAqINSJUraZ6Ig==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"X8-TfIl_hJJJ4SpTLRpF_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"3AjYPwPoXHmjxQjthZEJNA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"-5KhjNVezJBfacNdO9qqCg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"JsR1xuHCWoyH0rhwg3VylA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"hLXo0LoLzHZhJtRAjUpV9A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"Fgqro3-8_yB8mMqwxxapRw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"LlqUOLhemd6gaS9BimU25Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"cQHBUCpGFjkM6hchU7PC2g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"UqGaEDg7f_hUyXAV4wbCDw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"9kL5oMhcf8914QN-DHg5CA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"ARkQmJOHWAqINSJUraZ6Ig==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"X8-TfIl_hJJJ4SpTLRpF_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"3AjYPwPoXHmjxQjthZEJNA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"-5KhjNVezJBfacNdO9qqCg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"JsR1xuHCWoyH0rhwg3VylA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"hLXo0LoLzHZhJtRAjUpV9A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"Fgqro3-8_yB8mMqwxxapRw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"LlqUOLhemd6gaS9BimU25Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"cQHBUCpGFjkM6hchU7PC2g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}}
Completed 500 Internal Server Error in 3ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"UqGaEDg7f_hUyXAV4wbCDw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"9kL5oMhcf8914QN-DHg5CA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"ARkQmJOHWAqINSJUraZ6Ig==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"X8-TfIl_hJJJ4SpTLRpF_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"3AjYPwPoXHmjxQjthZEJNA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"-5KhjNVezJBfacNdO9qqCg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"JsR1xuHCWoyH0rhwg3VylA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"hLXo0LoLzHZhJtRAjUpV9A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"Fgqro3-8_yB8mMqwxxapRw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"LlqUOLhemd6gaS9BimU25Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"cQHBUCpGFjkM6hchU7PC2g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"UqGaEDg7f_hUyXAV4wbCDw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"9kL5oMhcf8914QN-DHg5CA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"ARkQmJOHWAqINSJUraZ6Ig==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"X8-TfIl_hJJJ4SpTLRpF_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"3AjYPwPoXHmjxQjthZEJNA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"-5KhjNVezJBfacNdO9qqCg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"JsR1xuHCWoyH0rhwg3VylA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"hLXo0LoLzHZhJtRAjUpV9A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"Fgqro3-8_yB8mMqwxxapRw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"LlqUOLhemd6gaS9BimU25Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528397680, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"cQHBUCpGFjkM6hchU7PC2g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.219 at 2018-06-07 14:13:29 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.249 at 2018-06-07 14:14:10 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.229 at 2018-06-07 14:14:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 2ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.203 at 2018-06-07 14:14:46 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 2ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.237 at 2018-06-07 14:15:22 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 0ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.213 at 2018-06-07 14:15:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.254 at 2018-06-07 14:17:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.214 at 2018-06-07 14:17:36 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.234 at 2018-06-07 14:19:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.223 at 2018-06-07 14:19:46 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.216 at 2018-06-07 14:23:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 3ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.251 at 2018-06-07 14:23:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.241 at 2018-06-07 14:31:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.209 at 2018-06-07 14:32:26 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.214 at 2018-06-07 14:46:46 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"2Cuz2hrRS-mPnQnfDz5i8w", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398804}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "response"=>"250 2.0.0 OK 1528398806 9-v6si1703178qtn.162 - gsmtp", "sg_event_id"=>"VhBDZfBXSnqyHCBhWrZUbg", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "smtp-id"=>"<qNbsEFy6T02DczpPBSynOQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528398806, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.246 at 2018-06-07 14:47:36 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528398820, "ip"=>"66.102.8.41", "sg_event_id"=>"qx7BRMOURt-VCUEX0ROR4Q", "sg_message_id"=>"qNbsEFy6T02DczpPBSynOQ.filter0068p3mdw1-12896-5B1983D4-A.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
  [1m[35m (27.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (37.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-06-08 13:17:42.548825"], ["updated_at", "2018-06-08 13:17:42.548825"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGlxStatuses (20180608133752)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE TABLE "glx_statuses" ("id" bigserial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180608133752"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGlxMachineStatuses (20180608135153)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGlxMachineStatuses (20180608135153)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "glx_machine_statuses" ("id" bigserial primary key, "initial_status_id" integer, "action" character varying, "final_status_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180608135153"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGlxStatusLogs (20180608140607)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGlxStatusLogs (20180608140607)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (65.1ms)[0m  [1m[35mCREATE TABLE "glx_status_logs" ("id" bigserial primary key, "mail_id" character varying, "status_from_id" integer, "action" character varying, "status_to_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180608140607"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToGlxMails (20180608140702)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "glx_mails" ADD "status_id" integers[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddStatusToGlxMails (20180608140702)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "glx_mails" ADD "status_id" integer[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180608140702"]]
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-08 14:24:04.209319"], ["updated_at", "2018-06-08 14:24:04.209319"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" ORDER BY "glx_mails"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mGlxStatusLog Load (0.8ms)[0m  [1m[34mSELECT  "glx_status_logs".* FROM "glx_status_logs" WHERE "glx_status_logs"."mail_id" = $1 LIMIT $2[0m  [["mail_id", "1"], ["LIMIT", 11]]
Started GET "/" for 190.248.183.35 at 2018-06-11 22:56:11 -0500
  [1m[35m (43.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/anderson/.rvm/gems/ruby-2.4.1/gems/railties-5.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/anderson/.rvm/gems/ruby-2.4.1/gems/railties-5.1.6/lib/rails/templates/rails/welcome/index.html.erb (6.9ms)
Completed 200 OK in 59ms (Views: 38.4ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 190.248.183.35 at 2018-06-11 22:56:13 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/webhooks/sendgrid" for 190.248.183.35 at 2018-06-11 23:01:39 -0500
Processing by WebhooksController#sendgrid as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"sendgrid"} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.228 at 2018-06-12 14:02:02 -0500
  [1m[35m (42.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"LngvaxgSwFwy1dqnTOziIg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"yNraRJ-nNJhLklN94rxfVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"hBy2F5WwaF-RKO757SGZRg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"dhA4th8L4ZDuB-cG-E3hbQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"yXDgojhQ0eJog0smjG9g7g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"sKfc3aqusbQdsNVMmdJKvA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"M5Hoci3i30l0JVrwlTXiyg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"1j8PwPScd79d83trgsS22Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"E2lKdvyH0m_FAiuZ1jdG_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"azj581Lx0emcq0zNhfi08Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"4Hzd18a4Q-e7vtF5o2kx4Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"LngvaxgSwFwy1dqnTOziIg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"yNraRJ-nNJhLklN94rxfVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"hBy2F5WwaF-RKO757SGZRg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"dhA4th8L4ZDuB-cG-E3hbQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"yXDgojhQ0eJog0smjG9g7g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"sKfc3aqusbQdsNVMmdJKvA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"M5Hoci3i30l0JVrwlTXiyg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"1j8PwPScd79d83trgsS22Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"E2lKdvyH0m_FAiuZ1jdG_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"azj581Lx0emcq0zNhfi08Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"4Hzd18a4Q-e7vtF5o2kx4Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"LngvaxgSwFwy1dqnTOziIg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"yNraRJ-nNJhLklN94rxfVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"hBy2F5WwaF-RKO757SGZRg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"dhA4th8L4ZDuB-cG-E3hbQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"yXDgojhQ0eJog0smjG9g7g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"sKfc3aqusbQdsNVMmdJKvA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"M5Hoci3i30l0JVrwlTXiyg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"1j8PwPScd79d83trgsS22Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"E2lKdvyH0m_FAiuZ1jdG_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"azj581Lx0emcq0zNhfi08Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"4Hzd18a4Q-e7vtF5o2kx4Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"LngvaxgSwFwy1dqnTOziIg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"yNraRJ-nNJhLklN94rxfVQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"hBy2F5WwaF-RKO757SGZRg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"dhA4th8L4ZDuB-cG-E3hbQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"yXDgojhQ0eJog0smjG9g7g==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"sKfc3aqusbQdsNVMmdJKvA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"M5Hoci3i30l0JVrwlTXiyg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"1j8PwPScd79d83trgsS22Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"E2lKdvyH0m_FAiuZ1jdG_A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"azj581Lx0emcq0zNhfi08Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1528830123, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"4Hzd18a4Q-e7vtF5o2kx4Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.204 at 2018-06-12 14:02:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.246 at 2018-06-12 14:03:22 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.212 at 2018-06-12 14:04:33 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.220 at 2018-06-12 14:04:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.211 at 2018-06-12 14:04:59 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.220 at 2018-06-12 14:05:06 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.251 at 2018-06-12 14:05:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.206 at 2018-06-12 14:06:12 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.223 at 2018-06-12 14:06:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.216 at 2018-06-12 14:06:49 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.229 at 2018-06-12 14:22:47 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-12 14:23:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.216 at 2018-06-12 14:35:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.244 at 2018-06-12 14:37:57 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-12 14:38:29 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-12 14:54:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.203 at 2018-06-12 14:55:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.229 at 2018-06-12 14:56:09 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.245 at 2018-06-12 14:56:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.230 at 2018-06-12 14:56:14 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.233 at 2018-06-12 14:56:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-12 14:56:48 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-12 14:56:51 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.229 at 2018-06-12 14:56:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.225 at 2018-06-12 14:57:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-12 14:58:01 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.241 at 2018-06-12 14:58:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.215 at 2018-06-12 14:58:12 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "controller"=>"webhooks", "action"=>"sendgrid", "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-12 14:59:38 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.212 at 2018-06-12 14:59:41 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.244 at 2018-06-12 14:59:43 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (nil):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-12 15:00:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-12 15:01:48 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([<ActionController::Parameters {"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.202 at 2018-06-12 15:01:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([<ActionController::Parameters {"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.248 at 2018-06-12 15:01:54 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ([<ActionController::Parameters {"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-12 15:04:09 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841} permitted: false>):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-12 15:04:53 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.238 at 2018-06-12 15:04:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.244 at 2018-06-12 15:05:57 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.222 at 2018-06-12 15:05:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-12 15:06:01 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.252 at 2018-06-12 15:06:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (nil):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.208 at 2018-06-12 15:06:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (nil):
  
app/controllers/webhooks_controller.rb:3:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.249 at 2018-06-12 15:07:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "sg_event_id"=>"jamrMVVlStmS4z6W0sV3wQ", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833841}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1", "response"=>"250 2.0.0 OK 1528833843 j65-v6si988761qkc.74 - gsmtp", "sg_event_id"=>"FG-USPElQiu53tnoue1jvA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "smtp-id"=>"<TSZFUQLwRiWl5F3KGnofyA@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1528833843, "tls"=>1}]}}
Completed 204 No Content in 87ms (ActiveRecord: 2.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.214 at 2018-06-12 15:08:09 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830239, "ip"=>"66.102.8.63", "sg_event_id"=>"nGo_4TlcTTSDOp7FqYpCYg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-12 15:08:40 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528830267, "ip"=>"66.102.8.35", "sg_event_id"=>"GSwnHkvKShekCW6mVVMrSw", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/sendgrid" for 167.89.125.248 at 2018-06-12 15:13:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "sg_event_id"=>"3DDqzW4bRJmKqTYoxk2n0Q", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833281}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e", "response"=>"250 2.0.0 OK 1528833282 n12-v6si980972qkl.306 - gsmtp", "sg_event_id"=>"-2jyrEUnTwaL3OBQU59OjQ", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "smtp-id"=>"<L0rOX_iAQo-eLbOvjsv97A@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1528833282, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"], ["LIMIT", 1]]
Completed 204 No Content in 63ms (ActiveRecord: 4.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-12 15:14:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833339, "ip"=>"66.102.8.63", "sg_event_id"=>"HD4hcf0TRnmcKqq8eOBCXA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-12 15:14:32 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.35", "sg_event_id"=>"C2sHmlQKQDaBa3P7n_Y6fA", "sg_message_id"=>"L0rOX_iAQo-eLbOvjsv97A.filter0042p3mdw1-26702-5B202501-23.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833279459-cbdef0a5-a995-4f24-babd-dd5760e1797e"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-12 15:14:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528833340, "ip"=>"66.102.8.32", "sg_event_id"=>"N9u80-bvSKCw3D7BTo_jUQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open"}]}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


  [1m[35m (24.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGlxSendgridMailInfos (20180612201512)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (239.8ms)[0m  [1m[35mCREATE TABLE "glx_sendgrid_mail_infos" ("id" bigserial primary key, "sendgrid_id" character varying, "glx_mail_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180612201512"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (15.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/webhooks/sendgrid" for 167.89.125.201 at 2018-06-12 15:36:40 -0500
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (17.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0"], ["glx_mail_id", 6], ["created_at", "2018-06-12 20:36:41.549388"], ["updated_at", "2018-06-12 20:36:41.549388"]]
  [1m[35m (20.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 208ms (ActiveRecord: 57.2ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:11:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.214 at 2018-06-12 15:37:29 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (5.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0"], ["glx_mail_id", 6], ["created_at", "2018-06-12 20:37:29.345134"], ["updated_at", "2018-06-12 20:37:29.345134"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 87ms (ActiveRecord: 42.4ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:11:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.202 at 2018-06-12 15:38:32 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0"], ["glx_mail_id", 6], ["created_at", "2018-06-12 20:38:32.025681"], ["updated_at", "2018-06-12 20:38:32.025681"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 6.0ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:11:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-12 15:40:16 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 115ms (ActiveRecord: 13.7ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.230 at 2018-06-12 15:42:31 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 40ms (ActiveRecord: 15.6ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.202 at 2018-06-12 15:45:22 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.9ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.213 at 2018-06-12 15:45:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (2.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 6.0ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.237 at 2018-06-12 15:46:47 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.3ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.213 at 2018-06-12 15:47:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.236 at 2018-06-12 15:48:48 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.0ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-12 15:50:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.5ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.220 at 2018-06-12 15:55:02 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.205 at 2018-06-12 15:55:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.235 at 2018-06-12 16:03:38 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.0ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-12 16:06:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
  [1m[36mGlxSendgridMailInfo Load (0.4ms)[0m  [1m[34mSELECT  "glx_sendgrid_mail_infos".* FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."sendgrid_id" = $1 LIMIT $2[0m  [["sendgrid_id", "GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `mail' for nil:NilClass):
  
app/models/glx_sendgrid_mail_info.rb:6:in `get_mail_from_sendgrid_id'
app/controllers/webhooks_controller.rb:11:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-12 16:10:14 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.249 at 2018-06-12 16:18:49 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.4ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-12 16:24:37 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.3ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.209 at 2018-06-12 16:25:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (2.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.2ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.241 at 2018-06-12 16:26:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.8ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.210 at 2018-06-12 16:28:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.2ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-12 16:28:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0"], ["glx_mail_id", 5], ["created_at", "2018-06-12 21:28:13.296235"], ["updated_at", "2018-06-12 21:28:13.296235"]]
  [1m[35m (56.5ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 101ms (ActiveRecord: 67.7ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.234 at 2018-06-12 16:29:05 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (1.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.3ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.209 at 2018-06-12 16:30:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.3ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.240 at 2018-06-12 16:30:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.5ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.250 at 2018-06-12 16:32:06 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (1.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 23ms (ActiveRecord: 3.2ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.232 at 2018-06-12 16:34:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.7ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.220 at 2018-06-12 16:34:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-12 16:38:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.237 at 2018-06-12 16:40:26 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.6ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-12 16:42:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (6.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 7.4ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.251 at 2018-06-12 16:46:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.9ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.201 at 2018-06-12 16:48:59 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.239 at 2018-06-12 16:58:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.4ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.248 at 2018-06-12 17:01:55 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.4ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.210 at 2018-06-12 17:28:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.1ms)


  
RuntimeError (#<GlxMail id: 6, gateway: 1, mail_name: "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:36:33", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-12 17:32:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms)


  
RuntimeError (#<GlxMail id: 5, gateway: 1, mail_name: "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2...", to_email: "andersonav91@gmail.com", from_email: "sophia@glx.com", sent_at: "2018-06-12 15:04:01", status_id: nil>):
  
app/controllers/webhooks_controller.rb:13:in `sendgrid'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (32.6ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (23.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-12 22:35:33.112879"], ["updated_at", "2018-06-12 22:35:33.112879"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Clicked"], ["created_at", "2018-06-12 22:35:33.140971"], ["updated_at", "2018-06-12 22:35:33.140971"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mark as Spam"], ["created_at", "2018-06-12 22:35:33.146663"], ["updated_at", "2018-06-12 22:35:33.146663"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-12 22:35:33.151250"], ["updated_at", "2018-06-12 22:35:33.151250"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-12 22:35:33.155380"], ["updated_at", "2018-06-12 22:35:33.155380"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (46.2ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-12 22:40:32.766369"], ["updated_at", "2018-06-12 22:40:32.766369"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Clicked"], ["created_at", "2018-06-12 22:40:32.771725"], ["updated_at", "2018-06-12 22:40:32.771725"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mark as Spam"], ["created_at", "2018-06-12 22:40:32.775670"], ["updated_at", "2018-06-12 22:40:32.775670"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-12 22:40:32.779881"], ["updated_at", "2018-06-12 22:40:32.779881"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-12 22:40:32.785756"], ["updated_at", "2018-06-12 22:40:32.785756"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.125.216 at 2018-06-12 17:44:08 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0"], ["glx_mail_id", 7], ["created_at", "2018-06-12 22:44:08.663689"], ["updated_at", "2018-06-12 22:44:08.663689"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 129ms (ActiveRecord: 49.7ms)


  
NoMethodError (undefined method `id' for "processed":String):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.254 at 2018-06-12 17:44:45 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 42ms (ActiveRecord: 8.3ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.227 at 2018-06-12 17:45:54 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 34ms (ActiveRecord: 11.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.254 at 2018-06-12 17:47:29 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.203 at 2018-06-12 17:49:08 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "open"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 92ms (ActiveRecord: 11.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.241 at 2018-06-12 17:49:35 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 42ms (ActiveRecord: 12.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (24.0ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses[0m
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-12 22:49:57.877852"], ["updated_at", "2018-06-12 22:49:57.877852"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Clicked"], ["created_at", "2018-06-12 22:49:57.882797"], ["updated_at", "2018-06-12 22:49:57.882797"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mark as Spam"], ["created_at", "2018-06-12 22:49:57.886490"], ["updated_at", "2018-06-12 22:49:57.886490"]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-12 22:49:57.893220"], ["updated_at", "2018-06-12 22:49:57.893220"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-12 22:49:57.897066"], ["updated_at", "2018-06-12 22:49:57.897066"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-12 22:49:57.901012"], ["updated_at", "2018-06-12 22:49:57.901012"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Open"], ["created_at", "2018-06-12 22:49:57.905629"], ["updated_at", "2018-06-12 22:49:57.905629"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.219 at 2018-06-12 17:51:31 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0"], ["glx_mail_id", 8], ["created_at", "2018-06-12 22:51:31.608326"], ["updated_at", "2018-06-12 22:51:31.608326"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 81ms (ActiveRecord: 23.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.227 at 2018-06-12 17:51:49 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "open"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 42ms (ActiveRecord: 15.1ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.245 at 2018-06-12 17:52:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "processed"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.247 at 2018-06-12 17:52:26 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."name" = $1 LIMIT $2[0m  [["name", "open"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.3ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-12 17:53:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (27.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 74ms (ActiveRecord: 30.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-12 17:54:58 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "sg_event_id"=>"2nc1QrGwSuy3s8MgJtA2Ow", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843888}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08", "response"=>"250 2.0.0 OK 1528843889 i28-v6si1320757qtf.83 - gsmtp", "sg_event_id"=>"ha_-ob2FRSqXnotGZGWQEg", "sg_message_id"=>"9B5-SuMYQdWT_CtOWtBvyQ.filter0044p3las1-21307-5B204E70-F.0", "smtp-id"=>"<9B5-SuMYQdWT_CtOWtBvyQ@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528843889, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843887345-4c423b3b-9c02-46c2-979a-9d519bbb4e08"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 204 No Content in 64ms (ActiveRecord: 16.2ms)


Started POST "/webhooks/sendgrid" for 167.89.121.251 at 2018-06-12 17:55:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528843877, "ip"=>"190.248.183.35", "sg_event_id"=>"JuQiG_CHT-6Hyim-Fn7zMw", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 11.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.212 at 2018-06-12 18:01:06 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (9.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0"], ["glx_mail_id", 9], ["created_at", "2018-06-12 23:01:07.131104"], ["updated_at", "2018-06-12 23:01:07.131104"]]
  [1m[35m (21.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 133ms (ActiveRecord: 45.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.241 at 2018-06-12 18:01:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 15.7ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.232 at 2018-06-12 18:01:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.8ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.244 at 2018-06-12 18:02:59 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "sg_event_id"=>"NbRwjxAgSXmesCUq_99PoA", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458", "response"=>"250 2.0.0 OK 1528844458 b3-v6si1311622qvl.69 - gsmtp", "sg_event_id"=>"q7NwAi1hT7GnoJHZGhA8xw", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "smtp-id"=>"<-usOhLbtQz2_wcDwxqNfkw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528844458, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (8.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 9]]
  [1m[35m (103.5ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 263ms (ActiveRecord: 132.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-12 18:03:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d", "sg_event_id"=>"RR_WNQ3yQgCQ4UdGQd5SiQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "smtp-id"=>"<qlKuTK9MTeamwo2TLwUcyA@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1528844580}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d", "response"=>"250 2.0.0 OK 1528844581 v9-v6si1169711qvk.116 - gsmtp", "sg_event_id"=>"vkSgaaBISm6EE3OFe79IUQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "smtp-id"=>"<qlKuTK9MTeamwo2TLwUcyA@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1528844581, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d", "sg_event_id"=>"RR_WNQ3yQgCQ4UdGQd5SiQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "smtp-id"=>"<qlKuTK9MTeamwo2TLwUcyA@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1528844580}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d", "response"=>"250 2.0.0 OK 1528844581 v9-v6si1169711qvk.116 - gsmtp", "sg_event_id"=>"vkSgaaBISm6EE3OFe79IUQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "smtp-id"=>"<qlKuTK9MTeamwo2TLwUcyA@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1528844581, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 10], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0"], ["glx_mail_id", 10], ["created_at", "2018-06-12 23:03:11.525816"], ["updated_at", "2018-06-12 23:03:11.525816"]]
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 10]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 203ms (ActiveRecord: 68.0ms)


Started POST "/webhooks/sendgrid" for 167.89.125.231 at 2018-06-12 18:16:54 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (3.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (7.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 185ms (ActiveRecord: 14.1ms)


  
NameError (undefined local variable or method `status_change' for #<GlxMail:0x007fc4dc8bfe18>
Did you mean?  status_id_change
               status_machine):
  
app/models/glx_mail.rb:14:in `save_log'
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.216 at 2018-06-12 18:24:30 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "sg_event_id"=>"fxHp8yNFT5aQmJfHZqfGrg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845866}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "response"=>"250 2.0.0 OK 1528845867 f3-v6si1485782qvl.57 - gsmtp", "sg_event_id"=>"JzSmlE_lRuGUamXT5qLOlg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845867, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "sg_event_id"=>"fxHp8yNFT5aQmJfHZqfGrg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845866}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "response"=>"250 2.0.0 OK 1528845867 f3-v6si1485782qvl.57 - gsmtp", "sg_event_id"=>"JzSmlE_lRuGUamXT5qLOlg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845867, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0"], ["glx_mail_id", 11], ["created_at", "2018-06-12 23:24:31.220303"], ["updated_at", "2018-06-12 23:24:31.220303"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 176ms (ActiveRecord: 48.2ms)


  
NameError (undefined local variable or method `status_change' for #<GlxMail:0x007fc7c0b38528>
Did you mean?  status_id_change
               status_machine):
  
app/models/glx_mail.rb:14:in `save_log'
app/controllers/webhooks_controller.rb:16:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.244 at 2018-06-12 18:25:07 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "sg_event_id"=>"fxHp8yNFT5aQmJfHZqfGrg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845866}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "response"=>"250 2.0.0 OK 1528845867 f3-v6si1485782qvl.57 - gsmtp", "sg_event_id"=>"JzSmlE_lRuGUamXT5qLOlg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845867, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "sg_event_id"=>"fxHp8yNFT5aQmJfHZqfGrg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845866}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239", "response"=>"250 2.0.0 OK 1528845867 f3-v6si1485782qvl.57 - gsmtp", "sg_event_id"=>"JzSmlE_lRuGUamXT5qLOlg", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "smtp-id"=>"<xHXt0z8VShee5x3B4UVmRQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1528845867, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 11]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 83ms (ActiveRecord: 38.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-12 18:26:31 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae", "sg_event_id"=>"fRR3YZZrQ0C_Rlgllp3uvw", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "smtp-id"=>"<13tJ92fmQGCjL1SFrDWbLg@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528845990}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae", "sg_event_id"=>"fRR3YZZrQ0C_Rlgllp3uvw", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "smtp-id"=>"<13tJ92fmQGCjL1SFrDWbLg@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528845990}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_infos" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0"], ["glx_mail_id", 12], ["created_at", "2018-06-12 23:26:31.703805"], ["updated_at", "2018-06-12 23:26:31.703805"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 12]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 190ms (ActiveRecord: 39.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-12 18:26:41 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae", "response"=>"250 2.0.0 OK 1528845991 c13-v6si1075669qkm.302 - gsmtp", "sg_event_id"=>"lWjq9jI6RYWP250_BII2cA", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "smtp-id"=>"<13tJ92fmQGCjL1SFrDWbLg@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528845991, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae", "response"=>"250 2.0.0 OK 1528845991 c13-v6si1075669qkm.302 - gsmtp", "sg_event_id"=>"lWjq9jI6RYWP250_BII2cA", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "smtp-id"=>"<13tJ92fmQGCjL1SFrDWbLg@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1528845991, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'delivered') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 15], ["id", 12]]
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 106ms (ActiveRecord: 56.8ms)


Started POST "/webhooks/sendgrid" for 167.89.125.238 at 2018-06-12 18:27:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528846038, "ip"=>"190.248.183.35", "sg_event_id"=>"8K1irRw1QsO0gtihc6Tn6Q", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528846038, "ip"=>"190.248.183.35", "sg_event_id"=>"8K1irRw1QsO0gtihc6Tn6Q", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 12]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 38ms (ActiveRecord: 25.2ms)


Started POST "/webhooks/sendgrid" for 167.89.121.229 at 2018-06-12 18:28:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"jCsM2HegSrWJpgmueiF3IQ", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 6]]
  [1m[35m (37.2ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 51ms (ActiveRecord: 41.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.213 at 2018-06-12 18:32:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528838645, "ip"=>"190.248.183.35", "sg_event_id"=>"EBYQf5NXTIiXoVJPoQB4wA", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 5]]
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 41ms (ActiveRecord: 29.1ms)


Started POST "/webhooks/sendgrid" for 167.89.125.225 at 2018-06-12 18:47:05 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "sg_event_id"=>"NHAOKwgdQ5iNsNPvJZo66A", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843442}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe", "response"=>"250 2.0.0 OK 1528843443 a22-v6si554661qka.184 - gsmtp", "sg_event_id"=>"9ntSuLVWTmeiLp9Z_tseMQ", "sg_message_id"=>"3t8zW0dpSl-F-juwARJCyw.filter0059p3mdw1-9972-5B204CB2-23.0", "smtp-id"=>"<3t8zW0dpSl-F-juwARJCyw@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1528843443, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528843441935-d4553027-59ed-4115-8a94-fc6790c131fe"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 7]]
  [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 49ms (ActiveRecord: 40.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.234 at 2018-06-12 19:06:17 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "sg_event_id"=>"tfvTvn1mTzeT_SdnT4CVOg", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830147}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "response"=>"250 2.0.0 OK 1528830148 b27-v6si849369qtb.275 - gsmtp", "sg_event_id"=>"IoYX_RDoRhqkeayWs5qhYQ", "sg_message_id"=>"GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0", "smtp-id"=>"<GfqbKymrQxSYFlns17I4IA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1528830148, "tls"=>1}]}}
  [1m[36mGlxSendgridMailInfo Load (0.4ms)[0m  [1m[34mSELECT  "glx_sendgrid_mail_infos".* FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."sendgrid_id" = $1 LIMIT $2[0m  [["sendgrid_id", "GfqbKymrQxSYFlns17I4IA.filter0041p3mdw1-11859-5B2018C3-19.0"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `mail' for nil:NilClass):
  
app/models/glx_sendgrid_mail_info.rb:6:in `get_mail_from_sendgrid_id'
app/controllers/webhooks_controller.rb:11:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.237 at 2018-06-12 20:40:18 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"46Ywx3f4QzGUstXFTjVldw", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"46Ywx3f4QzGUstXFTjVldw", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 11]]
  [1m[35m (25.3ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 119ms (ActiveRecord: 51.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-12 20:40:18 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853985, "ip"=>"190.248.183.35", "sg_event_id"=>"vdSIqsigQ3iWuna53jHUBg", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853985, "ip"=>"190.248.183.35", "sg_event_id"=>"vdSIqsigQ3iWuna53jHUBg", "sg_message_id"=>"TSZFUQLwRiWl5F3KGnofyA.filter0046p3las1-8064-5B202731-23.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"}]}}
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528833840554-cd455fb2-2399-468f-bedc-17f088f2ced1"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 32ms (ActiveRecord: 13.1ms)


Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-12 20:40:18 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853984, "ip"=>"190.248.183.35", "sg_event_id"=>"a04E8hO5Qg2NbCHrEOV2sw", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853984, "ip"=>"190.248.183.35", "sg_event_id"=>"a04E8hO5Qg2NbCHrEOV2sw", "sg_message_id"=>"xHXt0z8VShee5x3B4UVmRQ.filter0080p3las1-17183-5B20562A-3.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845865200-d976abff-49e4-4f8d-9feb-fb1abe1df239"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 9ms (ActiveRecord: 2.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.244 at 2018-06-12 20:40:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"M3-CXeuaSuC0aARUOtNQNQ", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"M3-CXeuaSuC0aARUOtNQNQ", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 12ms (ActiveRecord: 2.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-12 20:40:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853984, "ip"=>"190.248.183.35", "sg_event_id"=>"rVf9vxMwSbWPjJQJ-2MrIA", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853984, "ip"=>"190.248.183.35", "sg_event_id"=>"rVf9vxMwSbWPjJQJ-2MrIA", "sg_message_id"=>"13tJ92fmQGCjL1SFrDWbLg.filter0084p3las1-8535-5B2056A6-11.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528845989585-d5d118c2-aeeb-44db-80a8-e2c1c4fb1dae"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 12ms (ActiveRecord: 3.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.235 at 2018-06-12 20:40:20 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"7yWB0-d8Qu6EIz4o5LCqrg", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528853986, "ip"=>"190.248.183.35", "sg_event_id"=>"7yWB0-d8Qu6EIz4o5LCqrg", "sg_message_id"=>"-usOhLbtQz2_wcDwxqNfkw.filter0066p3mdw1-15890-5B2050AA-8.0", "useragent"=>"Microsoft Office/16.0 (Microsoft Outlook 16.0.9330; Pro)", "event"=>"open", "mail_name"=>"Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844457474-dac9c8ca-66d6-4f09-a3b4-348465e64458"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 9]]
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 51ms (ActiveRecord: 26.7ms)


Started POST "/webhooks/sendgrid" for 167.89.125.243 at 2018-06-12 20:40:41 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "sg_event_id"=>"RMVlzaBTS066ks-YqZDwYw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835793}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc", "response"=>"250 2.0.0 OK 1528835794 p31-v6si1020055qve.179 - gsmtp", "sg_event_id"=>"t_8P3iL0RSa4W-K_FeEOHw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "smtp-id"=>"<bR6WzLqaSSWIWaWZc2Emqw@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1528835794, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'processed') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 17], ["id", 6]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 36ms (ActiveRecord: 24.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.239 at 2018-06-12 20:49:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528836292, "ip"=>"66.102.8.41", "sg_event_id"=>"900haXHgSMSnVwCYQF02Zw", "sg_message_id"=>"bR6WzLqaSSWIWaWZc2Emqw.filter0065p3mdw1-17520-5B202ED1-21.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528835792717-db5c8e93-dd83-4a89-b537-06ef1b23b6dc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 6]]
  [1m[35m (39.4ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 70ms (ActiveRecord: 43.0ms)


Started POST "/webhooks/ses" for 72.21.217.142 at 2018-06-12 21:00:06 -0500
  
ActionController::RoutingError (No route matches [POST] "/webhooks/ses"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/ses" for 72.21.217.161 at 2018-06-12 21:03:21 -0500
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-12 21:19:52 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528856360, "ip"=>"66.102.8.32", "sg_event_id"=>"FgPi9AYwQVq_fIzeBWPeTQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1528856360, "ip"=>"66.102.8.32", "sg_event_id"=>"FgPi9AYwQVq_fIzeBWPeTQ", "sg_message_id"=>"qlKuTK9MTeamwo2TLwUcyA.filter0040p3las1-13855-5B205124-20.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1528844579415-f4701246-ddf1-446b-a7bc-f39e1e67900d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_infos" WHERE "glx_sendgrid_mail_infos"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 10], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE (lower(name) = 'open') ORDER BY "glx_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 18], ["id", 10]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 93ms (ActiveRecord: 37.9ms)


Started POST "/webhooks/ses" for 72.21.217.65 at 2018-06-12 21:21:57 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:20:in `ses'
Started POST "/webhooks/ses" for 72.21.217.155 at 2018-06-12 21:22:18 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:20:in `ses'
Started POST "/webhooks/ses" for 72.21.217.158 at 2018-06-12 21:22:40 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:20:in `ses'
Started POST "/webhooks/ses" for 72.21.217.156 at 2018-06-12 21:23:02 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:20:in `ses'
Started GET "/webhooks/ses" for 190.248.183.35 at 2018-06-14 18:22:05 -0500
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started GET "/favicon.ico" for 190.248.183.35 at 2018-06-14 18:22:07 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/ses" for 72.21.217.139 at 2018-06-14 18:22:59 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.70 at 2018-06-14 18:23:14 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.142 at 2018-06-14 18:23:19 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.154 at 2018-06-14 18:23:36 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.67 at 2018-06-14 18:23:41 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.154 at 2018-06-14 18:24:09 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.154 at 2018-06-14 18:24:10 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.142 at 2018-06-14 18:24:41 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError (<ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses"} permitted: false>):
  
app/controllers/webhooks_controller.rb:21:in `ses'
Started POST "/webhooks/ses" for 72.21.217.168 at 2018-06-14 18:26:02 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/webhooks/ses" for 190.248.183.35 at 2018-06-14 18:41:23 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/webhooks/ses" for 190.248.183.35 at 2018-06-14 18:41:43 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.156 at 2018-06-14 18:44:26 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.131 at 2018-06-14 18:44:37 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.156 at 2018-06-14 18:46:00 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.168 at 2018-06-14 19:03:43 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"SubscriptionConfirmation", "MessageId"=>"8e08a1db-3732-4c44-86b1-a962f27d63c1", "Token"=>"2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.\nTo confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.", "SubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "Timestamp"=>"2018-06-15T00:03:44.254Z", "SignatureVersion"=>"1", "Signature"=>"JlKI1ppQ/uJQE8F/o0hfhUsZ+18NBg/Yz5OwOJt1JUZdHyuLJYCL331oAAZjO9bSQscNbUbiQr5N33inPStHDD7INi1V8UYwDIBSE1M3CY7sEqbkGEBmTSKhq3ZLB4hiM2ChMKwyaZk2PisuUOHF2V57WvoKgiR0KCEi1JzhTVsUCctbgd6igmLu/p9Afo+sISA6zf72ElPugloJvXAKkJ/Gicw1knDYMyc0n6Od9xHTtmvzuoGrCL7EB9EY9QD75E/eW6t1c4fhcx64lLUQ7Zpy2OXcC+vxy4JwG8Qy6UD0lMMDQSWjSdBCUfMzvD7xgyQdUXO6EouDK+C6jro+mA==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem"}):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.112 at 2018-06-14 19:04:04 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"SubscriptionConfirmation", "MessageId"=>"8e08a1db-3732-4c44-86b1-a962f27d63c1", "Token"=>"2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.\nTo confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.", "SubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "Timestamp"=>"2018-06-15T00:03:44.254Z", "SignatureVersion"=>"1", "Signature"=>"JlKI1ppQ/uJQE8F/o0hfhUsZ+18NBg/Yz5OwOJt1JUZdHyuLJYCL331oAAZjO9bSQscNbUbiQr5N33inPStHDD7INi1V8UYwDIBSE1M3CY7sEqbkGEBmTSKhq3ZLB4hiM2ChMKwyaZk2PisuUOHF2V57WvoKgiR0KCEi1JzhTVsUCctbgd6igmLu/p9Afo+sISA6zf72ElPugloJvXAKkJ/Gicw1knDYMyc0n6Od9xHTtmvzuoGrCL7EB9EY9QD75E/eW6t1c4fhcx64lLUQ7Zpy2OXcC+vxy4JwG8Qy6UD0lMMDQSWjSdBCUfMzvD7xgyQdUXO6EouDK+C6jro+mA==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem"}):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.76 at 2018-06-14 19:04:26 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"SubscriptionConfirmation", "MessageId"=>"8e08a1db-3732-4c44-86b1-a962f27d63c1", "Token"=>"2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.\nTo confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.", "SubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "Timestamp"=>"2018-06-15T00:03:44.254Z", "SignatureVersion"=>"1", "Signature"=>"JlKI1ppQ/uJQE8F/o0hfhUsZ+18NBg/Yz5OwOJt1JUZdHyuLJYCL331oAAZjO9bSQscNbUbiQr5N33inPStHDD7INi1V8UYwDIBSE1M3CY7sEqbkGEBmTSKhq3ZLB4hiM2ChMKwyaZk2PisuUOHF2V57WvoKgiR0KCEi1JzhTVsUCctbgd6igmLu/p9Afo+sISA6zf72ElPugloJvXAKkJ/Gicw1knDYMyc0n6Od9xHTtmvzuoGrCL7EB9EY9QD75E/eW6t1c4fhcx64lLUQ7Zpy2OXcC+vxy4JwG8Qy6UD0lMMDQSWjSdBCUfMzvD7xgyQdUXO6EouDK+C6jro+mA==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem"}):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.84 at 2018-06-14 19:04:48 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"SubscriptionConfirmation", "MessageId"=>"8e08a1db-3732-4c44-86b1-a962f27d63c1", "Token"=>"2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.\nTo confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.", "SubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85d1ff725e57c1f01560883352a1009d54d432019dc9d6bdcb4bb4473f02d87d3fc9bdfa8c81ceab177f9a70a2ccbfa5c809ce12ec8e801e183d6a0d68e32474f18f4600ad13a5488a05dfddefd7acfcdb2a8a73694268860", "Timestamp"=>"2018-06-15T00:03:44.254Z", "SignatureVersion"=>"1", "Signature"=>"JlKI1ppQ/uJQE8F/o0hfhUsZ+18NBg/Yz5OwOJt1JUZdHyuLJYCL331oAAZjO9bSQscNbUbiQr5N33inPStHDD7INi1V8UYwDIBSE1M3CY7sEqbkGEBmTSKhq3ZLB4hiM2ChMKwyaZk2PisuUOHF2V57WvoKgiR0KCEi1JzhTVsUCctbgd6igmLu/p9Afo+sISA6zf72ElPugloJvXAKkJ/Gicw1knDYMyc0n6Od9xHTtmvzuoGrCL7EB9EY9QD75E/eW6t1c4fhcx64lLUQ7Zpy2OXcC+vxy4JwG8Qy6UD0lMMDQSWjSdBCUfMzvD7xgyQdUXO6EouDK+C6jro+mA==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem"}):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.86 at 2018-06-14 19:09:00 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.81 at 2018-06-14 19:26:42 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"SubscriptionConfirmation", "MessageId"=>"6b211422-3fb4-442c-88b8-7cb3035f348f", "Token"=>"2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85fd525e72cfec40b7ece6366932d1f8001ee2fdc5278fe33bd967d9e3054f56657e4b0d3ced6c4321984108ff91f904fce21e2407318a95acbf1a302186bffc73d8139cfb310be9075fe987ab20cc0369d16529e747b4c34", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.\nTo confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.", "SubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85fd525e72cfec40b7ece6366932d1f8001ee2fdc5278fe33bd967d9e3054f56657e4b0d3ced6c4321984108ff91f904fce21e2407318a95acbf1a302186bffc73d8139cfb310be9075fe987ab20cc0369d16529e747b4c34", "Timestamp"=>"2018-06-15T00:26:43.667Z", "SignatureVersion"=>"1", "Signature"=>"tZzHemUbHNV0B92oZd6CWgvZ2g0a8dAAm0WM1ReKPpNoCIMMI0BUS7LN8OLzxF8WOUkNVvCAwv41663haOU/smzuhF9Z+/yNOiADklIyJZ/B8ZTk7vg5a5nkTDEjXX3DNs43NyR/CQUQD3xuObL/M+Cr+vbNuIWsmghrJYs9E0OSZIRSE9nZZE2weFmFdvJMwLef42xOjBei1Oeki4wHSn21nM567clAOTcVXLQjHBVkfBoUshaH7DX59hjateF5ss2xH1W1ODcXA1kdSeXyh8vBfpe9IrUjaONuxB+k5tDD2iq+fBrq/Tu0sraW2KawvaLHlyrubWgGoRwf486jzw==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem"}):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.70 at 2018-06-14 19:27:21 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85fd41c3faeda9f3efd81ba8b36d1aa020e99440fdce1b6030929e61b6a4f877f80961bd9b7c360b6ee2509ee44c891ff9eff0942959fa2912ef1a2f3d39413d02c188d59ebf06edfc9fbd2ccc7d4072a1cd3c8807b45247b"):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.112 at 2018-06-14 19:27:43 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ("https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85fd525e72cfec40b7ece6366932d1f8001ee2fdc5278fe33bd967d9e3054f56657e4b0d3ced6c4321984108ff91f904fce21e2407318a95acbf1a302186bffc73d8139cfb310be9075fe987ab20cc0369d16529e747b4c34"):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.112 at 2018-06-14 19:27:44 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ("https://sns.us-east-1.amazonaws.com/?Action=ConfirmSubscription&TopicArn=arn:aws:sns:us-east-1:356792611229:test-james&Token=2336412f37fb687f5d51e6e241da92fd739f59ad24881ce85fd41c3faeda9f3efd81ba8b36d1aa020e99440fdce1b6030929e61b6a4f877f80961bd9b7c360b6ee2509ee44c891ff9eff0942959fa2912ef1a2f3d39413d02c188d59ebf06edfc9fbd2ccc7d4072a1cd3c8807b45247b"):
  
app/controllers/webhooks_controller.rb:22:in `ses'
Started POST "/webhooks/ses" for 72.21.217.166 at 2018-06-14 19:28:05 -0500
Processing by WebhooksController#ses as HTML
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.141 at 2018-06-14 19:28:05 -0500
Processing by WebhooksController#ses as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/ses_confirm" for 72.21.217.171 at 2018-06-14 19:35:52 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 529ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.78 at 2018-06-14 19:36:15 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 420ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.178 at 2018-06-14 19:36:38 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 493ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.164 at 2018-06-14 19:36:41 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 347ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.77 at 2018-06-14 19:36:59 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 474ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.152 at 2018-06-14 19:37:03 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 498ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.158 at 2018-06-14 19:37:25 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 539ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.158 at 2018-06-14 19:37:55 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 454ms (ActiveRecord: 0.0ms)


  
Errno::ECONNRESET (Connection reset by peer):
  
app/controllers/webhooks_controller.rb:32:in `block in ses_confirm'
app/controllers/webhooks_controller.rb:31:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.135 at 2018-06-14 19:39:07 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses_confirm as HTML
Completed 200 OK in 540ms (Views: 0.6ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses_confirm" for 72.21.217.162 at 2018-06-14 19:40:50 -0500
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([nil, <ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses_confirm"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:27:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.158 at 2018-06-14 19:41:13 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([nil, <ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses_confirm"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:27:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.158 at 2018-06-14 19:41:47 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([{"Type"=>"Notification", "MessageId"=>"3bf4d62c-c1e5-580b-b520-85b1ccb792b8", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-15T00:40:49.803Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"0100016400e33d8b-f72cf949-0a0e-49a3-a197-5dd8ed3063bf-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Ra\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Ra\"}},\"delivery\":{\"timestamp\":\"2018-06-15T00:40:50.760Z\",\"processingTimeMillis\":957,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529023250 x74-v6si6485465qkx.159 - gsmtp\",\"remoteMtaIp\":\"209.85.232.27\",\"reportingMTA\":\"a8-18.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-15T00:40:50.825Z", "SignatureVersion"=>"1", "Signature"=>"JdsECn4YKypACXnbwS3w2I2lNMpWncMTK+PuJoGAZxJJ+zUExSuf8yk4tAVhVIed/231bZNzGVCTkMtjZ/Y9IxJ4b/9+LrCmZO7OKvG6d2PU/IBzstSS+PBrx6RPlmpOnhFYboZVWhvd/9WKQ6T3JzKUBPN+c9wJprDYl+MmwHSasobURyrHCdOKIsqlUrcDhBnj8HEDalExZQjwnCL8bQrB84PT29A1xmkziV6u803WAAmI1aKemHIcSyb9TR2dyz7H8GB4QGozWRHUZxUIpKqYuhlCvDeQLrbELspPwghp+1ODmUOMXv21Yt9/GjY9hFI39UfvSK53vfql99nDhQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:bb270e74-7752-4db7-8329-16b30d3658df"}, <ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses_confirm"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:27:in `ses_confirm'
Started POST "/webhooks/ses_confirm" for 72.21.217.163 at 2018-06-14 19:42:08 -0500
Processing by WebhooksController#ses_confirm as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ([{"Type"=>"Notification", "MessageId"=>"3bf4d62c-c1e5-580b-b520-85b1ccb792b8", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-15T00:40:49.803Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"0100016400e33d8b-f72cf949-0a0e-49a3-a197-5dd8ed3063bf-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Ra\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Ra\"}},\"delivery\":{\"timestamp\":\"2018-06-15T00:40:50.760Z\",\"processingTimeMillis\":957,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529023250 x74-v6si6485465qkx.159 - gsmtp\",\"remoteMtaIp\":\"209.85.232.27\",\"reportingMTA\":\"a8-18.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-15T00:40:50.825Z", "SignatureVersion"=>"1", "Signature"=>"JdsECn4YKypACXnbwS3w2I2lNMpWncMTK+PuJoGAZxJJ+zUExSuf8yk4tAVhVIed/231bZNzGVCTkMtjZ/Y9IxJ4b/9+LrCmZO7OKvG6d2PU/IBzstSS+PBrx6RPlmpOnhFYboZVWhvd/9WKQ6T3JzKUBPN+c9wJprDYl+MmwHSasobURyrHCdOKIsqlUrcDhBnj8HEDalExZQjwnCL8bQrB84PT29A1xmkziV6u803WAAmI1aKemHIcSyb9TR2dyz7H8GB4QGozWRHUZxUIpKqYuhlCvDeQLrbELspPwghp+1ODmUOMXv21Yt9/GjY9hFI39UfvSK53vfql99nDhQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:bb270e74-7752-4db7-8329-16b30d3658df"}, <ActionController::Parameters {"controller"=>"webhooks", "action"=>"ses_confirm"} permitted: false>]):
  
app/controllers/webhooks_controller.rb:27:in `ses_confirm'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenameTableGlxSendgridMailInfo (20180615195653)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "glx_sendgrid_mail_infos" RENAME TO "glx_sendgrid_mail_infos"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenameTableGlxSendgridMailInfo (20180615195653)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "glx_sendgrid_mail_infos" RENAME TO "glx_sendgrid_mail_info"[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "public"."glx_sendgrid_mail_infos_id_seq" RENAME TO "glx_sendgrid_mail_info_id_seq"[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER INDEX "glx_sendgrid_mail_infos_pkey" RENAME TO "glx_sendgrid_mail_info_pkey"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180615195653"]]
  [1m[35m (47.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:50:34 -0500
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:697:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:221:in `initialize'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 192.168.0.13 at 2018-06-15 19:50:35 -0500
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:697:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:221:in `initialize'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:51:23 -0500
  [1m[35m (44.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#test as HTML
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:51:27 -0500
Processing by WebhooksController#test as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:51:28 -0500
Processing by WebhooksController#test as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:51:29 -0500
Processing by WebhooksController#test as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:52:22 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#test as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 192.168.0.13 at 2018-06-15 19:52:23 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:56:42 -0500
Processing by WebhooksController#test as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/webhooks/test" for 192.168.0.13 at 2018-06-15 19:56:50 -0500
Processing by WebhooksController#test as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (176.2ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-16 01:02:01.080822"], ["updated_at", "2018-06-16 01:02:01.080822"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-16 01:02:01.085842"], ["updated_at", "2018-06-16 01:02:01.085842"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-16 01:02:01.092346"], ["updated_at", "2018-06-16 01:02:01.092346"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-16 01:02:01.097946"], ["updated_at", "2018-06-16 01:02:01.097946"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-16 01:02:01.102550"], ["updated_at", "2018-06-16 01:02:01.102550"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (15.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Openend"], ["final_status_id", 2], ["created_at", "2018-06-16 01:02:01.189393"], ["updated_at", "2018-06-16 01:02:01.189393"]]
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.125.222 at 2018-06-16 00:32:05 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"-agqSdz5ZUwHzK0gSzDeeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"jE9-Ilj8UYFBH5GjkmHRag==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"4Hezg8-yffMXZkgLYcvaKQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"h60IyLZJLA4Sj2J2e7MhVw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"Y-HCYezkySbnmI75YfyB8A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"OJYFdlzdkAqgvJOeTtsfeA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"8jBmcRxaoWCMGEO5c44b8Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Go2xY7Pc1FkM-cT4AyWeVg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"FMXJ2uSIPEHCsaglfKu2vg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"cxDVO4prd7JxA3O1DyohMA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"S3-xmNX-CgZMIRKzEoDViA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}], "webhook"=>{"_json"=>[{"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"processed", "category"=>"cat facts", "sg_event_id"=>"-agqSdz5ZUwHzK0gSzDeeQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"deferred", "category"=>"cat facts", "sg_event_id"=>"jE9-Ilj8UYFBH5GjkmHRag==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"400 try again later", "attempt"=>"5"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"delivered", "category"=>"cat facts", "sg_event_id"=>"4Hezg8-yffMXZkgLYcvaKQ==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "response"=>"250 OK"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"open", "category"=>"cat facts", "sg_event_id"=>"h60IyLZJLA4Sj2J2e7MhVw==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"click", "category"=>"cat facts", "sg_event_id"=>"Y-HCYezkySbnmI75YfyB8A==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"bounce", "category"=>"cat facts", "sg_event_id"=>"OJYFdlzdkAqgvJOeTtsfeA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"500 unknown recipient", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"dropped", "category"=>"cat facts", "sg_event_id"=>"8jBmcRxaoWCMGEO5c44b8Q==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "reason"=>"Bounced Address", "status"=>"5.0.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"spamreport", "category"=>"cat facts", "sg_event_id"=>"Go2xY7Pc1FkM-cT4AyWeVg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"unsubscribe", "category"=>"cat facts", "sg_event_id"=>"FMXJ2uSIPEHCsaglfKu2vg==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_unsubscribe", "category"=>"cat facts", "sg_event_id"=>"cxDVO4prd7JxA3O1DyohMA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}, {"email"=>"example@test.com", "timestamp"=>1529127125, "smtp-id"=>"<14c5d75ce93.dfd.64b469@ismtpd-555>", "event"=>"group_resubscribe", "category"=>"cat facts", "sg_event_id"=>"S3-xmNX-CgZMIRKzEoDViA==", "sg_message_id"=>"14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0", "useragent"=>"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)", "ip"=>"255.255.255.255", "url"=>"http://www.sendgrid.com/", "asm_group_id"=>10}]}}
  [1m[36mGlxSendgridMailInfo Load (47.0ms)[0m  [1m[34mSELECT  "glx_sendgrid_mail_info".* FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."sendgrid_id" = $1 LIMIT $2[0m  [["sendgrid_id", "14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 99916ms (ActiveRecord: 55.2ms)


  
NoMethodError (undefined method `attr_accessible' for #<Class:0x007f32e85c8fd8>
Did you mean?  attr_accessor):
  
app/models/glx_mail.rb:6:in `<class:GlxMail>'
app/models/glx_mail.rb:1:in `<top (required)>'
app/models/glx_sendgrid_mail_info.rb:9:in `rescue in get_mail_from_sendgrid_id'
app/models/glx_sendgrid_mail_info.rb:9:in `get_mail_from_sendgrid_id'
app/controllers/webhooks_controller.rb:12:in `sendgrid'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (32.9ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-16 05:44:50.463959"], ["updated_at", "2018-06-16 05:44:50.463959"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-16 05:44:50.472874"], ["updated_at", "2018-06-16 05:44:50.472874"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-16 05:44:50.476589"], ["updated_at", "2018-06-16 05:44:50.476589"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-16 05:44:50.481556"], ["updated_at", "2018-06-16 05:44:50.481556"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-16 05:44:50.485784"], ["updated_at", "2018-06-16 05:44:50.485784"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-16 05:44:50.490094"], ["updated_at", "2018-06-16 05:44:50.490094"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-16 05:44:50.496420"], ["updated_at", "2018-06-16 05:44:50.496420"]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Openend"], ["final_status_id", 4], ["created_at", "2018-06-16 05:44:50.532599"], ["updated_at", "2018-06-16 05:44:50.532599"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (88.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (79.4ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (28.8ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 01:48:05.788134"], ["updated_at", "2018-06-18 01:48:05.788134"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 01:48:05.795025"], ["updated_at", "2018-06-18 01:48:05.795025"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 01:48:05.809098"], ["updated_at", "2018-06-18 01:48:05.809098"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 01:48:05.814533"], ["updated_at", "2018-06-18 01:48:05.814533"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 01:48:05.818120"], ["updated_at", "2018-06-18 01:48:05.818120"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 01:48:05.822915"], ["updated_at", "2018-06-18 01:48:05.822915"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 01:48:05.828258"], ["updated_at", "2018-06-18 01:48:05.828258"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 01:48:05.832940"], ["updated_at", "2018-06-18 01:48:05.832940"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 01:48:05.836777"], ["updated_at", "2018-06-18 01:48:05.836777"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 01:48:05.840820"], ["updated_at", "2018-06-18 01:48:05.840820"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 01:48:05.888863"], ["updated_at", "2018-06-18 01:48:05.888863"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 10], ["created_at", "2018-06-18 01:48:05.900361"], ["updated_at", "2018-06-18 01:48:05.900361"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 9], ["created_at", "2018-06-18 01:48:05.907668"], ["updated_at", "2018-06-18 01:48:05.907668"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 01:48:05.915269"], ["updated_at", "2018-06-18 01:48:05.915269"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (40.0ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (7.4ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 01:49:43.415597"], ["updated_at", "2018-06-18 01:49:43.415597"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 01:49:43.420653"], ["updated_at", "2018-06-18 01:49:43.420653"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 01:49:43.426009"], ["updated_at", "2018-06-18 01:49:43.426009"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 01:49:43.431035"], ["updated_at", "2018-06-18 01:49:43.431035"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 01:49:43.435025"], ["updated_at", "2018-06-18 01:49:43.435025"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 01:49:43.439884"], ["updated_at", "2018-06-18 01:49:43.439884"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 01:49:43.444985"], ["updated_at", "2018-06-18 01:49:43.444985"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 01:49:43.449843"], ["updated_at", "2018-06-18 01:49:43.449843"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 01:49:43.455194"], ["updated_at", "2018-06-18 01:49:43.455194"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 01:49:43.462907"], ["updated_at", "2018-06-18 01:49:43.462907"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 01:49:43.517852"], ["updated_at", "2018-06-18 01:49:43.517852"]]
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 01:49:43.560647"], ["updated_at", "2018-06-18 01:49:43.560647"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (25.7ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (7.6ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 02:39:19.532020"], ["updated_at", "2018-06-18 02:39:19.532020"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 02:39:19.539209"], ["updated_at", "2018-06-18 02:39:19.539209"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 02:39:19.542864"], ["updated_at", "2018-06-18 02:39:19.542864"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 02:39:19.546384"], ["updated_at", "2018-06-18 02:39:19.546384"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 02:39:19.549660"], ["updated_at", "2018-06-18 02:39:19.549660"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 02:39:19.555094"], ["updated_at", "2018-06-18 02:39:19.555094"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 02:39:19.559571"], ["updated_at", "2018-06-18 02:39:19.559571"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 02:39:19.564062"], ["updated_at", "2018-06-18 02:39:19.564062"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 02:39:19.569351"], ["updated_at", "2018-06-18 02:39:19.569351"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 02:39:19.573377"], ["updated_at", "2018-06-18 02:39:19.573377"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 02:39:19.666469"], ["updated_at", "2018-06-18 02:39:19.666469"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 02:39:19.675664"], ["updated_at", "2018-06-18 02:39:19.675664"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 3], ["created_at", "2018-06-18 02:39:19.683866"], ["updated_at", "2018-06-18 02:39:19.683866"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 4], ["created_at", "2018-06-18 02:39:19.691933"], ["updated_at", "2018-06-18 02:39:19.691933"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.208 at 2018-06-17 21:47:15 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290030211-a75a7096-a723-47c8-b463-956e91aaf20c", "sg_event_id"=>"JAncA1n5Rkyn_4nPdlURfg", "sg_message_id"=>"Y14HCO0bQ0mpEtlw5L58NA.filter0036p3las1-832-5B271D32-B.0", "smtp-id"=>"<Y14HCO0bQ0mpEtlw5L58NA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529290034}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529290030211-a75a7096-a723-47c8-b463-956e91aaf20c", "response"=>"250 2.0.0 OK 1529290035 y126-v6si47411qke.6 - gsmtp", "sg_event_id"=>"IbkXo5kOQEquI5OTTWDHyw", "sg_message_id"=>"Y14HCO0bQ0mpEtlw5L58NA.filter0036p3las1-832-5B271D32-B.0", "smtp-id"=>"<Y14HCO0bQ0mpEtlw5L58NA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529290035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290030211-a75a7096-a723-47c8-b463-956e91aaf20c", "sg_event_id"=>"JAncA1n5Rkyn_4nPdlURfg", "sg_message_id"=>"Y14HCO0bQ0mpEtlw5L58NA.filter0036p3las1-832-5B271D32-B.0", "smtp-id"=>"<Y14HCO0bQ0mpEtlw5L58NA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529290034}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529290030211-a75a7096-a723-47c8-b463-956e91aaf20c", "response"=>"250 2.0.0 OK 1529290035 y126-v6si47411qke.6 - gsmtp", "sg_event_id"=>"IbkXo5kOQEquI5OTTWDHyw", "sg_message_id"=>"Y14HCO0bQ0mpEtlw5L58NA.filter0036p3las1-832-5B271D32-B.0", "smtp-id"=>"<Y14HCO0bQ0mpEtlw5L58NA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529290035, "tls"=>1}]}}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.208 at 2018-06-17 21:48:07 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288105758-b806d96c-8232-417f-b75d-1c6f7a2d1341", "sg_event_id"=>"oYlx8Se3TDm9HlT-ox2kOA", "sg_message_id"=>"UGsmG4IxTYS7MxoQyYmIwg.filter0072p3las1-27066-5B2715B0-3.0", "smtp-id"=>"<UGsmG4IxTYS7MxoQyYmIwg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529288112}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529288105758-b806d96c-8232-417f-b75d-1c6f7a2d1341", "response"=>"250 2.0.0 OK 1529288113 y34-v6si13314240qty.119 - gsmtp", "sg_event_id"=>"v6dH00O_ToOohd6qtPcfEg", "sg_message_id"=>"UGsmG4IxTYS7MxoQyYmIwg.filter0072p3las1-27066-5B2715B0-3.0", "smtp-id"=>"<UGsmG4IxTYS7MxoQyYmIwg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529288113, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288105758-b806d96c-8232-417f-b75d-1c6f7a2d1341", "sg_event_id"=>"oYlx8Se3TDm9HlT-ox2kOA", "sg_message_id"=>"UGsmG4IxTYS7MxoQyYmIwg.filter0072p3las1-27066-5B2715B0-3.0", "smtp-id"=>"<UGsmG4IxTYS7MxoQyYmIwg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529288112}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529288105758-b806d96c-8232-417f-b75d-1c6f7a2d1341", "response"=>"250 2.0.0 OK 1529288113 y34-v6si13314240qty.119 - gsmtp", "sg_event_id"=>"v6dH00O_ToOohd6qtPcfEg", "sg_message_id"=>"UGsmG4IxTYS7MxoQyYmIwg.filter0072p3las1-27066-5B2715B0-3.0", "smtp-id"=>"<UGsmG4IxTYS7MxoQyYmIwg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529288113, "tls"=>1}]}}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)


Started GET "/webhooks/sendgrid" for 190.248.183.35 at 2018-06-17 21:48:17 -0500
Processing by WebhooksController#sendgrid as HTML
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `first' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started GET "/favicon.ico" for 190.248.183.35 at 2018-06-17 21:48:20 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/sendgrid" for 167.89.121.217 at 2018-06-17 21:51:50 -0500
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
Started POST "/webhooks/sendgrid" for 167.89.121.217 at 2018-06-17 21:52:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "sg_event_id"=>"4KOUKSdFTeevUerJ6TufYA", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288375}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "response"=>"250 2.0.0 OK 1529288376 s13-v6si13729794qvk.21 - gsmtp", "sg_event_id"=>"LaU3T9yxTz68BIy2cTjgkg", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288376, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "sg_event_id"=>"4KOUKSdFTeevUerJ6TufYA", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288375}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "response"=>"250 2.0.0 OK 1529288376 s13-v6si13729794qvk.21 - gsmtp", "sg_event_id"=>"LaU3T9yxTz68BIy2cTjgkg", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288376, "tls"=>1}]}}
Started POST "/webhooks/sendgrid" for 167.89.121.230 at 2018-06-17 21:53:34 -0500
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (36.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (39.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 27], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (3.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
  [1m[35m (40.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxSendgridMailInfo Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[35m (12.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (5.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mGlxMail Load (2.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (27.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0"], ["glx_mail_id", 29], ["created_at", "2018-06-18 02:53:36.269344"], ["updated_at", "2018-06-18 02:53:36.269344"]]
  [1m[35mSQL (43.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0"], ["glx_mail_id", 29], ["created_at", "2018-06-18 02:53:36.259410"], ["updated_at", "2018-06-18 02:53:36.259410"]]
  [1m[35mSQL (17.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0"], ["glx_mail_id", 27], ["created_at", "2018-06-18 02:53:36.284696"], ["updated_at", "2018-06-18 02:53:36.284696"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2975.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.225 at 2018-06-17 21:56:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
  [1m[35m (200186.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 21:56:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
Completed 500 Internal Server Error in 201694ms (ActiveRecord: 125.8ms)


  
NoMethodError (undefined method `get_status_from_initial_status_and_action' for #<Class:0x0000000363d780>):
  
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Completed 500 Internal Server Error in 305067ms (ActiveRecord: 3145.1ms)


  
Completed 500 Internal Server Error in 244218ms (ActiveRecord: 201486.3ms)


  
NoMethodError (undefined method `get_status_from_initial_status_and_action' for #<Class:0x0000000363d780>):
  
app/controllers/webhooks_controller.rb:18:in `sendgrid'
  [1m[36mGlxMail Load (3.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
NoMethodError (undefined method `get_status_from_initial_status_and_action' for #<Class:0x0000000363d780>):
  
app/controllers/webhooks_controller.rb:18:in `sendgrid'
  [1m[36mGlxMail Load (4.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 520ms (ActiveRecord: 220.9ms)


  [1m[36mGlxSendgridMailInfo Exists (10.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  
NoMethodError (undefined method `get_status_from_initial_status_and_action' for #<Class:0x0000000363d780>):
  
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Completed 500 Internal Server Error in 614ms (ActiveRecord: 326.4ms)


  
NoMethodError (undefined method `get_status_from_initial_status_and_action' for #<Class:0x0000000363d780>):
  
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-17 22:11:29 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
  [1m[36mGlxMail Load (3.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 54622ms (ActiveRecord: 39.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.76 at 2018-06-17 22:12:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "sg_event_id"=>"u30DtMe-SkKYpK5sktCVbA", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287769}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "response"=>"250 2.0.0 OK 1529287770 a26-v6si3592813qtj.326 - gsmtp", "sg_event_id"=>"COr-SI0ITCCO4dBLQ4u48Q", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287770, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "sg_event_id"=>"u30DtMe-SkKYpK5sktCVbA", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287769}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "response"=>"250 2.0.0 OK 1529287770 a26-v6si3592813qtj.326 - gsmtp", "sg_event_id"=>"COr-SI0ITCCO4dBLQ4u48Q", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287770, "tls"=>1}]}}
  [1m[36mGlxMail Load (3.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 24], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0"], ["glx_mail_id", 24], ["created_at", "2018-06-18 03:13:15.808761"], ["updated_at", "2018-06-18 03:13:15.808761"]]
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 38915ms (ActiveRecord: 54.8ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.253 at 2018-06-17 22:14:41 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0"], ["glx_mail_id", 30], ["created_at", "2018-06-18 03:14:45.565418"], ["updated_at", "2018-06-18 03:14:45.565418"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7618ms (ActiveRecord: 33.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.247 at 2018-06-17 22:14:51 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-17 22:15:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62032ms (ActiveRecord: 12.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:18:in `sendgrid'
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (8.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 103ms (ActiveRecord: 30.3ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:18:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.249 at 2018-06-17 22:17:07 -0500
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
Started POST "/webhooks/sendgrid" for 167.89.121.253 at 2018-06-17 22:17:36 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMachineStatus Load (37.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31005ms (ActiveRecord: 2595.9ms)


  [1m[36mGlxMail Load (56.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[36mGlxSendgridMailInfo Exists (24.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (96.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4635ms (ActiveRecord: 222.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (63.6ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (7.0ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 03:18:00.155440"], ["updated_at", "2018-06-18 03:18:00.155440"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 03:18:00.160878"], ["updated_at", "2018-06-18 03:18:00.160878"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:18:00.165106"], ["updated_at", "2018-06-18 03:18:00.165106"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:18:00.169513"], ["updated_at", "2018-06-18 03:18:00.169513"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 03:18:00.173782"], ["updated_at", "2018-06-18 03:18:00.173782"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 03:18:00.178116"], ["updated_at", "2018-06-18 03:18:00.178116"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 03:18:00.190072"], ["updated_at", "2018-06-18 03:18:00.190072"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 03:18:00.201149"], ["updated_at", "2018-06-18 03:18:00.201149"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:18:00.206220"], ["updated_at", "2018-06-18 03:18:00.206220"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:18:00.210113"], ["updated_at", "2018-06-18 03:18:00.210113"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 03:18:00.214988"], ["updated_at", "2018-06-18 03:18:00.214988"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 03:18:00.269128"], ["updated_at", "2018-06-18 03:18:00.269128"]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 03:18:00.300837"], ["updated_at", "2018-06-18 03:18:00.300837"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 03:18:00.306749"], ["updated_at", "2018-06-18 03:18:00.306749"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 03:18:00.314159"], ["updated_at", "2018-06-18 03:18:00.314159"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 03:18:00.320926"], ["updated_at", "2018-06-18 03:18:00.320926"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.215 at 2018-06-17 22:18:37 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291913654-25794be9-1d3b-4016-881c-679d6d44a3ee", "sg_event_id"=>"MbnaVHK3QL2XEG0WrVIAgA", "sg_message_id"=>"uhTwmxfZTV23BAjHlu_J8A.filter0048p3las1-20566-5B27248D-12.0", "smtp-id"=>"<uhTwmxfZTV23BAjHlu_J8A@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529291917}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529291913654-25794be9-1d3b-4016-881c-679d6d44a3ee", "response"=>"250 2.0.0 OK 1529291918 w38-v6si13064227qtc.330 - gsmtp", "sg_event_id"=>"jDiOruMsS5685Y3QIQTN_g", "sg_message_id"=>"uhTwmxfZTV23BAjHlu_J8A.filter0048p3las1-20566-5B27248D-12.0", "smtp-id"=>"<uhTwmxfZTV23BAjHlu_J8A@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529291918, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291913654-25794be9-1d3b-4016-881c-679d6d44a3ee", "sg_event_id"=>"MbnaVHK3QL2XEG0WrVIAgA", "sg_message_id"=>"uhTwmxfZTV23BAjHlu_J8A.filter0048p3las1-20566-5B27248D-12.0", "smtp-id"=>"<uhTwmxfZTV23BAjHlu_J8A@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529291917}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529291913654-25794be9-1d3b-4016-881c-679d6d44a3ee", "response"=>"250 2.0.0 OK 1529291918 w38-v6si13064227qtc.330 - gsmtp", "sg_event_id"=>"jDiOruMsS5685Y3QIQTN_g", "sg_message_id"=>"uhTwmxfZTV23BAjHlu_J8A.filter0048p3las1-20566-5B27248D-12.0", "smtp-id"=>"<uhTwmxfZTV23BAjHlu_J8A@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529291918, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291913654-25794be9-1d3b-4016-881c-679d6d44a3ee"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 31], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "uhTwmxfZTV23BAjHlu_J8A.filter0048p3las1-20566-5B27248D-12.0"], ["glx_mail_id", 31], ["created_at", "2018-06-18 03:18:41.004741"], ["updated_at", "2018-06-18 03:18:41.004741"]]
  [1m[35m (138.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "31"], ["status_from_id", 2], ["action", "processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:18:48.981753"], ["updated_at", "2018-06-18 03:18:48.981753"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 31]]
  [1m[35m (43.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 10506ms (Views: 0.9ms | ActiveRecord: 230.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.203 at 2018-06-17 22:19:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-17 22:19:27 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (5.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (11.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMail Load (1328.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (35833.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
Completed 500 Internal Server Error in 38708ms (ActiveRecord: 37629.5ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[36mGlxMail Load (2.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (73.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (6.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "30"], ["status_from_id", 2], ["action", "processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:20:06.196124"], ["updated_at", "2018-06-18 03:20:06.196124"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 30]]
  [1m[35m (42.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 46889ms (Views: 0.2ms | ActiveRecord: 165.8ms)


Started POST "/webhooks/sendgrid" for 167.89.119.65 at 2018-06-17 22:20:33 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "sg_event_id"=>"qHzTPOE1Q9m44PJETF9IEA", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292034}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "sg_event_id"=>"qHzTPOE1Q9m44PJETF9IEA", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292034}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0"], ["glx_mail_id", 32], ["created_at", "2018-06-18 03:20:36.566871"], ["updated_at", "2018-06-18 03:20:36.566871"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.119.71 at 2018-06-17 22:20:46 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMachineStatus Load (7.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (48.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mGlxMail Load (3.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (14.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (7566.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (31.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (61.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11642ms (ActiveRecord: 172.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[35mSQL (33.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "32"], ["status_from_id", 2], ["action", "processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:20:58.301815"], ["updated_at", "2018-06-18 03:20:58.301815"]]
  [1m[35mSQL (87.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 32]]
  [1m[35m (94.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 24419ms (Views: 0.7ms | ActiveRecord: 10624.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.71 at 2018-06-17 22:21:39 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMail Load (8.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (8.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-17 22:21:46 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMachineStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9280ms (ActiveRecord: 3096.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[36mGlxMail Load (2.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (202.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 33], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (47.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0"], ["glx_mail_id", 33], ["created_at", "2018-06-18 03:21:49.940447"], ["updated_at", "2018-06-18 03:21:49.940447"]]
  [1m[35m (58.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (3.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-17 22:22:14 -0500
Started POST "/webhooks/sendgrid" for 167.89.121.213 at 2018-06-17 22:22:14 -0500
  [1m[35m (18.1ms)[0m  [1m[35mBEGIN[0m
Processing by WebhooksController#sendgrid as HTML
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (7.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (96.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (17.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[36mGlxMail Load (24.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3324ms (ActiveRecord: 168.3ms)


  [1m[36mGlxSendgridMailInfo Exists (36.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[36mGlxMachineStatus Load (73.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3673ms (ActiveRecord: 827.0ms)


  [1m[36mGlxStatus Load (82.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
  [1m[36mGlxStatus Load (166.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (84.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "33"], ["status_from_id", 2], ["action", "processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:22:20.004672"], ["updated_at", "2018-06-18 03:22:20.004672"]]
  [1m[35mSQL (164.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 33]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 34139ms (Views: 0.5ms | ActiveRecord: 2960.9ms)


Started POST "/webhooks/sendgrid" for 167.89.121.213 at 2018-06-17 22:22:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-17 22:24:34 -0500
Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-17 22:24:34 -0500
Started POST "/webhooks/sendgrid" for 167.89.119.85 at 2018-06-17 22:24:34 -0500
  [1m[36mGlxMail Load (3.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 33], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 101601ms (ActiveRecord: 5.2ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:19:in `sendgrid'
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529288387, "ip"=>"66.102.8.45", "sg_event_id"=>"NHVQlx2KT1mkumdXQmtPAQ", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529288387, "ip"=>"66.102.8.45", "sg_event_id"=>"NHVQlx2KT1mkumdXQmtPAQ", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"}]}}
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "sg_event_id"=>"4KOUKSdFTeevUerJ6TufYA", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288375}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "response"=>"250 2.0.0 OK 1529288376 s13-v6si13729794qvk.21 - gsmtp", "sg_event_id"=>"LaU3T9yxTz68BIy2cTjgkg", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288376, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "sg_event_id"=>"4KOUKSdFTeevUerJ6TufYA", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288375}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0", "response"=>"250 2.0.0 OK 1529288376 s13-v6si13729794qvk.21 - gsmtp", "sg_event_id"=>"LaU3T9yxTz68BIy2cTjgkg", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "smtp-id"=>"<Vnh762u0Tom-BU7ckxsMYg@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529288376, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (3.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (17.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 27], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (10.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (9.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 27], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 109ms (ActiveRecord: 26.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[36mGlxMachineStatus Load (66.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 170ms (ActiveRecord: 86.5ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[36mGlxMachineStatus Load (5.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (36.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "27"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:24:34.759525"], ["updated_at", "2018-06-18 03:24:34.759525"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 27]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 524ms (Views: 0.2ms | ActiveRecord: 183.3ms)


Started POST "/webhooks/sendgrid" for 167.89.119.63 at 2018-06-17 22:25:08 -0500
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 108ms (ActiveRecord: 19.2ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.63 at 2018-06-17 22:25:10 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292306919-ca366d82-ece8-40d0-bfaf-59955cbcc930", "sg_event_id"=>"lpPvwmrkTH633A5PDbz8uQ", "sg_message_id"=>"YfWUtJhHRoiZU2ZfUUJmBg.filter0014p3iad2-7299-5B272617-4.0", "smtp-id"=>"<YfWUtJhHRoiZU2ZfUUJmBg@ismtpd0002p1iad2.sendgrid.net>", "timestamp"=>1529292311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529292306919-ca366d82-ece8-40d0-bfaf-59955cbcc930", "response"=>"250 2.0.0 OK 1529292312 t64-v6si778158qki.335 - gsmtp", "sg_event_id"=>"Iry95YdcT3agLNi5znFC1w", "sg_message_id"=>"YfWUtJhHRoiZU2ZfUUJmBg.filter0014p3iad2-7299-5B272617-4.0", "smtp-id"=>"<YfWUtJhHRoiZU2ZfUUJmBg@ismtpd0002p1iad2.sendgrid.net>", "timestamp"=>1529292312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292306919-ca366d82-ece8-40d0-bfaf-59955cbcc930", "sg_event_id"=>"lpPvwmrkTH633A5PDbz8uQ", "sg_message_id"=>"YfWUtJhHRoiZU2ZfUUJmBg.filter0014p3iad2-7299-5B272617-4.0", "smtp-id"=>"<YfWUtJhHRoiZU2ZfUUJmBg@ismtpd0002p1iad2.sendgrid.net>", "timestamp"=>1529292311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529292306919-ca366d82-ece8-40d0-bfaf-59955cbcc930", "response"=>"250 2.0.0 OK 1529292312 t64-v6si778158qki.335 - gsmtp", "sg_event_id"=>"Iry95YdcT3agLNi5znFC1w", "sg_message_id"=>"YfWUtJhHRoiZU2ZfUUJmBg.filter0014p3iad2-7299-5B272617-4.0", "smtp-id"=>"<YfWUtJhHRoiZU2ZfUUJmBg@ismtpd0002p1iad2.sendgrid.net>", "timestamp"=>1529292312, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292306919-ca366d82-ece8-40d0-bfaf-59955cbcc930"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (7.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 34], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "YfWUtJhHRoiZU2ZfUUJmBg.filter0014p3iad2-7299-5B272617-4.0"], ["glx_mail_id", 34], ["created_at", "2018-06-18 03:25:10.535071"], ["updated_at", "2018-06-18 03:25:10.535071"]]
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (10.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (23.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "34"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:25:10.823659"], ["updated_at", "2018-06-18 03:25:10.823659"]]
  [1m[35mSQL (4.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 34]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 439ms (Views: 1.8ms | ActiveRecord: 131.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.249 at 2018-06-17 22:26:20 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 33], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 4.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.225 at 2018-06-17 22:26:27 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (6.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 58ms (ActiveRecord: 7.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.225 at 2018-06-17 22:26:37 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.5ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-17 22:27:06 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "sg_event_id"=>"Tf82GAc_Sc663XA-3GZeiw", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290311}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50", "response"=>"250 2.0.0 OK 1529290312 x6-v6si1802097qvn.14 - gsmtp", "sg_event_id"=>"V7Xe0QfJRC-gOi3PeDA9rg", "sg_message_id"=>"wY5zMpCfRPCjBjgKhxqm6w.filter0073p3las1-12866-5B271E46-25.0", "smtp-id"=>"<wY5zMpCfRPCjBjgKhxqm6w@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529290312, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529290306656-12b5ee75-eaf5-41f0-be06-aca68665dc50"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (4.4ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "29"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:27:06.152633"], ["updated_at", "2018-06-18 03:27:06.152633"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 29]]
  [1m[35m (44.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 67.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.75 at 2018-06-17 22:27:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 3.4ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.5ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (9.8ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 03:28:13.861086"], ["updated_at", "2018-06-18 03:28:13.861086"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 03:28:13.865880"], ["updated_at", "2018-06-18 03:28:13.865880"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:28:13.871203"], ["updated_at", "2018-06-18 03:28:13.871203"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:28:13.875816"], ["updated_at", "2018-06-18 03:28:13.875816"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 03:28:13.880948"], ["updated_at", "2018-06-18 03:28:13.880948"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 03:28:13.886773"], ["updated_at", "2018-06-18 03:28:13.886773"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 03:28:13.891442"], ["updated_at", "2018-06-18 03:28:13.891442"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 03:28:13.895577"], ["updated_at", "2018-06-18 03:28:13.895577"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:28:13.899505"], ["updated_at", "2018-06-18 03:28:13.899505"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:28:13.904502"], ["updated_at", "2018-06-18 03:28:13.904502"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 03:28:13.908827"], ["updated_at", "2018-06-18 03:28:13.908827"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 03:28:13.954940"], ["updated_at", "2018-06-18 03:28:13.954940"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 03:28:13.962428"], ["updated_at", "2018-06-18 03:28:13.962428"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 03:28:13.972111"], ["updated_at", "2018-06-18 03:28:13.972111"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 03:28:13.980691"], ["updated_at", "2018-06-18 03:28:13.980691"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 03:28:13.988889"], ["updated_at", "2018-06-18 03:28:13.988889"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.247 at 2018-06-17 22:28:23 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 22:40:22 -0500
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0"], ["glx_mail_id", 2], ["created_at", "2018-06-18 03:40:22.795285"], ["updated_at", "2018-06-18 03:40:22.795285"]]
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 166ms (ActiveRecord: 48.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:40:32 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (11.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 65ms (ActiveRecord: 26.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:40:47 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 22:41:07 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 22:41:07 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:41:17 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0"], ["glx_mail_id", 1], ["created_at", "2018-06-18 03:41:17.073864"], ["updated_at", "2018-06-18 03:41:17.073864"]]
  [1m[35m (34.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 104ms (ActiveRecord: 40.7ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 22:41:17 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "sg_event_id"=>"xnS8B534QXGnI_6F4m8Iwg", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293070}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "sg_event_id"=>"xnS8B534QXGnI_6F4m8Iwg", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293070}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.2ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (14.0ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 03:41:26.451223"], ["updated_at", "2018-06-18 03:41:26.451223"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 03:41:26.458127"], ["updated_at", "2018-06-18 03:41:26.458127"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:41:26.462363"], ["updated_at", "2018-06-18 03:41:26.462363"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:41:26.468063"], ["updated_at", "2018-06-18 03:41:26.468063"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 03:41:26.472475"], ["updated_at", "2018-06-18 03:41:26.472475"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 03:41:26.477100"], ["updated_at", "2018-06-18 03:41:26.477100"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 03:41:26.481254"], ["updated_at", "2018-06-18 03:41:26.481254"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 03:41:26.486531"], ["updated_at", "2018-06-18 03:41:26.486531"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:41:26.491275"], ["updated_at", "2018-06-18 03:41:26.491275"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:41:26.496028"], ["updated_at", "2018-06-18 03:41:26.496028"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 03:41:26.501009"], ["updated_at", "2018-06-18 03:41:26.501009"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 03:41:26.546490"], ["updated_at", "2018-06-18 03:41:26.546490"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 03:41:26.556085"], ["updated_at", "2018-06-18 03:41:26.556085"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 03:41:26.564786"], ["updated_at", "2018-06-18 03:41:26.564786"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 03:41:26.573482"], ["updated_at", "2018-06-18 03:41:26.573482"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 03:41:26.581496"], ["updated_at", "2018-06-18 03:41:26.581496"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 22:41:57 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293307312-3ec3ad73-b6a9-4926-b7cf-b07c0ebfb577", "sg_event_id"=>"V_ytS77QT3u1hBth6trUtQ", "sg_message_id"=>"4-dRRoZ3RxCTJcheRsCrRA.filter0088p3las1-30408-5B272A04-15.0", "smtp-id"=>"<4-dRRoZ3RxCTJcheRsCrRA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529293316}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293307312-3ec3ad73-b6a9-4926-b7cf-b07c0ebfb577", "response"=>"250 2.0.0 OK 1529293317 t2-v6si13254125qva.11 - gsmtp", "sg_event_id"=>"CKhVqXhLRBWfgGtHinmrYw", "sg_message_id"=>"4-dRRoZ3RxCTJcheRsCrRA.filter0088p3las1-30408-5B272A04-15.0", "smtp-id"=>"<4-dRRoZ3RxCTJcheRsCrRA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529293317, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293307312-3ec3ad73-b6a9-4926-b7cf-b07c0ebfb577", "sg_event_id"=>"V_ytS77QT3u1hBth6trUtQ", "sg_message_id"=>"4-dRRoZ3RxCTJcheRsCrRA.filter0088p3las1-30408-5B272A04-15.0", "smtp-id"=>"<4-dRRoZ3RxCTJcheRsCrRA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529293316}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293307312-3ec3ad73-b6a9-4926-b7cf-b07c0ebfb577", "response"=>"250 2.0.0 OK 1529293317 t2-v6si13254125qva.11 - gsmtp", "sg_event_id"=>"CKhVqXhLRBWfgGtHinmrYw", "sg_message_id"=>"4-dRRoZ3RxCTJcheRsCrRA.filter0088p3las1-30408-5B272A04-15.0", "smtp-id"=>"<4-dRRoZ3RxCTJcheRsCrRA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529293317, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293307312-3ec3ad73-b6a9-4926-b7cf-b07c0ebfb577"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "4-dRRoZ3RxCTJcheRsCrRA.filter0088p3las1-30408-5B272A04-15.0"], ["glx_mail_id", 3], ["created_at", "2018-06-18 03:41:58.242595"], ["updated_at", "2018-06-18 03:41:58.242595"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "3"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:41:58.344410"], ["updated_at", "2018-06-18 03:41:58.344410"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 3]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 265ms (Views: 0.2ms | ActiveRecord: 38.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:42:09 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}]}}
  [1m[36mGlxMail Load (3.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 58ms (ActiveRecord: 13.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:42:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "sg_event_id"=>"M6Tz0LSQTTuL_lMTfwEerw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293223}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:42:23.547907"], ["updated_at", "2018-06-18 03:42:23.547907"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 2]]
  [1m[35m (154.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 194ms (Views: 0.2ms | ActiveRecord: 161.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-17 22:43:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "sg_event_id"=>"xnS8B534QXGnI_6F4m8Iwg", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293070}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "sg_event_id"=>"xnS8B534QXGnI_6F4m8Iwg", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293070}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (5.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:43:24.699498"], ["updated_at", "2018-06-18 03:43:24.699498"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 13.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.240 at 2018-06-17 22:43:29 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 29ms (ActiveRecord: 4.3ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.240 at 2018-06-17 22:43:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.6ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (12.3ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 03:44:54.969187"], ["updated_at", "2018-06-18 03:44:54.969187"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 03:44:54.975606"], ["updated_at", "2018-06-18 03:44:54.975606"]]
  [1m[35m (80.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:44:55.059042"], ["updated_at", "2018-06-18 03:44:55.059042"]]
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:44:55.077352"], ["updated_at", "2018-06-18 03:44:55.077352"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 03:44:55.083191"], ["updated_at", "2018-06-18 03:44:55.083191"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 03:44:55.089470"], ["updated_at", "2018-06-18 03:44:55.089470"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 03:44:55.093955"], ["updated_at", "2018-06-18 03:44:55.093955"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 03:44:55.099025"], ["updated_at", "2018-06-18 03:44:55.099025"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:44:55.103229"], ["updated_at", "2018-06-18 03:44:55.103229"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:44:55.107185"], ["updated_at", "2018-06-18 03:44:55.107185"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 03:44:55.111369"], ["updated_at", "2018-06-18 03:44:55.111369"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 03:44:55.160025"], ["updated_at", "2018-06-18 03:44:55.160025"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 03:44:55.168504"], ["updated_at", "2018-06-18 03:44:55.168504"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 03:44:55.177749"], ["updated_at", "2018-06-18 03:44:55.177749"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 03:44:55.184805"], ["updated_at", "2018-06-18 03:44:55.184805"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 03:44:55.192844"], ["updated_at", "2018-06-18 03:44:55.192844"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 03:44:55.200392"], ["updated_at", "2018-06-18 03:44:55.200392"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.203 at 2018-06-17 22:45:39 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582", "sg_event_id"=>"oIIgvVFOSbW4GYiMFQmadQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "smtp-id"=>"<0ypuP9IqTK-hMW700fd_ZQ@ismtpd0017p1iad2.sendgrid.net>", "timestamp"=>1529293537}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582", "sg_event_id"=>"oIIgvVFOSbW4GYiMFQmadQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "smtp-id"=>"<0ypuP9IqTK-hMW700fd_ZQ@ismtpd0017p1iad2.sendgrid.net>", "timestamp"=>1529293537}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0"], ["glx_mail_id", 4], ["created_at", "2018-06-18 03:45:39.997515"], ["updated_at", "2018-06-18 03:45:39.997515"]]
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "4"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:45:40.152875"], ["updated_at", "2018-06-18 03:45:40.152875"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 4]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 265ms (Views: 0.1ms | ActiveRecord: 91.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.253 at 2018-06-17 22:45:45 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582", "response"=>"250 2.0.0 OK 1529293538 s4-v6si12527098qve.74 - gsmtp", "sg_event_id"=>"kPle3OA4TGu3cnji2vO2UA", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "smtp-id"=>"<0ypuP9IqTK-hMW700fd_ZQ@ismtpd0017p1iad2.sendgrid.net>", "timestamp"=>1529293538, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582", "response"=>"250 2.0.0 OK 1529293538 s4-v6si12527098qve.74 - gsmtp", "sg_event_id"=>"kPle3OA4TGu3cnji2vO2UA", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "smtp-id"=>"<0ypuP9IqTK-hMW700fd_ZQ@ismtpd0017p1iad2.sendgrid.net>", "timestamp"=>1529293538, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "4"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 03:45:45.234535"], ["updated_at", "2018-06-18 03:45:45.234535"]]
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 4]]
  [1m[35m (33.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 111ms (Views: 0.2ms | ActiveRecord: 58.9ms)


Started POST "/webhooks/sendgrid" for 167.89.121.202 at 2018-06-17 22:45:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a", "response"=>"250 2.0.0 OK 1529293224 h12-v6si115904qtc.262 - gsmtp", "sg_event_id"=>"rMZ1IthER3a05wguKPuiAw", "sg_message_id"=>"lfmluR4kREmiwJ8sFnPB5w.filter0046p3las1-4752-5B2729A6-18.0", "smtp-id"=>"<lfmluR4kREmiwJ8sFnPB5w@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529293224, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293217014-54b7ded5-675a-4628-8624-b739b9503d7a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (7.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 03:45:52.145403"], ["updated_at", "2018-06-18 03:45:52.145403"]]
  [1m[35mSQL (4.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 2]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 90ms (Views: 0.4ms | ActiveRecord: 41.0ms)


Started POST "/webhooks/sendgrid" for 167.89.119.72 at 2018-06-17 22:46:55 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.236 at 2018-06-17 22:46:55 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.246 at 2018-06-17 22:47:33 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26", "response"=>"250 2.0.0 OK 1529293071 g16-v6si2835342qtb.44 - gsmtp", "sg_event_id"=>"u1H3kdJsTTm-sIWjJT_q_A", "sg_message_id"=>"sLT-HcEoQbqFfPCc3FaWBw.filter0039p3las1-11140-5B27290E-20.0", "smtp-id"=>"<sLT-HcEoQbqFfPCc3FaWBw@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529293071, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293064549-36d3290b-0ff4-46fb-94cd-937141306a26"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (8.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (13.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 03:47:33.373594"], ["updated_at", "2018-06-18 03:47:33.373594"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 91ms (Views: 0.1ms | ActiveRecord: 42.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-17 22:47:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.202 at 2018-06-17 22:48:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.250 at 2018-06-17 22:49:34 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 35ms (ActiveRecord: 3.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.250 at 2018-06-17 22:49:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 8.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.251 at 2018-06-17 22:50:24 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 74ms (ActiveRecord: 14.6ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (41.6ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (8.2ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 03:50:57.651570"], ["updated_at", "2018-06-18 03:50:57.651570"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 03:50:57.656922"], ["updated_at", "2018-06-18 03:50:57.656922"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:50:57.662296"], ["updated_at", "2018-06-18 03:50:57.662296"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:50:57.666007"], ["updated_at", "2018-06-18 03:50:57.666007"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 03:50:57.669397"], ["updated_at", "2018-06-18 03:50:57.669397"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 03:50:57.673436"], ["updated_at", "2018-06-18 03:50:57.673436"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 03:50:57.678431"], ["updated_at", "2018-06-18 03:50:57.678431"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 03:50:57.682311"], ["updated_at", "2018-06-18 03:50:57.682311"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 03:50:57.685699"], ["updated_at", "2018-06-18 03:50:57.685699"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 03:50:57.690247"], ["updated_at", "2018-06-18 03:50:57.690247"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 03:50:57.694337"], ["updated_at", "2018-06-18 03:50:57.694337"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 03:50:57.740038"], ["updated_at", "2018-06-18 03:50:57.740038"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 03:50:57.749378"], ["updated_at", "2018-06-18 03:50:57.749378"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 03:50:57.757035"], ["updated_at", "2018-06-18 03:50:57.757035"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 03:50:57.765378"], ["updated_at", "2018-06-18 03:50:57.765378"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 03:50:57.772746"], ["updated_at", "2018-06-18 03:50:57.772746"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 03:50:57.779975"], ["updated_at", "2018-06-18 03:50:57.779975"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 03:50:57.787530"], ["updated_at", "2018-06-18 03:50:57.787530"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.119.74 at 2018-06-17 22:52:22 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa", "sg_event_id"=>"t5E6TBN5QcC4qHXidG0qOg", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "smtp-id"=>"<YTPnHgNxRVS1z9Z_GyO3yA@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529293944}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa", "sg_event_id"=>"t5E6TBN5QcC4qHXidG0qOg", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "smtp-id"=>"<YTPnHgNxRVS1z9Z_GyO3yA@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529293944}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0"], ["glx_mail_id", 5], ["created_at", "2018-06-18 03:52:23.218237"], ["updated_at", "2018-06-18 03:52:23.218237"]]
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "5"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 03:52:23.406953"], ["updated_at", "2018-06-18 03:52:23.406953"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 5]]
  [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 347ms (Views: 0.4ms | ActiveRecord: 101.5ms)


Started POST "/webhooks/sendgrid" for 167.89.119.79 at 2018-06-17 22:52:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa", "response"=>"250 2.0.0 OK 1529293945 h8-v6si13599499qth.227 - gsmtp", "sg_event_id"=>"Nrv_-LQXTUuINB2E7NH-NQ", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "smtp-id"=>"<YTPnHgNxRVS1z9Z_GyO3yA@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529293945, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa", "response"=>"250 2.0.0 OK 1529293945 h8-v6si13599499qth.227 - gsmtp", "sg_event_id"=>"Nrv_-LQXTUuINB2E7NH-NQ", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "smtp-id"=>"<YTPnHgNxRVS1z9Z_GyO3yA@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529293945, "tls"=>1}]}}
Started POST "/webhooks/sendgrid" for 167.89.125.227 at 2018-06-17 22:52:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529293584, "ip"=>"66.102.8.41", "sg_event_id"=>"s3pcm92-SGC_KQ7QQC87TQ", "sg_message_id"=>"0ypuP9IqTK-hMW700fd_ZQ.filter0044p3las1-5081-5B272AE0-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"}]}}
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMail Load (2.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293532615-9587d495-9a31-4a8d-a365-8cf0299ab582"], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (4.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (13.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (7.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (9.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (5.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "4"], ["status_from_id", 7], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 03:52:34.515237"], ["updated_at", "2018-06-18 03:52:34.515237"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 4]]
  [1m[36mGlxStatus Load (45.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "5"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 03:52:34.529928"], ["updated_at", "2018-06-18 03:52:34.529928"]]
  [1m[35mSQL (6.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 5]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 137ms (Views: 0.2ms | ActiveRecord: 73.6ms)


  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 152ms (Views: 0.2ms | ActiveRecord: 91.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.240 at 2018-06-17 22:54:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294059, "ip"=>"66.102.8.63", "sg_event_id"=>"Fol39aIrRrWY83NbNk6ijg", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294059, "ip"=>"66.102.8.63", "sg_event_id"=>"Fol39aIrRrWY83NbNk6ijg", "sg_message_id"=>"YTPnHgNxRVS1z9Z_GyO3yA.filter0022p3iad2-27969-5B272C78-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529293940555-745ac002-7a47-46d5-9d79-bc9ccfc8a4fa"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "5"], ["status_from_id", 7], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 03:54:50.689546"], ["updated_at", "2018-06-18 03:54:50.689546"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 5]]
  [1m[35m (46.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 110ms (Views: 0.2ms | ActiveRecord: 55.6ms)


Started POST "/webhooks/sendgrid" for 167.89.119.71 at 2018-06-17 22:54:59 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.221 at 2018-06-17 22:55:54 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.203 at 2018-06-17 22:58:30 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f", "sg_event_id"=>"eQCKpuCISquCK4_9uXnSuA", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "smtp-id"=>"<zAybtX4xTdS99W3b8zsmOg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529286920}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f", "response"=>"250 2.0.0 OK 1529286922 141-v6si517366qki.314 - gsmtp", "sg_event_id"=>"pwVGEeyMRiGbZO-QPKVsBQ", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "smtp-id"=>"<zAybtX4xTdS99W3b8zsmOg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529286922, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f", "sg_event_id"=>"eQCKpuCISquCK4_9uXnSuA", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "smtp-id"=>"<zAybtX4xTdS99W3b8zsmOg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529286920}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f", "response"=>"250 2.0.0 OK 1529286922 141-v6si517366qki.314 - gsmtp", "sg_event_id"=>"pwVGEeyMRiGbZO-QPKVsBQ", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "smtp-id"=>"<zAybtX4xTdS99W3b8zsmOg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529286922, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.82 at 2018-06-17 23:01:31 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294482754-cefeb245-ee63-466a-b006-e832f6485a18", "sg_event_id"=>"Q7EbHJ3gQKK3QyuVF8EH5A", "sg_message_id"=>"azna_FnHR2SaU4E3Eo0VTA.filter0015p3iad2-4895-5B272E98-1A.0", "smtp-id"=>"<azna_FnHR2SaU4E3Eo0VTA@ismtpd0014p1iad2.sendgrid.net>", "timestamp"=>1529294488}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529294482754-cefeb245-ee63-466a-b006-e832f6485a18", "response"=>"250 2.0.0 OK 1529294489 27-v6si13343703qvm.125 - gsmtp", "sg_event_id"=>"fhvg8IB9QCu1eNwU6f8CWA", "sg_message_id"=>"azna_FnHR2SaU4E3Eo0VTA.filter0015p3iad2-4895-5B272E98-1A.0", "smtp-id"=>"<azna_FnHR2SaU4E3Eo0VTA@ismtpd0014p1iad2.sendgrid.net>", "timestamp"=>1529294489, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294482754-cefeb245-ee63-466a-b006-e832f6485a18", "sg_event_id"=>"Q7EbHJ3gQKK3QyuVF8EH5A", "sg_message_id"=>"azna_FnHR2SaU4E3Eo0VTA.filter0015p3iad2-4895-5B272E98-1A.0", "smtp-id"=>"<azna_FnHR2SaU4E3Eo0VTA@ismtpd0014p1iad2.sendgrid.net>", "timestamp"=>1529294488}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529294482754-cefeb245-ee63-466a-b006-e832f6485a18", "response"=>"250 2.0.0 OK 1529294489 27-v6si13343703qvm.125 - gsmtp", "sg_event_id"=>"fhvg8IB9QCu1eNwU6f8CWA", "sg_message_id"=>"azna_FnHR2SaU4E3Eo0VTA.filter0015p3iad2-4895-5B272E98-1A.0", "smtp-id"=>"<azna_FnHR2SaU4E3Eo0VTA@ismtpd0014p1iad2.sendgrid.net>", "timestamp"=>1529294489, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294482754-cefeb245-ee63-466a-b006-e832f6485a18"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "azna_FnHR2SaU4E3Eo0VTA.filter0015p3iad2-4895-5B272E98-1A.0"], ["glx_mail_id", 6], ["created_at", "2018-06-18 04:01:31.759955"], ["updated_at", "2018-06-18 04:01:31.759955"]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (3.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (7.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "6"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:01:31.806333"], ["updated_at", "2018-06-18 04:01:31.806333"]]
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 6]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 2.1ms | ActiveRecord: 31.6ms)


Started POST "/webhooks/sendgrid" for 167.89.119.82 at 2018-06-17 23:01:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.71 at 2018-06-17 23:02:40 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294557141-36570895-d878-40dc-8e58-02dba13f56ed", "sg_event_id"=>"5myhYmXORW2zelRZKTjS7g", "sg_message_id"=>"QVuWwAdsTCSs0dkmjs5Nsg.filter0023p3iad2-28332-5B272EE1-2E.0", "smtp-id"=>"<QVuWwAdsTCSs0dkmjs5Nsg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529294561}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529294557141-36570895-d878-40dc-8e58-02dba13f56ed", "response"=>"250 2.0.0 OK 1529294562 d13-v6si11330751qvn.206 - gsmtp", "sg_event_id"=>"EL6c9qsKQly_jYrQYSMh3Q", "sg_message_id"=>"QVuWwAdsTCSs0dkmjs5Nsg.filter0023p3iad2-28332-5B272EE1-2E.0", "smtp-id"=>"<QVuWwAdsTCSs0dkmjs5Nsg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529294562, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294557141-36570895-d878-40dc-8e58-02dba13f56ed", "sg_event_id"=>"5myhYmXORW2zelRZKTjS7g", "sg_message_id"=>"QVuWwAdsTCSs0dkmjs5Nsg.filter0023p3iad2-28332-5B272EE1-2E.0", "smtp-id"=>"<QVuWwAdsTCSs0dkmjs5Nsg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529294561}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529294557141-36570895-d878-40dc-8e58-02dba13f56ed", "response"=>"250 2.0.0 OK 1529294562 d13-v6si11330751qvn.206 - gsmtp", "sg_event_id"=>"EL6c9qsKQly_jYrQYSMh3Q", "sg_message_id"=>"QVuWwAdsTCSs0dkmjs5Nsg.filter0023p3iad2-28332-5B272EE1-2E.0", "smtp-id"=>"<QVuWwAdsTCSs0dkmjs5Nsg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529294562, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294557141-36570895-d878-40dc-8e58-02dba13f56ed"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (5.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (3.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "QVuWwAdsTCSs0dkmjs5Nsg.filter0023p3iad2-28332-5B272EE1-2E.0"], ["glx_mail_id", 7], ["created_at", "2018-06-18 04:02:40.247758"], ["updated_at", "2018-06-18 04:02:40.247758"]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (5.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "7"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:02:40.337445"], ["updated_at", "2018-06-18 04:02:40.337445"]]
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 7]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 187ms (Views: 0.3ms | ActiveRecord: 44.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.212 at 2018-06-17 23:03:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5", "sg_event_id"=>"ICc-1Nm6SHGKLSJZnQqXYA", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "smtp-id"=>"<M71AOI1tT0OAXCeLQnv3HA@ismtpd0047p1mdw1.sendgrid.net>", "timestamp"=>1529287181}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5", "response"=>"250 2.0.0 OK 1529287182 e26-v6si4527345qvb.180 - gsmtp", "sg_event_id"=>"pSKRE5DlSP6qT51Yf-mjLQ", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "smtp-id"=>"<M71AOI1tT0OAXCeLQnv3HA@ismtpd0047p1mdw1.sendgrid.net>", "timestamp"=>1529287182, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5", "sg_event_id"=>"ICc-1Nm6SHGKLSJZnQqXYA", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "smtp-id"=>"<M71AOI1tT0OAXCeLQnv3HA@ismtpd0047p1mdw1.sendgrid.net>", "timestamp"=>1529287181}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5", "response"=>"250 2.0.0 OK 1529287182 e26-v6si4527345qvb.180 - gsmtp", "sg_event_id"=>"pSKRE5DlSP6qT51Yf-mjLQ", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "smtp-id"=>"<M71AOI1tT0OAXCeLQnv3HA@ismtpd0047p1mdw1.sendgrid.net>", "timestamp"=>1529287182, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-17 23:03:41 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529287163, "ip"=>"66.102.8.63", "sg_event_id"=>"KS_qxwoBQFy_msETG3VGXA", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529287163, "ip"=>"66.102.8.63", "sg_event_id"=>"KS_qxwoBQFy_msETG3VGXA", "sg_message_id"=>"zAybtX4xTdS99W3b8zsmOg.filter0082p3las1-31150-5B271108-13.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529286914467-58954017-b1ad-4d30-be65-4d177cd5273f"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.68 at 2018-06-17 23:04:04 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294631510-ade85bca-71d4-4109-a252-52036bb2e842", "sg_event_id"=>"s1c62dAqSsKHT026LDoYwg", "sg_message_id"=>"zGf39r0qRLCZPs15R_1stA.filter0040p3iad2-30624-5B272F2B-1C.0", "smtp-id"=>"<zGf39r0qRLCZPs15R_1stA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529294635}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529294631510-ade85bca-71d4-4109-a252-52036bb2e842", "response"=>"250 2.0.0 OK 1529294636 t1-v6si344225qvc.208 - gsmtp", "sg_event_id"=>"XJapzLDETzi4yqExrgkjIw", "sg_message_id"=>"zGf39r0qRLCZPs15R_1stA.filter0040p3iad2-30624-5B272F2B-1C.0", "smtp-id"=>"<zGf39r0qRLCZPs15R_1stA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529294636, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294631510-ade85bca-71d4-4109-a252-52036bb2e842", "sg_event_id"=>"s1c62dAqSsKHT026LDoYwg", "sg_message_id"=>"zGf39r0qRLCZPs15R_1stA.filter0040p3iad2-30624-5B272F2B-1C.0", "smtp-id"=>"<zGf39r0qRLCZPs15R_1stA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529294635}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529294631510-ade85bca-71d4-4109-a252-52036bb2e842", "response"=>"250 2.0.0 OK 1529294636 t1-v6si344225qvc.208 - gsmtp", "sg_event_id"=>"XJapzLDETzi4yqExrgkjIw", "sg_message_id"=>"zGf39r0qRLCZPs15R_1stA.filter0040p3iad2-30624-5B272F2B-1C.0", "smtp-id"=>"<zGf39r0qRLCZPs15R_1stA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529294636, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294631510-ade85bca-71d4-4109-a252-52036bb2e842"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "zGf39r0qRLCZPs15R_1stA.filter0040p3iad2-30624-5B272F2B-1C.0"], ["glx_mail_id", 8], ["created_at", "2018-06-18 04:04:04.462178"], ["updated_at", "2018-06-18 04:04:04.462178"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "8"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:04:04.512093"], ["updated_at", "2018-06-18 04:04:04.512093"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 8]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 78ms (Views: 7.5ms | ActiveRecord: 40.3ms)


Started POST "/webhooks/sendgrid" for 167.89.125.212 at 2018-06-17 23:06:09 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529287313, "ip"=>"66.102.8.43", "sg_event_id"=>"VwJgsyekR9ypKyZ9i5VWWg", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529287313, "ip"=>"66.102.8.43", "sg_event_id"=>"VwJgsyekR9ypKyZ9i5VWWg", "sg_message_id"=>"M71AOI1tT0OAXCeLQnv3HA.filter0079p3las1-25902-5B27120D-8.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287174699-e12675ee-23a4-4b50-bab3-0e4b5189c7f5"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.64 at 2018-06-17 23:06:17 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287393202-d64363b9-1f00-48fe-875c-d0548bda5575", "sg_event_id"=>"G_60Ks4ATPmUT2_QZ3twGQ", "sg_message_id"=>"BFFs5le0QfGJRcUOqGxy-g.filter0006p3iad2-31295-5B2712E8-9.0", "smtp-id"=>"<BFFs5le0QfGJRcUOqGxy-g@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529287400}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529287393202-d64363b9-1f00-48fe-875c-d0548bda5575", "response"=>"250 2.0.0 OK 1529287401 m43-v6si13395293qtc.259 - gsmtp", "sg_event_id"=>"LKI4r7lxSEqWstjzhkwp-A", "sg_message_id"=>"BFFs5le0QfGJRcUOqGxy-g.filter0006p3iad2-31295-5B2712E8-9.0", "smtp-id"=>"<BFFs5le0QfGJRcUOqGxy-g@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529287401, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287393202-d64363b9-1f00-48fe-875c-d0548bda5575", "sg_event_id"=>"G_60Ks4ATPmUT2_QZ3twGQ", "sg_message_id"=>"BFFs5le0QfGJRcUOqGxy-g.filter0006p3iad2-31295-5B2712E8-9.0", "smtp-id"=>"<BFFs5le0QfGJRcUOqGxy-g@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529287400}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529287393202-d64363b9-1f00-48fe-875c-d0548bda5575", "response"=>"250 2.0.0 OK 1529287401 m43-v6si13395293qtc.259 - gsmtp", "sg_event_id"=>"LKI4r7lxSEqWstjzhkwp-A", "sg_message_id"=>"BFFs5le0QfGJRcUOqGxy-g.filter0006p3iad2-31295-5B2712E8-9.0", "smtp-id"=>"<BFFs5le0QfGJRcUOqGxy-g@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529287401, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287393202-d64363b9-1f00-48fe-875c-d0548bda5575"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.3ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.215 at 2018-06-17 23:08:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2", "sg_event_id"=>"31yq127IS7K8XuUMVoQitw", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "smtp-id"=>"<ALngDZe8QnGdyaIYtOv92A@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529294889}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2", "response"=>"250 2.0.0 OK 1529294890 f186-v6si12946079qkc.404 - gsmtp", "sg_event_id"=>"5cNjvyWXQXSrRlN4m6HM_A", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "smtp-id"=>"<ALngDZe8QnGdyaIYtOv92A@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529294890, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2", "sg_event_id"=>"31yq127IS7K8XuUMVoQitw", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "smtp-id"=>"<ALngDZe8QnGdyaIYtOv92A@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529294889}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2", "response"=>"250 2.0.0 OK 1529294890 f186-v6si12946079qkc.404 - gsmtp", "sg_event_id"=>"5cNjvyWXQXSrRlN4m6HM_A", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "smtp-id"=>"<ALngDZe8QnGdyaIYtOv92A@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529294890, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0"], ["glx_mail_id", 9], ["created_at", "2018-06-18 04:08:08.554692"], ["updated_at", "2018-06-18 04:08:08.554692"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (4.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "9"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:08:08.593034"], ["updated_at", "2018-06-18 04:08:08.593034"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 9]]
  [1m[35m (107.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 171ms (Views: 0.2ms | ActiveRecord: 121.8ms)


Started POST "/webhooks/sendgrid" for 167.89.125.221 at 2018-06-17 23:09:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-17 23:09:47 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294982468-151a711e-0ee9-45b2-ae49-60799eac677c", "sg_event_id"=>"wvQreEL2Rt-o-VKlYDMaNg", "sg_message_id"=>"fBuKKO8ESn2qBjrKtgIQKQ.filter0042p3las1-3053-5B27308B-3.0", "smtp-id"=>"<fBuKKO8ESn2qBjrKtgIQKQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529294987}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529294982468-151a711e-0ee9-45b2-ae49-60799eac677c", "response"=>"250 2.0.0 OK 1529294988 h5-v6si1499499qkd.22 - gsmtp", "sg_event_id"=>"DzRHptD2ThGG3HiELY9BOQ", "sg_message_id"=>"fBuKKO8ESn2qBjrKtgIQKQ.filter0042p3las1-3053-5B27308B-3.0", "smtp-id"=>"<fBuKKO8ESn2qBjrKtgIQKQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529294988, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529294982468-151a711e-0ee9-45b2-ae49-60799eac677c", "sg_event_id"=>"wvQreEL2Rt-o-VKlYDMaNg", "sg_message_id"=>"fBuKKO8ESn2qBjrKtgIQKQ.filter0042p3las1-3053-5B27308B-3.0", "smtp-id"=>"<fBuKKO8ESn2qBjrKtgIQKQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529294987}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529294982468-151a711e-0ee9-45b2-ae49-60799eac677c", "response"=>"250 2.0.0 OK 1529294988 h5-v6si1499499qkd.22 - gsmtp", "sg_event_id"=>"DzRHptD2ThGG3HiELY9BOQ", "sg_message_id"=>"fBuKKO8ESn2qBjrKtgIQKQ.filter0042p3las1-3053-5B27308B-3.0", "smtp-id"=>"<fBuKKO8ESn2qBjrKtgIQKQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529294988, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294982468-151a711e-0ee9-45b2-ae49-60799eac677c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 10], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "fBuKKO8ESn2qBjrKtgIQKQ.filter0042p3las1-3053-5B27308B-3.0"], ["glx_mail_id", 10], ["created_at", "2018-06-18 04:09:47.889334"], ["updated_at", "2018-06-18 04:09:47.889334"]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "10"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:09:47.943110"], ["updated_at", "2018-06-18 04:09:47.943110"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 10]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (Views: 0.2ms | ActiveRecord: 13.9ms)


Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-17 23:10:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-17 23:11:26 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 118ms (ActiveRecord: 30.2ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (42.4ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (66.9ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 04:12:05.508063"], ["updated_at", "2018-06-18 04:12:05.508063"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 04:12:05.513042"], ["updated_at", "2018-06-18 04:12:05.513042"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:12:05.517173"], ["updated_at", "2018-06-18 04:12:05.517173"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:12:05.522085"], ["updated_at", "2018-06-18 04:12:05.522085"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 04:12:05.525984"], ["updated_at", "2018-06-18 04:12:05.525984"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 04:12:05.529419"], ["updated_at", "2018-06-18 04:12:05.529419"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 04:12:05.533240"], ["updated_at", "2018-06-18 04:12:05.533240"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 04:12:05.536974"], ["updated_at", "2018-06-18 04:12:05.536974"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:12:05.542611"], ["updated_at", "2018-06-18 04:12:05.542611"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:12:05.546182"], ["updated_at", "2018-06-18 04:12:05.546182"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 04:12:05.551347"], ["updated_at", "2018-06-18 04:12:05.551347"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 04:12:05.631969"], ["updated_at", "2018-06-18 04:12:05.631969"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 04:12:05.661018"], ["updated_at", "2018-06-18 04:12:05.661018"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 04:12:05.672730"], ["updated_at", "2018-06-18 04:12:05.672730"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 04:12:05.679631"], ["updated_at", "2018-06-18 04:12:05.679631"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 04:12:05.688037"], ["updated_at", "2018-06-18 04:12:05.688037"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 04:12:05.695447"], ["updated_at", "2018-06-18 04:12:05.695447"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:12:05.704885"], ["updated_at", "2018-06-18 04:12:05.704885"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.125.246 at 2018-06-17 23:13:06 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 94ms (ActiveRecord: 28.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.70 at 2018-06-17 23:13:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "sg_event_id"=>"u30DtMe-SkKYpK5sktCVbA", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287769}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "response"=>"250 2.0.0 OK 1529287770 a26-v6si3592813qtj.326 - gsmtp", "sg_event_id"=>"COr-SI0ITCCO4dBLQ4u48Q", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287770, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "sg_event_id"=>"u30DtMe-SkKYpK5sktCVbA", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287769}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458", "response"=>"250 2.0.0 OK 1529287770 a26-v6si3592813qtj.326 - gsmtp", "sg_event_id"=>"COr-SI0ITCCO4dBLQ4u48Q", "sg_message_id"=>"FXB1HBhSSuSGdn6zzfbsAQ.filter0046p3iad2-20085-5B271459-7.0", "smtp-id"=>"<FXB1HBhSSuSGdn6zzfbsAQ@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529287770, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287762947-9f121439-f3ea-4607-a3db-b2caee8b4458"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 52ms (ActiveRecord: 15.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.85 at 2018-06-17 23:14:00 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8", "sg_event_id"=>"Z-eoVn0kTYWVsAdIRBJWug", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "smtp-id"=>"<qAK33a_xRAqtqq4E1kZptA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529295239}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8", "response"=>"250 2.0.0 OK 1529295240 q32-v6si3632427qvq.271 - gsmtp", "sg_event_id"=>"cXhp2kKdR1Wz1jp5uNqx7g", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "smtp-id"=>"<qAK33a_xRAqtqq4E1kZptA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529295240, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8", "sg_event_id"=>"Z-eoVn0kTYWVsAdIRBJWug", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "smtp-id"=>"<qAK33a_xRAqtqq4E1kZptA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529295239}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8", "response"=>"250 2.0.0 OK 1529295240 q32-v6si3632427qvq.271 - gsmtp", "sg_event_id"=>"cXhp2kKdR1Wz1jp5uNqx7g", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "smtp-id"=>"<qAK33a_xRAqtqq4E1kZptA@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529295240, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0"], ["glx_mail_id", 11], ["created_at", "2018-06-18 04:14:00.534852"], ["updated_at", "2018-06-18 04:14:00.534852"]]
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (4.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "11"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:14:00.690478"], ["updated_at", "2018-06-18 04:14:00.690478"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 11]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 229ms (Views: 0.5ms | ActiveRecord: 90.3ms)


Started POST "/webhooks/sendgrid" for 167.89.125.202 at 2018-06-17 23:15:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.246 at 2018-06-17 23:16:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287979524-ea141d5b-4728-408e-8529-c56365a56042", "sg_event_id"=>"tBFssfYaTfK637UX4gbYkQ", "sg_message_id"=>"8WvHhxuQTS6FsGS5GcEFtg.filter0045p3las1-27567-5B271531-11.0", "smtp-id"=>"<8WvHhxuQTS6FsGS5GcEFtg@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529287985}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529287979524-ea141d5b-4728-408e-8529-c56365a56042", "response"=>"250 2.0.0 OK 1529287986 o10-v6si2031366qto.347 - gsmtp", "sg_event_id"=>"CyPMb4RAR0KnQ1y83STpbA", "sg_message_id"=>"8WvHhxuQTS6FsGS5GcEFtg.filter0045p3las1-27567-5B271531-11.0", "smtp-id"=>"<8WvHhxuQTS6FsGS5GcEFtg@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529287986, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529287979524-ea141d5b-4728-408e-8529-c56365a56042", "sg_event_id"=>"tBFssfYaTfK637UX4gbYkQ", "sg_message_id"=>"8WvHhxuQTS6FsGS5GcEFtg.filter0045p3las1-27567-5B271531-11.0", "smtp-id"=>"<8WvHhxuQTS6FsGS5GcEFtg@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529287985}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529287979524-ea141d5b-4728-408e-8529-c56365a56042", "response"=>"250 2.0.0 OK 1529287986 o10-v6si2031366qto.347 - gsmtp", "sg_event_id"=>"CyPMb4RAR0KnQ1y83STpbA", "sg_message_id"=>"8WvHhxuQTS6FsGS5GcEFtg.filter0045p3las1-27567-5B271531-11.0", "smtp-id"=>"<8WvHhxuQTS6FsGS5GcEFtg@ismtpd0048p1mdw1.sendgrid.net>", "timestamp"=>1529287986, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529287979524-ea141d5b-4728-408e-8529-c56365a56042"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.71 at 2018-06-17 23:17:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0", "sg_event_id"=>"niaFegVOR-mehYH7FczNhg", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "smtp-id"=>"<Xlvpvl9tR1GN7nw6tlc_9Q@ismtpd0040p1mdw1.sendgrid.net>", "timestamp"=>1529295456}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0", "response"=>"250 2.0.0 OK 1529295457 j37-v6si8947821qtc.35 - gsmtp", "sg_event_id"=>"r5KPdcfqQQSmgjBOgyd0kA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "smtp-id"=>"<Xlvpvl9tR1GN7nw6tlc_9Q@ismtpd0040p1mdw1.sendgrid.net>", "timestamp"=>1529295457, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0", "sg_event_id"=>"niaFegVOR-mehYH7FczNhg", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "smtp-id"=>"<Xlvpvl9tR1GN7nw6tlc_9Q@ismtpd0040p1mdw1.sendgrid.net>", "timestamp"=>1529295456}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0", "response"=>"250 2.0.0 OK 1529295457 j37-v6si8947821qtc.35 - gsmtp", "sg_event_id"=>"r5KPdcfqQQSmgjBOgyd0kA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "smtp-id"=>"<Xlvpvl9tR1GN7nw6tlc_9Q@ismtpd0040p1mdw1.sendgrid.net>", "timestamp"=>1529295457, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0"], ["glx_mail_id", 1], ["created_at", "2018-06-18 04:17:42.258627"], ["updated_at", "2018-06-18 04:17:42.258627"]]
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (7.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:17:42.339218"], ["updated_at", "2018-06-18 04:17:42.339218"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 103ms (Views: 0.2ms | ActiveRecord: 65.8ms)


Started POST "/webhooks/sendgrid" for 167.89.125.234 at 2018-06-17 23:19:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.8ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.202 at 2018-06-17 23:19:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}]}}
  [1m[36mGlxMail Load (2.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.210 at 2018-06-17 23:19:26 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-17 23:19:49 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.245 at 2018-06-17 23:19:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.3ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:20:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.225 at 2018-06-17 23:19:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.207 at 2018-06-17 23:20:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}]}}
  [1m[36mGlxMail Load (3.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (57.4ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (13.9ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 04:21:10.082378"], ["updated_at", "2018-06-18 04:21:10.082378"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 04:21:10.087970"], ["updated_at", "2018-06-18 04:21:10.087970"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:21:10.093575"], ["updated_at", "2018-06-18 04:21:10.093575"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:21:10.098602"], ["updated_at", "2018-06-18 04:21:10.098602"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 04:21:10.103672"], ["updated_at", "2018-06-18 04:21:10.103672"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 04:21:10.108891"], ["updated_at", "2018-06-18 04:21:10.108891"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 04:21:10.114967"], ["updated_at", "2018-06-18 04:21:10.114967"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 04:21:10.119233"], ["updated_at", "2018-06-18 04:21:10.119233"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:21:10.124834"], ["updated_at", "2018-06-18 04:21:10.124834"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:21:10.130931"], ["updated_at", "2018-06-18 04:21:10.130931"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 04:21:10.135567"], ["updated_at", "2018-06-18 04:21:10.135567"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 04:21:10.191825"], ["updated_at", "2018-06-18 04:21:10.191825"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 04:21:10.202860"], ["updated_at", "2018-06-18 04:21:10.202860"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 04:21:10.212096"], ["updated_at", "2018-06-18 04:21:10.212096"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 04:21:10.218853"], ["updated_at", "2018-06-18 04:21:10.218853"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 04:21:10.227590"], ["updated_at", "2018-06-18 04:21:10.227590"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 04:21:10.235786"], ["updated_at", "2018-06-18 04:21:10.235786"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:21:10.244143"], ["updated_at", "2018-06-18 04:21:10.244143"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Open"], ["final_status_id", 5], ["created_at", "2018-06-18 04:21:10.251961"], ["updated_at", "2018-06-18 04:21:10.251961"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.125.239 at 2018-06-17 23:21:33 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.7ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.203 at 2018-06-17 23:22:43 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"k8jYpeHyRyuyakHlneq1bA", "sg_message_id"=>"Xlvpvl9tR1GN7nw6tlc_9Q.filter0052p3iad2-887-5B273260-1B.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"}]}}
  [1m[36mGlxMail Load (1.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295452523-e3233a08-9406-40df-a7a0-060f140c3be0"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 5], ["created_at", "2018-06-18 04:22:43.652052"], ["updated_at", "2018-06-18 04:22:43.652052"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 393ms (Views: 6.7ms | ActiveRecord: 62.1ms)


Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-17 23:23:01 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca", "sg_event_id"=>"fEmiueOnQG6-775Bhmmy6A", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "smtp-id"=>"<wT96xflFQx-yGylArbxZ0Q@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529295776}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca", "response"=>"250 2.0.0 OK 1529295777 o187-v6si3515383qkf.285 - gsmtp", "sg_event_id"=>"ix88WKsHRhueSyPg2PjBNg", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "smtp-id"=>"<wT96xflFQx-yGylArbxZ0Q@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529295777, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca", "sg_event_id"=>"fEmiueOnQG6-775Bhmmy6A", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "smtp-id"=>"<wT96xflFQx-yGylArbxZ0Q@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529295776}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.238", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca", "response"=>"250 2.0.0 OK 1529295777 o187-v6si3515383qkf.285 - gsmtp", "sg_event_id"=>"ix88WKsHRhueSyPg2PjBNg", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "smtp-id"=>"<wT96xflFQx-yGylArbxZ0Q@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529295777, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (10.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0"], ["glx_mail_id", 2], ["created_at", "2018-06-18 04:23:01.471009"], ["updated_at", "2018-06-18 04:23:01.471009"]]
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:23:01.528315"], ["updated_at", "2018-06-18 04:23:01.528315"]]
  [1m[35mSQL (8.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 136ms (Views: 0.2ms | ActiveRecord: 52.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.212 at 2018-06-17 23:23:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}]}}
  [1m[36mGlxMail Load (5.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 5.7ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/webhooks_controller.rb:9:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.236 at 2018-06-17 23:24:43 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529288387, "ip"=>"66.102.8.45", "sg_event_id"=>"NHVQlx2KT1mkumdXQmtPAQ", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529288387, "ip"=>"66.102.8.45", "sg_event_id"=>"NHVQlx2KT1mkumdXQmtPAQ", "sg_message_id"=>"Vnh762u0Tom-BU7ckxsMYg.filter0079p3las1-25902-5B2716B7-6.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529288369136-e2553b61-456f-4d40-bb92-544100ac23a0"], ["LIMIT", 1]]
Completed 204 No Content in 49ms (ActiveRecord: 3.4ms)


Started POST "/webhooks/sendgrid" for 167.89.119.67 at 2018-06-17 23:25:09 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044", "response"=>"250 2.0.0 OK 1529292035 r139-v6si4487413qke.356 - gsmtp", "sg_event_id"=>"P4yOWW1zQf-sWsyFWt2qIw", "sg_message_id"=>"Ylv00lBRSc2LbYR1rAoRwQ.filter0040p3iad2-30624-5B272502-9.0", "smtp-id"=>"<Ylv00lBRSc2LbYR1rAoRwQ@ismtpd0003p1iad1.sendgrid.net>", "timestamp"=>1529292035, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292030102-17c83c9e-4e56-4726-9ea3-47f274bcc044"], ["LIMIT", 1]]
Completed 204 No Content in 59ms (ActiveRecord: 11.0ms)


Started POST "/webhooks/sendgrid" for 167.89.125.252 at 2018-06-17 23:25:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295528, "ip"=>"66.102.8.45", "sg_event_id"=>"5r1U7K73RFmqL7kgUr2ofA", "sg_message_id"=>"qAK33a_xRAqtqq4E1kZptA.filter0011p3iad2-13803-5B273187-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"}]}}
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295235148-c7ca054b-786b-481e-8382-3f21191b93f8"], ["LIMIT", 1]]
Completed 204 No Content in 7ms (ActiveRecord: 1.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.218 at 2018-06-17 23:25:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295921, "ip"=>"66.102.8.35", "sg_event_id"=>"9xSCWKm_Qei3ckalqer-Ww", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295921, "ip"=>"66.102.8.35", "sg_event_id"=>"9xSCWKm_Qei3ckalqer-Ww", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 5], ["created_at", "2018-06-18 04:25:50.590072"], ["updated_at", "2018-06-18 04:25:50.590072"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 2]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 322ms (Views: 0.2ms | ActiveRecord: 60.8ms)


Started POST "/webhooks/sendgrid" for 167.89.125.211 at 2018-06-17 23:25:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (7.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 58ms (ActiveRecord: 9.8ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:21:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.220 at 2018-06-17 23:26:02 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "sg_event_id"=>"7OmLA2lbS1qzpA6JEB88_Q", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292101}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d", "response"=>"250 2.0.0 OK 1529292102 k129-v6si5149825qkb.0 - gsmtp", "sg_event_id"=>"wgnmkVNKRhuEWLsHwm09mQ", "sg_message_id"=>"Id9ILVasRgqYbE0b1_-cEw.filter0064p3las1-30701-5B272545-D.0", "smtp-id"=>"<Id9ILVasRgqYbE0b1_-cEw@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529292103, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292097039-06eda884-c579-421e-983a-778d5beb7d3d"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.241 at 2018-06-17 23:26:25 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (5.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 7.1ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:21:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.219 at 2018-06-17 23:27:35 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.4ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:21:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.125.230 at 2018-06-17 23:27:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529294953, "ip"=>"66.102.8.45", "sg_event_id"=>"qIAPPOQSR2uvs-cOjjPzbg", "sg_message_id"=>"ALngDZe8QnGdyaIYtOv92A.filter0031p3las1-22299-5B273028-2E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529294882989-5ffe3d1d-8db1-4133-b250-f90c0317a9c2"], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.224 at 2018-06-17 23:29:15 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (6.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 23ms (ActiveRecord: 8.9ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:21:in `sendgrid'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (46.2ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (9.2ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 04:29:52.215466"], ["updated_at", "2018-06-18 04:29:52.215466"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 04:29:52.221451"], ["updated_at", "2018-06-18 04:29:52.221451"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:29:52.226114"], ["updated_at", "2018-06-18 04:29:52.226114"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:29:52.230414"], ["updated_at", "2018-06-18 04:29:52.230414"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 04:29:52.235125"], ["updated_at", "2018-06-18 04:29:52.235125"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 04:29:52.241407"], ["updated_at", "2018-06-18 04:29:52.241407"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 04:29:52.246883"], ["updated_at", "2018-06-18 04:29:52.246883"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 04:29:52.251697"], ["updated_at", "2018-06-18 04:29:52.251697"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:29:52.257241"], ["updated_at", "2018-06-18 04:29:52.257241"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:29:52.261454"], ["updated_at", "2018-06-18 04:29:52.261454"]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 04:29:52.267685"], ["updated_at", "2018-06-18 04:29:52.267685"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 04:29:52.310778"], ["updated_at", "2018-06-18 04:29:52.310778"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 04:29:52.320885"], ["updated_at", "2018-06-18 04:29:52.320885"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 04:29:52.329287"], ["updated_at", "2018-06-18 04:29:52.329287"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 04:29:52.339443"], ["updated_at", "2018-06-18 04:29:52.339443"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 04:29:52.349141"], ["updated_at", "2018-06-18 04:29:52.349141"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 04:29:52.358734"], ["updated_at", "2018-06-18 04:29:52.358734"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:29:52.371343"], ["updated_at", "2018-06-18 04:29:52.371343"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:29:52.379445"], ["updated_at", "2018-06-18 04:29:52.379445"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 6], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:29:52.388290"], ["updated_at", "2018-06-18 04:29:52.388290"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.119.63 at 2018-06-17 23:31:02 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03", "sg_event_id"=>"Iv05zlseTUqfwVB0kOhd4Q", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "smtp-id"=>"<UzT7KBFdTSahIFxLTO8K9Q@ismtpd0030p1mdw1.sendgrid.net>", "timestamp"=>1529296254}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03", "response"=>"250 2.0.0 OK 1529296255 i49-v6si9061049qtf.45 - gsmtp", "sg_event_id"=>"dvOAlmkHRvmbk6TH04EXxg", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "smtp-id"=>"<UzT7KBFdTSahIFxLTO8K9Q@ismtpd0030p1mdw1.sendgrid.net>", "timestamp"=>1529296255, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03", "sg_event_id"=>"Iv05zlseTUqfwVB0kOhd4Q", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "smtp-id"=>"<UzT7KBFdTSahIFxLTO8K9Q@ismtpd0030p1mdw1.sendgrid.net>", "timestamp"=>1529296254}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03", "response"=>"250 2.0.0 OK 1529296255 i49-v6si9061049qtf.45 - gsmtp", "sg_event_id"=>"dvOAlmkHRvmbk6TH04EXxg", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "smtp-id"=>"<UzT7KBFdTSahIFxLTO8K9Q@ismtpd0030p1mdw1.sendgrid.net>", "timestamp"=>1529296255, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0"], ["glx_mail_id", 3], ["created_at", "2018-06-18 04:31:03.450119"], ["updated_at", "2018-06-18 04:31:03.450119"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "3"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:31:03.543794"], ["updated_at", "2018-06-18 04:31:03.543794"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 194ms (Views: 0.2ms | ActiveRecord: 46.2ms)


Started POST "/webhooks/sendgrid" for 167.89.125.248 at 2018-06-17 23:31:25 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 78ms (ActiveRecord: 28.0ms)


  
NoMethodError (undefined method `final_status_id' for nil:NilClass):
  
app/models/glx_machine_status.rb:9:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:21:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.80 at 2018-06-17 23:32:04 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "sg_event_id"=>"mvZqByG5T1qFTNOzF2rAAw", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292538}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3", "response"=>"250 2.0.0 OK 1529292539 c2-v6si54938qvb.53 - gsmtp", "sg_event_id"=>"rmr_uWVVQP2U_bdFKEtnug", "sg_message_id"=>"Muyy6QQnQOSWkBHXjSKjjA.filter0016p3iad2-3877-5B2726FA-7.0", "smtp-id"=>"<Muyy6QQnQOSWkBHXjSKjjA@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529292539, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529292533805-603f2869-172a-4fac-a6ce-7042ad95f2b3"], ["LIMIT", 1]]
Completed 204 No Content in 8ms (ActiveRecord: 1.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.238 at 2018-06-17 23:33:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296373, "ip"=>"66.102.8.35", "sg_event_id"=>"NT1r68IpQ0iDhjY_6i2ukQ", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296373, "ip"=>"66.102.8.35", "sg_event_id"=>"NT1r68IpQ0iDhjY_6i2ukQ", "sg_message_id"=>"UzT7KBFdTSahIFxLTO8K9Q.filter0042p3iad2-17828-5B27357E-7.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296249949-a04b8980-29bd-4ccf-890c-1d1b2eeccd03"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 3], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "3"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 04:33:24.818729"], ["updated_at", "2018-06-18 04:33:24.818729"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 3]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (Views: 0.1ms | ActiveRecord: 8.9ms)


Started POST "/webhooks/sendgrid" for 167.89.125.248 at 2018-06-17 23:35:35 -0500
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529295922, "ip"=>"66.102.8.45", "sg_event_id"=>"xaSlYk8eRdW71byfoBYzNw", "sg_message_id"=>"wT96xflFQx-yGylArbxZ0Q.filter0071p3las1-27488-5B2733A0-5.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"}]}}
  [1m[36mGlxMail Load (2.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (7.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
Error: Mail1529295772026-81aabf7c-bd00-409b-9b51-3c480eb599ca Open
Completed 200 OK in 104ms (Views: 0.2ms | ActiveRecord: 25.3ms)


Started POST "/webhooks/sendgrid" for 167.89.119.65 at 2018-06-17 23:38:33 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "sg_event_id"=>"LVKOjGtBQzuqJ7cJNOfmPw", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "smtp-id"=>"<Xl6FnE2HQIi2NBjJP3V23A@ismtpd0023p1mdw1.sendgrid.net>", "timestamp"=>1529296707}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "response"=>"250 2.0.0 OK 1529296707 w46-v6si2137983qtj.187 - gsmtp", "sg_event_id"=>"rSKmHubzSgadx7qa7ArmLA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "smtp-id"=>"<Xl6FnE2HQIi2NBjJP3V23A@ismtpd0023p1mdw1.sendgrid.net>", "timestamp"=>1529296707, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "sg_event_id"=>"LVKOjGtBQzuqJ7cJNOfmPw", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "smtp-id"=>"<Xl6FnE2HQIi2NBjJP3V23A@ismtpd0023p1mdw1.sendgrid.net>", "timestamp"=>1529296707}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "response"=>"250 2.0.0 OK 1529296707 w46-v6si2137983qtj.187 - gsmtp", "sg_event_id"=>"rSKmHubzSgadx7qa7ArmLA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "smtp-id"=>"<Xl6FnE2HQIi2NBjJP3V23A@ismtpd0023p1mdw1.sendgrid.net>", "timestamp"=>1529296707, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0"], ["glx_mail_id", 4], ["created_at", "2018-06-18 04:38:33.874817"], ["updated_at", "2018-06-18 04:38:33.874817"]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "4"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:38:34.002698"], ["updated_at", "2018-06-18 04:38:34.002698"]]
  [1m[35mSQL (7.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 4]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 73.3ms)


Started POST "/webhooks/sendgrid" for 167.89.125.216 at 2018-06-17 23:39:27 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296738, "ip"=>"66.102.8.43", "sg_event_id"=>"0dncagxFQX2-5JESDMMnAQ", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296738, "ip"=>"66.102.8.43", "sg_event_id"=>"0dncagxFQX2-5JESDMMnAQ", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "4"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 04:39:27.826749"], ["updated_at", "2018-06-18 04:39:27.826749"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 4]]
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 106ms (Views: 0.2ms | ActiveRecord: 62.2ms)


Started POST "/webhooks/sendgrid" for 167.89.125.226 at 2018-06-17 23:41:21 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296851, "ip"=>"66.102.8.43", "sg_event_id"=>"HiLF77fiQ1y0jIsYlplq1A", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296851, "ip"=>"66.102.8.43", "sg_event_id"=>"HiLF77fiQ1y0jIsYlplq1A", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 4.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.223 at 2018-06-17 23:43:30 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296980, "ip"=>"66.102.8.45", "sg_event_id"=>"yWUMGTSoR_y3CBOKlaQnAA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529296980, "ip"=>"66.102.8.45", "sg_event_id"=>"yWUMGTSoR_y3CBOKlaQnAA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"}]}}
  [1m[36mGlxMail Load (3.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 5.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-17 23:47:39 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"ip"=>"190.248.183.35", "sg_event_id"=>"PpV3cp7RT4GkaBojQB_iAA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "event"=>"click", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "url_offset"=>{"index"=>0, "type"=>"html"}, "email"=>"andersonav91@gmail.com", "timestamp"=>1529297227, "url"=>"https://www.glx.com/unsubscribe/72e7a90a-405d-4257-8b6b-4cb3c4766bef"}], "webhook"=>{"_json"=>[{"ip"=>"190.248.183.35", "sg_event_id"=>"PpV3cp7RT4GkaBojQB_iAA", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "event"=>"click", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "url_offset"=>{"index"=>0, "type"=>"html"}, "email"=>"andersonav91@gmail.com", "timestamp"=>1529297227, "url"=>"https://www.glx.com/unsubscribe/72e7a90a-405d-4257-8b6b-4cb3c4766bef"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'click') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
Error: Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24 Click 6
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 14.2ms)


Started POST "/webhooks/sendgrid" for 167.89.121.223 at 2018-06-17 23:49:02 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"ip"=>"190.248.183.35", "sg_event_id"=>"2bXCToEnSVOY0jpkXZWayw", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "event"=>"click", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "url_offset"=>{"index"=>0, "type"=>"html"}, "email"=>"andersonav91@gmail.com", "timestamp"=>1529297313, "url"=>"https://www.glx.com/unsubscribe/72e7a90a-405d-4257-8b6b-4cb3c4766bef"}], "webhook"=>{"_json"=>[{"ip"=>"190.248.183.35", "sg_event_id"=>"2bXCToEnSVOY0jpkXZWayw", "sg_message_id"=>"Xl6FnE2HQIi2NBjJP3V23A.filter0047p3iad2-10743-5B273743-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36", "event"=>"click", "mail_name"=>"Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24", "url_offset"=>{"index"=>0, "type"=>"html"}, "email"=>"andersonav91@gmail.com", "timestamp"=>1529297313, "url"=>"https://www.glx.com/unsubscribe/72e7a90a-405d-4257-8b6b-4cb3c4766bef"}]}}
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'click') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
Error: Mail1529296702742-33095bbf-a97c-4d3b-afbd-6a93c3093f24 Click 6
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 15.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.213 at 2018-06-17 23:52:15 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297526350-fe260540-29ef-47f5-bf00-4a0a920deefa", "sg_event_id"=>"tmqkC99NQ9iLJbzVx6KIAQ", "sg_message_id"=>"otQmmcaKRW-Wp6jW9KAUMA.filter0071p3las1-27488-5B273A7A-17.0", "smtp-id"=>"<otQmmcaKRW-Wp6jW9KAUMA@ismtpd0006p1iad2.sendgrid.net>", "timestamp"=>1529297530}, {"email"=>"andersonav91ssss@gmail.com", "event"=>"bounce", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529297526350-fe260540-29ef-47f5-bf00-4a0a920deefa", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser f5-v6si781649qve.92 - gsmtp", "sg_event_id"=>"C6w5SrnvRwu98xnHfmYXWQ", "sg_message_id"=>"otQmmcaKRW-Wp6jW9KAUMA.filter0071p3las1-27488-5B273A7A-17.0", "smtp-id"=>"<otQmmcaKRW-Wp6jW9KAUMA@ismtpd0006p1iad2.sendgrid.net>", "status"=>"550", "timestamp"=>1529297531, "tls"=>1, "type"=>"bounce"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297526350-fe260540-29ef-47f5-bf00-4a0a920deefa", "sg_event_id"=>"tmqkC99NQ9iLJbzVx6KIAQ", "sg_message_id"=>"otQmmcaKRW-Wp6jW9KAUMA.filter0071p3las1-27488-5B273A7A-17.0", "smtp-id"=>"<otQmmcaKRW-Wp6jW9KAUMA@ismtpd0006p1iad2.sendgrid.net>", "timestamp"=>1529297530}, {"email"=>"andersonav91ssss@gmail.com", "event"=>"bounce", "ip"=>"168.245.51.177", "mail_name"=>"Mail1529297526350-fe260540-29ef-47f5-bf00-4a0a920deefa", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser f5-v6si781649qve.92 - gsmtp", "sg_event_id"=>"C6w5SrnvRwu98xnHfmYXWQ", "sg_message_id"=>"otQmmcaKRW-Wp6jW9KAUMA.filter0071p3las1-27488-5B273A7A-17.0", "smtp-id"=>"<otQmmcaKRW-Wp6jW9KAUMA@ismtpd0006p1iad2.sendgrid.net>", "status"=>"550", "timestamp"=>1529297531, "tls"=>1, "type"=>"bounce"}]}}
  [1m[36mGlxMail Load (4.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529297526350-fe260540-29ef-47f5-bf00-4a0a920deefa"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (8.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 5], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (10.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (4.3ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "otQmmcaKRW-Wp6jW9KAUMA.filter0071p3las1-27488-5B273A7A-17.0"], ["glx_mail_id", 5], ["created_at", "2018-06-18 04:52:15.730393"], ["updated_at", "2018-06-18 04:52:15.730393"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (7.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "5"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:52:15.985369"], ["updated_at", "2018-06-18 04:52:15.985369"]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 5]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 360ms (Views: 0.2ms | ActiveRecord: 75.1ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (25.7ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (7.4ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 04:54:22.963561"], ["updated_at", "2018-06-18 04:54:22.963561"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 04:54:22.969787"], ["updated_at", "2018-06-18 04:54:22.969787"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:54:22.974183"], ["updated_at", "2018-06-18 04:54:22.974183"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:54:22.977956"], ["updated_at", "2018-06-18 04:54:22.977956"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 04:54:22.982041"], ["updated_at", "2018-06-18 04:54:22.982041"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 04:54:22.988030"], ["updated_at", "2018-06-18 04:54:22.988030"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 04:54:22.993234"], ["updated_at", "2018-06-18 04:54:22.993234"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 04:54:22.997538"], ["updated_at", "2018-06-18 04:54:22.997538"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:54:23.002818"], ["updated_at", "2018-06-18 04:54:23.002818"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:54:23.007393"], ["updated_at", "2018-06-18 04:54:23.007393"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 04:54:23.011809"], ["updated_at", "2018-06-18 04:54:23.011809"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 04:54:23.060275"], ["updated_at", "2018-06-18 04:54:23.060275"]]
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 04:54:23.109662"], ["updated_at", "2018-06-18 04:54:23.109662"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 04:54:23.119249"], ["updated_at", "2018-06-18 04:54:23.119249"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 04:54:23.129277"], ["updated_at", "2018-06-18 04:54:23.129277"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 04:54:23.140774"], ["updated_at", "2018-06-18 04:54:23.140774"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 04:54:23.148683"], ["updated_at", "2018-06-18 04:54:23.148683"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:54:23.158157"], ["updated_at", "2018-06-18 04:54:23.158157"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:54:23.168669"], ["updated_at", "2018-06-18 04:54:23.168669"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 6], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:54:23.178160"], ["updated_at", "2018-06-18 04:54:23.178160"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Bounce"], ["final_status_id", 8], ["created_at", "2018-06-18 04:54:23.189002"], ["updated_at", "2018-06-18 04:54:23.189002"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.237 at 2018-06-17 23:54:51 -0500
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529297681238-fbdca8d3-31f6-4dab-b1d9-a98d2c9e2109", "reason"=>"Bounced Address", "sg_event_id"=>"NFTBYcQjRcWPTY5Vg7Qs_A", "sg_message_id"=>"bDx8PCj_SyOBmO5jpjPpVg.filter0080p3las1-19933-5B273B15-6.0", "smtp-id"=>"<bDx8PCj_SyOBmO5jpjPpVg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529297685}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529297681238-fbdca8d3-31f6-4dab-b1d9-a98d2c9e2109", "reason"=>"Bounced Address", "sg_event_id"=>"NFTBYcQjRcWPTY5Vg7Qs_A", "sg_message_id"=>"bDx8PCj_SyOBmO5jpjPpVg.filter0080p3las1-19933-5B273B15-6.0", "smtp-id"=>"<bDx8PCj_SyOBmO5jpjPpVg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529297685}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529297681238-fbdca8d3-31f6-4dab-b1d9-a98d2c9e2109"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 6], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "bDx8PCj_SyOBmO5jpjPpVg.filter0080p3las1-19933-5B273B15-6.0"], ["glx_mail_id", 6], ["created_at", "2018-06-18 04:54:52.543984"], ["updated_at", "2018-06-18 04:54:52.543984"]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Error: Mail1529297681238-fbdca8d3-31f6-4dab-b1d9-a98d2c9e2109 Dropped 2
Completed 200 OK in 167ms (Views: 0.4ms | ActiveRecord: 47.2ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (29.3ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (39.7ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 04:57:13.381053"], ["updated_at", "2018-06-18 04:57:13.381053"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 04:57:13.386470"], ["updated_at", "2018-06-18 04:57:13.386470"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:57:13.391356"], ["updated_at", "2018-06-18 04:57:13.391356"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:57:13.397045"], ["updated_at", "2018-06-18 04:57:13.397045"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 04:57:13.401136"], ["updated_at", "2018-06-18 04:57:13.401136"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 04:57:13.405117"], ["updated_at", "2018-06-18 04:57:13.405117"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 04:57:13.411026"], ["updated_at", "2018-06-18 04:57:13.411026"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 04:57:13.415614"], ["updated_at", "2018-06-18 04:57:13.415614"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 04:57:13.419820"], ["updated_at", "2018-06-18 04:57:13.419820"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 04:57:13.423728"], ["updated_at", "2018-06-18 04:57:13.423728"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 04:57:13.429316"], ["updated_at", "2018-06-18 04:57:13.429316"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Dropped"], ["created_at", "2018-06-18 04:57:13.432821"], ["updated_at", "2018-06-18 04:57:13.432821"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 04:57:13.475220"], ["updated_at", "2018-06-18 04:57:13.475220"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 04:57:13.484075"], ["updated_at", "2018-06-18 04:57:13.484075"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 04:57:13.491018"], ["updated_at", "2018-06-18 04:57:13.491018"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 04:57:13.498119"], ["updated_at", "2018-06-18 04:57:13.498119"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 04:57:13.505196"], ["updated_at", "2018-06-18 04:57:13.505196"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 04:57:13.513039"], ["updated_at", "2018-06-18 04:57:13.513039"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:57:13.521180"], ["updated_at", "2018-06-18 04:57:13.521180"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:57:13.528562"], ["updated_at", "2018-06-18 04:57:13.528562"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 6], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 04:57:13.536752"], ["updated_at", "2018-06-18 04:57:13.536752"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Bounce"], ["final_status_id", 8], ["created_at", "2018-06-18 04:57:13.544375"], ["updated_at", "2018-06-18 04:57:13.544375"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Dropped"], ["final_status_id", 12], ["created_at", "2018-06-18 04:57:13.551396"], ["updated_at", "2018-06-18 04:57:13.551396"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-17 23:57:55 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529297870763-1f6d5f06-f0cd-473d-89d0-422a922d94b6", "reason"=>"Bounced Address", "sg_event_id"=>"rEZkofGiTUem1FDNk6RUAQ", "sg_message_id"=>"iE7PuPi5QIaS699wJnJ7lA.filter0068p3las1-6926-5B273BD2-1D.0", "smtp-id"=>"<iE7PuPi5QIaS699wJnJ7lA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529297875}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529297870763-1f6d5f06-f0cd-473d-89d0-422a922d94b6", "reason"=>"Bounced Address", "sg_event_id"=>"rEZkofGiTUem1FDNk6RUAQ", "sg_message_id"=>"iE7PuPi5QIaS699wJnJ7lA.filter0068p3las1-6926-5B273BD2-1D.0", "smtp-id"=>"<iE7PuPi5QIaS699wJnJ7lA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529297875}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529297870763-1f6d5f06-f0cd-473d-89d0-422a922d94b6"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 7], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "iE7PuPi5QIaS699wJnJ7lA.filter0068p3las1-6926-5B273BD2-1D.0"], ["glx_mail_id", 7], ["created_at", "2018-06-18 04:57:56.152562"], ["updated_at", "2018-06-18 04:57:56.152562"]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "7"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 12], ["created_at", "2018-06-18 04:57:56.308202"], ["updated_at", "2018-06-18 04:57:56.308202"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 12], ["id", 7]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 311ms (Views: 0.2ms | ActiveRecord: 57.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-17 23:59:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"dkjhfkdsjf@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297955984-a960a50b-bfd9-45a1-8b3e-60f0dea0c24c", "sg_event_id"=>"yevUoTb0S2CXVAfVYx01iA", "sg_message_id"=>"xcOGkgi3T-WcOkIB9SR_aQ.filter0088p3las1-30408-5B273C28-2.0", "smtp-id"=>"<xcOGkgi3T-WcOkIB9SR_aQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529297960}, {"email"=>"dkjhfkdsjf@gmail.com", "event"=>"bounce", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529297955984-a960a50b-bfd9-45a1-8b3e-60f0dea0c24c", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser n11-v6si558872qvn.62 - gsmtp", "sg_event_id"=>"Hj3zONYoSHmrN3-E0I_3lQ", "sg_message_id"=>"xcOGkgi3T-WcOkIB9SR_aQ.filter0088p3las1-30408-5B273C28-2.0", "smtp-id"=>"<xcOGkgi3T-WcOkIB9SR_aQ@ismtpd0004p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529297960, "tls"=>1, "type"=>"bounce"}], "webhook"=>{"_json"=>[{"email"=>"dkjhfkdsjf@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297955984-a960a50b-bfd9-45a1-8b3e-60f0dea0c24c", "sg_event_id"=>"yevUoTb0S2CXVAfVYx01iA", "sg_message_id"=>"xcOGkgi3T-WcOkIB9SR_aQ.filter0088p3las1-30408-5B273C28-2.0", "smtp-id"=>"<xcOGkgi3T-WcOkIB9SR_aQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529297960}, {"email"=>"dkjhfkdsjf@gmail.com", "event"=>"bounce", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529297955984-a960a50b-bfd9-45a1-8b3e-60f0dea0c24c", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser n11-v6si558872qvn.62 - gsmtp", "sg_event_id"=>"Hj3zONYoSHmrN3-E0I_3lQ", "sg_message_id"=>"xcOGkgi3T-WcOkIB9SR_aQ.filter0088p3las1-30408-5B273C28-2.0", "smtp-id"=>"<xcOGkgi3T-WcOkIB9SR_aQ@ismtpd0004p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529297960, "tls"=>1, "type"=>"bounce"}]}}
  [1m[36mGlxMail Load (6.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529297955984-a960a50b-bfd9-45a1-8b3e-60f0dea0c24c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "xcOGkgi3T-WcOkIB9SR_aQ.filter0088p3las1-30408-5B273C28-2.0"], ["glx_mail_id", 8], ["created_at", "2018-06-18 04:59:24.960916"], ["updated_at", "2018-06-18 04:59:24.960916"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "8"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:59:25.011541"], ["updated_at", "2018-06-18 04:59:25.011541"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 8]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 120ms (Views: 0.2ms | ActiveRecord: 50.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.202 at 2018-06-17 23:59:55 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91sssss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297991602-5ecdb89a-fd17-4e0d-8df8-41b83fd3159d", "sg_event_id"=>"bGMuZ70QSnqlyXj-pEX05A", "sg_message_id"=>"n-Kgzq1HQrCuz76rsxQbJQ.filter0054p3las1-12369-5B273C4B-7.0", "smtp-id"=>"<n-Kgzq1HQrCuz76rsxQbJQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529297995}, {"email"=>"andersonav91sssss@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529297991602-5ecdb89a-fd17-4e0d-8df8-41b83fd3159d", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser r2-v6si11478772qtn.127 - gsmtp", "sg_event_id"=>"b-Ud2F-JRlmUCw7OsSZU3A", "sg_message_id"=>"n-Kgzq1HQrCuz76rsxQbJQ.filter0054p3las1-12369-5B273C4B-7.0", "smtp-id"=>"<n-Kgzq1HQrCuz76rsxQbJQ@ismtpd0004p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529297996, "tls"=>1, "type"=>"bounce"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91sssss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529297991602-5ecdb89a-fd17-4e0d-8df8-41b83fd3159d", "sg_event_id"=>"bGMuZ70QSnqlyXj-pEX05A", "sg_message_id"=>"n-Kgzq1HQrCuz76rsxQbJQ.filter0054p3las1-12369-5B273C4B-7.0", "smtp-id"=>"<n-Kgzq1HQrCuz76rsxQbJQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529297995}, {"email"=>"andersonav91sssss@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529297991602-5ecdb89a-fd17-4e0d-8df8-41b83fd3159d", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser r2-v6si11478772qtn.127 - gsmtp", "sg_event_id"=>"b-Ud2F-JRlmUCw7OsSZU3A", "sg_message_id"=>"n-Kgzq1HQrCuz76rsxQbJQ.filter0054p3las1-12369-5B273C4B-7.0", "smtp-id"=>"<n-Kgzq1HQrCuz76rsxQbJQ@ismtpd0004p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529297996, "tls"=>1, "type"=>"bounce"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529297991602-5ecdb89a-fd17-4e0d-8df8-41b83fd3159d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 9], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (7.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "n-Kgzq1HQrCuz76rsxQbJQ.filter0054p3las1-12369-5B273C4B-7.0"], ["glx_mail_id", 9], ["created_at", "2018-06-18 04:59:55.186212"], ["updated_at", "2018-06-18 04:59:55.186212"]]
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (5.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (22.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (10.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "9"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 04:59:55.274061"], ["updated_at", "2018-06-18 04:59:55.274061"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 9]]
  [1m[35m (56.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 175ms (Views: 0.3ms | ActiveRecord: 133.8ms)


Started POST "/webhooks/sendgrid" for 167.89.119.77 at 2018-06-18 00:01:02 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298055138-3eea8976-42c9-498a-b0fb-e20d0a5277da", "sg_event_id"=>"FcYKwhsRQFWPacpQ8ihXcw", "sg_message_id"=>"HXGatjDhQg-PNXy778Mjwg.filter0040p3iad2-30624-5B273C8A-3E.0", "smtp-id"=>"<HXGatjDhQg-PNXy778Mjwg@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298058}, {"email"=>"andersonav91ss@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529298055138-3eea8976-42c9-498a-b0fb-e20d0a5277da", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser e48-v6si9992656qtc.270 - gsmtp", "sg_event_id"=>"jH82z2_2TZG8p2gP2x4wCA", "sg_message_id"=>"HXGatjDhQg-PNXy778Mjwg.filter0040p3iad2-30624-5B273C8A-3E.0", "smtp-id"=>"<HXGatjDhQg-PNXy778Mjwg@ismtpd0002p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529298059, "tls"=>1, "type"=>"bounce"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ss@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298055138-3eea8976-42c9-498a-b0fb-e20d0a5277da", "sg_event_id"=>"FcYKwhsRQFWPacpQ8ihXcw", "sg_message_id"=>"HXGatjDhQg-PNXy778Mjwg.filter0040p3iad2-30624-5B273C8A-3E.0", "smtp-id"=>"<HXGatjDhQg-PNXy778Mjwg@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298058}, {"email"=>"andersonav91ss@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529298055138-3eea8976-42c9-498a-b0fb-e20d0a5277da", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser e48-v6si9992656qtc.270 - gsmtp", "sg_event_id"=>"jH82z2_2TZG8p2gP2x4wCA", "sg_message_id"=>"HXGatjDhQg-PNXy778Mjwg.filter0040p3iad2-30624-5B273C8A-3E.0", "smtp-id"=>"<HXGatjDhQg-PNXy778Mjwg@ismtpd0002p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529298059, "tls"=>1, "type"=>"bounce"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298055138-3eea8976-42c9-498a-b0fb-e20d0a5277da"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 10], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "HXGatjDhQg-PNXy778Mjwg.filter0040p3iad2-30624-5B273C8A-3E.0"], ["glx_mail_id", 10], ["created_at", "2018-06-18 05:01:02.739161"], ["updated_at", "2018-06-18 05:01:02.739161"]]
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "10"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:01:02.792375"], ["updated_at", "2018-06-18 05:01:02.792375"]]
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 10]]
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 129ms (Views: 0.2ms | ActiveRecord: 80.8ms)


Started POST "/webhooks/sendgrid" for 167.89.119.77 at 2018-06-18 00:01:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"akjefhiusdfhiueuienssssncbvv@uncodrr.com", "event"=>"dropped", "mail_name"=>"Mail1529298105960-46ba728b-837e-46fb-b4f0-f8514fbfac9e", "reason"=>"Invalid", "sg_event_id"=>"pc17OShsTFiZnfl-3uXiVg", "sg_message_id"=>"um39mxmiSZ6l8K06rv5NQg.filter0045p3iad2-8034-5B273CBD-17.0", "smtp-id"=>"<um39mxmiSZ6l8K06rv5NQg@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298109}], "webhook"=>{"_json"=>[{"email"=>"akjefhiusdfhiueuienssssncbvv@uncodrr.com", "event"=>"dropped", "mail_name"=>"Mail1529298105960-46ba728b-837e-46fb-b4f0-f8514fbfac9e", "reason"=>"Invalid", "sg_event_id"=>"pc17OShsTFiZnfl-3uXiVg", "sg_message_id"=>"um39mxmiSZ6l8K06rv5NQg.filter0045p3iad2-8034-5B273CBD-17.0", "smtp-id"=>"<um39mxmiSZ6l8K06rv5NQg@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298109}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298105960-46ba728b-837e-46fb-b4f0-f8514fbfac9e"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 11], ["LIMIT", 1]]
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (11.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (7.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "um39mxmiSZ6l8K06rv5NQg.filter0045p3iad2-8034-5B273CBD-17.0"], ["glx_mail_id", 11], ["created_at", "2018-06-18 05:01:53.849676"], ["updated_at", "2018-06-18 05:01:53.849676"]]
  [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (10.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "11"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 12], ["created_at", "2018-06-18 05:01:53.945738"], ["updated_at", "2018-06-18 05:01:53.945738"]]
  [1m[35mSQL (8.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 12], ["id", 11]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 190ms (Views: 0.2ms | ActiveRecord: 108.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.74 at 2018-06-18 00:02:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"djhdheyrfufjoejd8387474@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298168566-550902dd-c9b5-4ded-af50-4c16fbe08933", "sg_event_id"=>"zA40C-bcRPas3xap51Rb_Q", "sg_message_id"=>"IiT5WuFcTliJv4-jqJUysw.filter0055p3iad2-28269-5B273CFC-9.0", "smtp-id"=>"<IiT5WuFcTliJv4-jqJUysw@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529298172}, {"email"=>"djhdheyrfufjoejd8387474@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529298168566-550902dd-c9b5-4ded-af50-4c16fbe08933", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser o40-v6si4900619qvc.68 - gsmtp", "sg_event_id"=>"dd0lpM0dQJqEB_-z-2sPKw", "sg_message_id"=>"IiT5WuFcTliJv4-jqJUysw.filter0055p3iad2-28269-5B273CFC-9.0", "smtp-id"=>"<IiT5WuFcTliJv4-jqJUysw@ismtpd0001p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529298172, "tls"=>1, "type"=>"bounce"}], "webhook"=>{"_json"=>[{"email"=>"djhdheyrfufjoejd8387474@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298168566-550902dd-c9b5-4ded-af50-4c16fbe08933", "sg_event_id"=>"zA40C-bcRPas3xap51Rb_Q", "sg_message_id"=>"IiT5WuFcTliJv4-jqJUysw.filter0055p3iad2-28269-5B273CFC-9.0", "smtp-id"=>"<IiT5WuFcTliJv4-jqJUysw@ismtpd0001p1iad1.sendgrid.net>", "timestamp"=>1529298172}, {"email"=>"djhdheyrfufjoejd8387474@gmail.com", "event"=>"bounce", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529298168566-550902dd-c9b5-4ded-af50-4c16fbe08933", "reason"=>"550 5.1.1 The email account that you tried to reach does not exist. Please try\n5.1.1 double-checking the recipient's email address for typos or\n5.1.1 unnecessary spaces. Learn more at\n5.1.1  https://support.google.com/mail/?p=NoSuchUser o40-v6si4900619qvc.68 - gsmtp", "sg_event_id"=>"dd0lpM0dQJqEB_-z-2sPKw", "sg_message_id"=>"IiT5WuFcTliJv4-jqJUysw.filter0055p3iad2-28269-5B273CFC-9.0", "smtp-id"=>"<IiT5WuFcTliJv4-jqJUysw@ismtpd0001p1iad1.sendgrid.net>", "status"=>"550", "timestamp"=>1529298172, "tls"=>1, "type"=>"bounce"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298168566-550902dd-c9b5-4ded-af50-4c16fbe08933"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "IiT5WuFcTliJv4-jqJUysw.filter0055p3iad2-28269-5B273CFC-9.0"], ["glx_mail_id", 12], ["created_at", "2018-06-18 05:02:52.411972"], ["updated_at", "2018-06-18 05:02:52.411972"]]
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "12"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:02:52.451870"], ["updated_at", "2018-06-18 05:02:52.451870"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 12]]
  [1m[35m (45.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 112ms (Views: 0.3ms | ActiveRecord: 76.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.75 at 2018-06-18 00:03:51 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c", "sg_event_id"=>"qYyTuvYDSqWti-LdXcZXWg", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "smtp-id"=>"<hDfEEfQBRQqGN0tLhSGupw@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298224}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c", "response"=>"250 2.0.0 OK 1529298225 h17-v6si1006205qvd.35 - gsmtp", "sg_event_id"=>"fMj6nYngSL66NbxBrAApfQ", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "smtp-id"=>"<hDfEEfQBRQqGN0tLhSGupw@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298225, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c", "sg_event_id"=>"qYyTuvYDSqWti-LdXcZXWg", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "smtp-id"=>"<hDfEEfQBRQqGN0tLhSGupw@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298224}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"50.31.63.249", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c", "response"=>"250 2.0.0 OK 1529298225 h17-v6si1006205qvd.35 - gsmtp", "sg_event_id"=>"fMj6nYngSL66NbxBrAApfQ", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "smtp-id"=>"<hDfEEfQBRQqGN0tLhSGupw@ismtpd0002p1iad1.sendgrid.net>", "timestamp"=>1529298225, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0"], ["glx_mail_id", 13], ["created_at", "2018-06-18 05:03:51.553507"], ["updated_at", "2018-06-18 05:03:51.553507"]]
  [1m[35m (234.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "13"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:03:51.811999"], ["updated_at", "2018-06-18 05:03:51.811999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 13]]
  [1m[35m (304.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 582ms (Views: 0.2ms | ActiveRecord: 547.1ms)


Started POST "/webhooks/sendgrid" for 167.89.121.231 at 2018-06-18 00:04:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298226, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "sg_event_id"=>"4wramSvSQQCJgopc_s9zYw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298226, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"hDfEEfQBRQqGN0tLhSGupw.filter0019p3iad2-2708-5B273D30-6.0", "sg_event_id"=>"4wramSvSQQCJgopc_s9zYw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298220482-85a51bf5-d3ef-4204-b991-83ca7e52780c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 13], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (7.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "13"], ["status_from_id", 11], ["action", "Bounce"], ["status_to_id", 8], ["created_at", "2018-06-18 05:04:13.138493"], ["updated_at", "2018-06-18 05:04:13.138493"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 8], ["id", 13]]
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 42.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.252 at 2018-06-18 00:04:59 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb", "sg_event_id"=>"jbjaWx-DRPmqzBaQVWeFmA", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "smtp-id"=>"<GhrXvj2uSHGuMauwYOSaFQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529298299}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb", "sg_event_id"=>"jbjaWx-DRPmqzBaQVWeFmA", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "smtp-id"=>"<GhrXvj2uSHGuMauwYOSaFQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529298299}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (11.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 14], ["LIMIT", 1]]
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0"], ["glx_mail_id", 14], ["created_at", "2018-06-18 05:04:59.599118"], ["updated_at", "2018-06-18 05:04:59.599118"]]
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (7.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (11.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "14"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:04:59.715170"], ["updated_at", "2018-06-18 05:04:59.715170"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 14]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 176ms (Views: 0.4ms | ActiveRecord: 60.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-18 00:05:08 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb", "response"=>"250 2.0.0 OK 1529298300 k73-v6si564464qke.106 - gsmtp", "sg_event_id"=>"vAlu6YBSRHuefUg8BuCPIQ", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "smtp-id"=>"<GhrXvj2uSHGuMauwYOSaFQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529298301, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"168.245.72.204", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb", "response"=>"250 2.0.0 OK 1529298300 k73-v6si564464qke.106 - gsmtp", "sg_event_id"=>"vAlu6YBSRHuefUg8BuCPIQ", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "smtp-id"=>"<GhrXvj2uSHGuMauwYOSaFQ@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529298301, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 14], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (8.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "14"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 05:05:08.866035"], ["updated_at", "2018-06-18 05:05:08.866035"]]
  [1m[35mSQL (3.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 14]]
  [1m[35m (231.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 300ms (Views: 0.2ms | ActiveRecord: 248.9ms)


Started POST "/webhooks/sendgrid" for 167.89.121.246 at 2018-06-18 00:05:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298301, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "sg_event_id"=>"5iJI44K_Tv2nGpiB-Xt3Aw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298301, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"GhrXvj2uSHGuMauwYOSaFQ.filter0052p3las1-18342-5B273D7B-1C.0", "sg_event_id"=>"5iJI44K_Tv2nGpiB-Xt3Aw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 14], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Error: Mail1529298295617-0309dc41-662d-499f-b6f5-1a066f3ffceb Bounce 7
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started POST "/webhooks/sendgrid" for 167.89.121.251 at 2018-06-18 00:10:25 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c", "sg_event_id"=>"v7vxFZAQR5ax9Bp267BfUw", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "smtp-id"=>"<IjO0fZ8vRSqcx65uienBDA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529298618}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.101.76", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c", "response"=>"250 2.0.0 OK 1529298619 h15-v6si2244957qta.82 - gsmtp", "sg_event_id"=>"G7Lk7ftWSn6XczeG3Lf_yA", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "smtp-id"=>"<IjO0fZ8vRSqcx65uienBDA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529298619, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c", "sg_event_id"=>"v7vxFZAQR5ax9Bp267BfUw", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "smtp-id"=>"<IjO0fZ8vRSqcx65uienBDA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529298618}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.101.76", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c", "response"=>"250 2.0.0 OK 1529298619 h15-v6si2244957qta.82 - gsmtp", "sg_event_id"=>"G7Lk7ftWSn6XczeG3Lf_yA", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "smtp-id"=>"<IjO0fZ8vRSqcx65uienBDA@ismtpd0010p1iad1.sendgrid.net>", "timestamp"=>1529298619, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0"], ["glx_mail_id", 15], ["created_at", "2018-06-18 05:10:25.272611"], ["updated_at", "2018-06-18 05:10:25.272611"]]
  [1m[35m (56.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (3.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "15"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:10:25.394240"], ["updated_at", "2018-06-18 05:10:25.394240"]]
  [1m[35mSQL (4.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 15]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 160ms (Views: 0.2ms | ActiveRecord: 76.0ms)


Started POST "/webhooks/sendgrid" for 167.89.119.83 at 2018-06-18 00:10:28 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529280409104-924e2170-8743-4de4-a26e-188bbf940e5d", "sg_event_id"=>"fzpQGpVyRrm_5_IlLwJ-9Q", "sg_message_id"=>"oir8nA5DQQG0FgMYmk-bqw.filter0018p3iad2-17578-5B26F79F-25.0", "smtp-id"=>"<oir8nA5DQQG0FgMYmk-bqw@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529280415}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529280409104-924e2170-8743-4de4-a26e-188bbf940e5d", "response"=>"250 2.0.0 OK 1529280416 j3-v6si355455qtp.72 - gsmtp", "sg_event_id"=>"zo7C2yRfTfmOt5SAWf_UKQ", "sg_message_id"=>"oir8nA5DQQG0FgMYmk-bqw.filter0018p3iad2-17578-5B26F79F-25.0", "smtp-id"=>"<oir8nA5DQQG0FgMYmk-bqw@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529280416, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529280409104-924e2170-8743-4de4-a26e-188bbf940e5d", "sg_event_id"=>"fzpQGpVyRrm_5_IlLwJ-9Q", "sg_message_id"=>"oir8nA5DQQG0FgMYmk-bqw.filter0018p3iad2-17578-5B26F79F-25.0", "smtp-id"=>"<oir8nA5DQQG0FgMYmk-bqw@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529280415}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529280409104-924e2170-8743-4de4-a26e-188bbf940e5d", "response"=>"250 2.0.0 OK 1529280416 j3-v6si355455qtp.72 - gsmtp", "sg_event_id"=>"zo7C2yRfTfmOt5SAWf_UKQ", "sg_message_id"=>"oir8nA5DQQG0FgMYmk-bqw.filter0018p3iad2-17578-5B26F79F-25.0", "smtp-id"=>"<oir8nA5DQQG0FgMYmk-bqw@ismtpd0019p1iad2.sendgrid.net>", "timestamp"=>1529280416, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529280409104-924e2170-8743-4de4-a26e-188bbf940e5d"], ["LIMIT", 1]]
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.208 at 2018-06-18 00:10:47 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298620, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "sg_event_id"=>"Ica5AD73Sc2PIeGcqA8B6A", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298620, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"IjO0fZ8vRSqcx65uienBDA.filter0033p3las1-16562-5B273EBA-3.0", "sg_event_id"=>"Ica5AD73Sc2PIeGcqA8B6A", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c"}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298613890-fe0a9a99-daa6-455f-8d3d-ae1d373fb75c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 15], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "15"], ["status_from_id", 11], ["action", "Bounce"], ["status_to_id", 8], ["created_at", "2018-06-18 05:10:47.850113"], ["updated_at", "2018-06-18 05:10:47.850113"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 8], ["id", 15]]
  [1m[35m (44.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 65ms (Views: 0.2ms | ActiveRecord: 50.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.247 at 2018-06-18 00:12:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca", "sg_event_id"=>"tCqKwTvRTR6h9nsnR1wHVg", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "smtp-id"=>"<YorguCX_Q4Km4Rw6ZacHfQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529298774}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.107.108", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca", "response"=>"250 2.0.0 OK 1529298775 o3-v6si4382865qvk.58 - gsmtp", "sg_event_id"=>"A0tVwRMqSkCcLI3Kh7w8YQ", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "smtp-id"=>"<YorguCX_Q4Km4Rw6ZacHfQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529298775, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca", "sg_event_id"=>"tCqKwTvRTR6h9nsnR1wHVg", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "smtp-id"=>"<YorguCX_Q4Km4Rw6ZacHfQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529298774}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.107.108", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca", "response"=>"250 2.0.0 OK 1529298775 o3-v6si4382865qvk.58 - gsmtp", "sg_event_id"=>"A0tVwRMqSkCcLI3Kh7w8YQ", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "smtp-id"=>"<YorguCX_Q4Km4Rw6ZacHfQ@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529298775, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 16], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (15.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0"], ["glx_mail_id", 16], ["created_at", "2018-06-18 05:12:58.584510"], ["updated_at", "2018-06-18 05:12:58.584510"]]
  [1m[35m (33.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (14.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (5.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (15.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (18.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "16"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:12:58.729390"], ["updated_at", "2018-06-18 05:12:58.729390"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 16]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 261ms (Views: 0.1ms | ActiveRecord: 116.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.205 at 2018-06-18 00:13:22 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298776, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "sg_event_id"=>"t0PoXIeXQP-p5AvU4Zqdtg", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529298776, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"YorguCX_Q4Km4Rw6ZacHfQ.filter0046p3las1-4752-5B273F55-24.0", "sg_event_id"=>"t0PoXIeXQP-p5AvU4Zqdtg", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298769813-2b51cc97-4a3f-499a-9b03-7975b4aa9eca"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 16], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (5.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "16"], ["status_from_id", 11], ["action", "Bounce"], ["status_to_id", 8], ["created_at", "2018-06-18 05:13:22.972094"], ["updated_at", "2018-06-18 05:13:22.972094"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 8], ["id", 16]]
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 99ms (Views: 0.2ms | ActiveRecord: 43.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-18 00:13:51 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"akjefhiusdfhiueuienssssncbvv@uncodrr.com", "event"=>"dropped", "mail_name"=>"Mail1529298826459-d428b57d-f4ed-4da5-a858-8132f8ee0654", "reason"=>"Invalid", "sg_event_id"=>"_-DCDzX3Q_ycA9IkM0gYqw", "sg_message_id"=>"b1PpyNkxR9yTqipvhwsX-g.filter0073p3las1-12866-5B273F8E-8.0", "smtp-id"=>"<b1PpyNkxR9yTqipvhwsX-g@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529298830}], "webhook"=>{"_json"=>[{"email"=>"akjefhiusdfhiueuienssssncbvv@uncodrr.com", "event"=>"dropped", "mail_name"=>"Mail1529298826459-d428b57d-f4ed-4da5-a858-8132f8ee0654", "reason"=>"Invalid", "sg_event_id"=>"_-DCDzX3Q_ycA9IkM0gYqw", "sg_message_id"=>"b1PpyNkxR9yTqipvhwsX-g.filter0073p3las1-12866-5B273F8E-8.0", "smtp-id"=>"<b1PpyNkxR9yTqipvhwsX-g@ismtpd0004p1iad2.sendgrid.net>", "timestamp"=>1529298830}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298826459-d428b57d-f4ed-4da5-a858-8132f8ee0654"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "b1PpyNkxR9yTqipvhwsX-g.filter0073p3las1-12866-5B273F8E-8.0"], ["glx_mail_id", 17], ["created_at", "2018-06-18 05:13:51.427401"], ["updated_at", "2018-06-18 05:13:51.427401"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "17"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 12], ["created_at", "2018-06-18 05:13:51.459323"], ["updated_at", "2018-06-18 05:13:51.459323"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 12], ["id", 17]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 67ms (Views: 1.4ms | ActiveRecord: 14.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.202 at 2018-06-18 00:15:40 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6", "sg_event_id"=>"rfdNeTLKQ8iaVq5St_ojWg", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "smtp-id"=>"<dFp0zP-xSHWq__ojNEuiAg@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529298932}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.101.76", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6", "response"=>"250 2.0.0 OK 1529298933 k11-v6si5560364qvo.167 - gsmtp", "sg_event_id"=>"M9bSha36TD6J5OY6uF2MuA", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "smtp-id"=>"<dFp0zP-xSHWq__ojNEuiAg@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529298933, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6", "sg_event_id"=>"rfdNeTLKQ8iaVq5St_ojWg", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "smtp-id"=>"<dFp0zP-xSHWq__ojNEuiAg@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529298932}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.101.76", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6", "response"=>"250 2.0.0 OK 1529298933 k11-v6si5560364qvo.167 - gsmtp", "sg_event_id"=>"M9bSha36TD6J5OY6uF2MuA", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "smtp-id"=>"<dFp0zP-xSHWq__ojNEuiAg@ismtpd0036p1mdw1.sendgrid.net>", "timestamp"=>1529298933, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0"], ["glx_mail_id", 18], ["created_at", "2018-06-18 05:15:40.583626"], ["updated_at", "2018-06-18 05:15:40.583626"]]
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "18"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:15:40.674054"], ["updated_at", "2018-06-18 05:15:40.674054"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 18]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 116ms (Views: 0.3ms | ActiveRecord: 43.9ms)


Started POST "/webhooks/sendgrid" for 167.89.125.238 at 2018-06-18 00:17:22 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299013, "ip"=>"66.102.8.41", "sg_event_id"=>"3qJIGdU1QjKReoSuHfGrTw", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299013, "ip"=>"66.102.8.41", "sg_event_id"=>"3qJIGdU1QjKReoSuHfGrTw", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 18], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "18"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 05:17:22.952209"], ["updated_at", "2018-06-18 05:17:22.952209"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 18]]
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 74ms (Views: 0.3ms | ActiveRecord: 51.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.220 at 2018-06-18 00:17:23 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299013, "ip"=>"66.102.8.43", "sg_event_id"=>"Nf95OCTtQRu-vEoC4_aAJQ", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299013, "ip"=>"66.102.8.43", "sg_event_id"=>"Nf95OCTtQRu-vEoC4_aAJQ", "sg_message_id"=>"dFp0zP-xSHWq__ojNEuiAg.filter0035p3las1-15234-5B273FF4-11.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529298928301-570b0d96-a216-4b3c-9cf6-1b9ab9bf40e6"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 18], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 12.0ms)


Started POST "/webhooks/sendgrid" for 167.89.119.78 at 2018-06-18 00:18:30 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd", "sg_event_id"=>"vuwsHOsySt-kOZqa9otAVg", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "smtp-id"=>"<Tw8rdmYHQwip06DzQBjQKw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529299109}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.124.4", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd", "response"=>"250 2.0.0 OK 1529299110 q9-v6si838293qvb.253 - gsmtp", "sg_event_id"=>"RNgUJtNPQc6WiEjazNmffg", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "smtp-id"=>"<Tw8rdmYHQwip06DzQBjQKw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529299110, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd", "sg_event_id"=>"vuwsHOsySt-kOZqa9otAVg", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "smtp-id"=>"<Tw8rdmYHQwip06DzQBjQKw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529299109}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"168.245.124.4", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd", "response"=>"250 2.0.0 OK 1529299110 q9-v6si838293qvb.253 - gsmtp", "sg_event_id"=>"RNgUJtNPQc6WiEjazNmffg", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "smtp-id"=>"<Tw8rdmYHQwip06DzQBjQKw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529299110, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 19], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0"], ["glx_mail_id", 19], ["created_at", "2018-06-18 05:18:30.377088"], ["updated_at", "2018-06-18 05:18:30.377088"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (3.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "19"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:18:30.469472"], ["updated_at", "2018-06-18 05:18:30.469472"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 19]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 115ms (Views: 0.1ms | ActiveRecord: 40.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.229 at 2018-06-18 00:19:18 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299127, "ip"=>"66.102.8.32", "sg_event_id"=>"zWNnCI89RbqZqrSSyzQQag", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299127, "ip"=>"66.102.8.32", "sg_event_id"=>"zWNnCI89RbqZqrSSyzQQag", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 19], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (12.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "19"], ["status_from_id", 11], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 05:19:18.874325"], ["updated_at", "2018-06-18 05:19:18.874325"]]
  [1m[35mSQL (3.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 19]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 84ms (Views: 0.1ms | ActiveRecord: 44.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.214 at 2018-06-18 00:19:20 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299128, "ip"=>"66.102.8.32", "sg_event_id"=>"l-RseCtAQwqyUencbSkd8Q", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529299128, "ip"=>"66.102.8.32", "sg_event_id"=>"l-RseCtAQwqyUencbSkd8Q", "sg_message_id"=>"Tw8rdmYHQwip06DzQBjQKw.filter0052p3iad2-887-5B2740A5-17.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529299105252-019cf98f-73ce-4b79-8184-33a77007e8bd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 19], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 15.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-18 00:19:35 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299165134-ceac24f3-e6e7-4485-9932-7c1e23c0ff1e", "sg_event_id"=>"4u7qEXEzRTiL8lJBJ765sQ", "sg_message_id"=>"KG5zwHYXSxWIj2xCqSifzQ.filter0058p3las1-19690-5B2740E0-27.0", "smtp-id"=>"<KG5zwHYXSxWIj2xCqSifzQ@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529299168}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.107.108", "mail_name"=>"Mail1529299165134-ceac24f3-e6e7-4485-9932-7c1e23c0ff1e", "response"=>"250 2.0.0 OK 1529299169 i58-v6si2026226qti.134 - gsmtp", "sg_event_id"=>"-KBI_53STPSQyS03d0jkCQ", "sg_message_id"=>"KG5zwHYXSxWIj2xCqSifzQ.filter0058p3las1-19690-5B2740E0-27.0", "smtp-id"=>"<KG5zwHYXSxWIj2xCqSifzQ@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529299170, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299165134-ceac24f3-e6e7-4485-9932-7c1e23c0ff1e", "sg_event_id"=>"4u7qEXEzRTiL8lJBJ765sQ", "sg_message_id"=>"KG5zwHYXSxWIj2xCqSifzQ.filter0058p3las1-19690-5B2740E0-27.0", "smtp-id"=>"<KG5zwHYXSxWIj2xCqSifzQ@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529299168}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.107.108", "mail_name"=>"Mail1529299165134-ceac24f3-e6e7-4485-9932-7c1e23c0ff1e", "response"=>"250 2.0.0 OK 1529299169 i58-v6si2026226qti.134 - gsmtp", "sg_event_id"=>"-KBI_53STPSQyS03d0jkCQ", "sg_message_id"=>"KG5zwHYXSxWIj2xCqSifzQ.filter0058p3las1-19690-5B2740E0-27.0", "smtp-id"=>"<KG5zwHYXSxWIj2xCqSifzQ@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529299170, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529299165134-ceac24f3-e6e7-4485-9932-7c1e23c0ff1e"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 20], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "KG5zwHYXSxWIj2xCqSifzQ.filter0058p3las1-19690-5B2740E0-27.0"], ["glx_mail_id", 20], ["created_at", "2018-06-18 05:19:35.809720"], ["updated_at", "2018-06-18 05:19:35.809720"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "20"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:19:35.845349"], ["updated_at", "2018-06-18 05:19:35.845349"]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 20]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 51ms (Views: 0.2ms | ActiveRecord: 15.9ms)


Started POST "/webhooks/sendgrid" for 167.89.121.230 at 2018-06-18 00:19:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "sg_event_id"=>"KP6EfPMBSe6y_d16KUvDeg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291683}]}}
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 1.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.230 at 2018-06-18 00:20:03 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"50.31.63.245", "mail_name"=>"Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a", "response"=>"250 2.0.0 OK 1529291685 n90-v6si12834853qte.246 - gsmtp", "sg_event_id"=>"0Ij1hHjWTM68wOR1JJDJzg", "sg_message_id"=>"gbjsQwHLSbag_6jD5t8g4Q.filter0051p3las1-21541-5B2723A3-D.0", "smtp-id"=>"<gbjsQwHLSbag_6jD5t8g4Q@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529291685, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529291678913-7ae25ad2-23bb-4cd5-b9d7-caa93128777a"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms)


Started POST "/webhooks/sendgrid" for 167.89.119.68 at 2018-06-18 00:22:21 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299331901-6756c410-3ac9-448f-88ca-a22c7937ca34", "sg_event_id"=>"9fa2GHc9Rt-Ghceq9z3HJA", "sg_message_id"=>"hnqbMhL1Q-OugxzuwA0_lg.filter0014p3iad2-7299-5B274188-9.0", "smtp-id"=>"<hnqbMhL1Q-OugxzuwA0_lg@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529299336}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.251", "mail_name"=>"Mail1529299331901-6756c410-3ac9-448f-88ca-a22c7937ca34", "response"=>"250 2.0.0 OK 1529299337 t27-v6si1775229qte.14 - gsmtp", "sg_event_id"=>"Bd0t6-2MSrigSqYCgN5kAw", "sg_message_id"=>"hnqbMhL1Q-OugxzuwA0_lg.filter0014p3iad2-7299-5B274188-9.0", "smtp-id"=>"<hnqbMhL1Q-OugxzuwA0_lg@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529299337, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529299331901-6756c410-3ac9-448f-88ca-a22c7937ca34", "sg_event_id"=>"9fa2GHc9Rt-Ghceq9z3HJA", "sg_message_id"=>"hnqbMhL1Q-OugxzuwA0_lg.filter0014p3iad2-7299-5B274188-9.0", "smtp-id"=>"<hnqbMhL1Q-OugxzuwA0_lg@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529299336}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.251", "mail_name"=>"Mail1529299331901-6756c410-3ac9-448f-88ca-a22c7937ca34", "response"=>"250 2.0.0 OK 1529299337 t27-v6si1775229qte.14 - gsmtp", "sg_event_id"=>"Bd0t6-2MSrigSqYCgN5kAw", "sg_message_id"=>"hnqbMhL1Q-OugxzuwA0_lg.filter0014p3iad2-7299-5B274188-9.0", "smtp-id"=>"<hnqbMhL1Q-OugxzuwA0_lg@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529299337, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529299331901-6756c410-3ac9-448f-88ca-a22c7937ca34"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "hnqbMhL1Q-OugxzuwA0_lg.filter0014p3iad2-7299-5B274188-9.0"], ["glx_mail_id", 21], ["created_at", "2018-06-18 05:22:21.295471"], ["updated_at", "2018-06-18 05:22:21.295471"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (15.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (3.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "21"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 05:22:21.345109"], ["updated_at", "2018-06-18 05:22:21.345109"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 21]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 30.3ms)


Started POST "/webhooks/sendgrid%0A" for 167.89.125.232 at 2018-06-18 01:15:14 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/webhooks/sendgrid%0A"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/sendgrid" for 167.89.119.82 at 2018-06-18 01:16:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "sg_event_id"=>"SYmwbEsZSf-KVai6PRCdzw", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302596}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "response"=>"250 2.0.0 OK 1529302597 n8-v6si3079004qvf.50 - gsmtp", "sg_event_id"=>"uppfTBBVQFySJpFk2MHYBg", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302597, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "sg_event_id"=>"SYmwbEsZSf-KVai6PRCdzw", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302596}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "response"=>"250 2.0.0 OK 1529302597 n8-v6si3079004qvf.50 - gsmtp", "sg_event_id"=>"uppfTBBVQFySJpFk2MHYBg", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302597, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 22], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0"], ["glx_mail_id", 22], ["created_at", "2018-06-18 06:16:43.245850"], ["updated_at", "2018-06-18 06:16:43.245850"]]
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "22"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:16:43.447750"], ["updated_at", "2018-06-18 06:16:43.447750"]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 449ms (ActiveRecord: 83.1ms)


  
TypeError (no implicit conversion of Integer into String):
  
app/models/glx_mail.rb:29:in `strptime'
app/models/glx_mail.rb:29:in `save_log'
app/controllers/webhooks_controller.rb:25:in `block in sendgrid'
app/controllers/webhooks_controller.rb:4:in `each'
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.61 at 2018-06-18 01:17:16 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "sg_event_id"=>"SYmwbEsZSf-KVai6PRCdzw", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302596}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "response"=>"250 2.0.0 OK 1529302597 n8-v6si3079004qvf.50 - gsmtp", "sg_event_id"=>"uppfTBBVQFySJpFk2MHYBg", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302597, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "sg_event_id"=>"SYmwbEsZSf-KVai6PRCdzw", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302596}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc", "response"=>"250 2.0.0 OK 1529302597 n8-v6si3079004qvf.50 - gsmtp", "sg_event_id"=>"uppfTBBVQFySJpFk2MHYBg", "sg_message_id"=>"bFkiQ_2MSdO0uDDn191twQ.filter0014p3iad2-7299-5B274E44-C.0", "smtp-id"=>"<bFkiQ_2MSdO0uDDn191twQ@ismtpd0046p1mdw1.sendgrid.net>", "timestamp"=>1529302597, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 22], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "22"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:17:17.498911"], ["updated_at", "2018-06-18 06:17:17.498911"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:16:36' WHERE "glx_status_logs"."id" = $1[0m  [["id", 76]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 22]]
  [1m[35m (26.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302589884-6fd0d73a-c806-41fd-a06a-d260d7df0ffc"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 22], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "22"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:17:17.556688"], ["updated_at", "2018-06-18 06:17:17.556688"]]
  [1m[35mSQL (5.0ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:16:37' WHERE "glx_status_logs"."id" = $1[0m  [["id", 77]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 22]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 268ms (Views: 0.3ms | ActiveRecord: 68.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-18 01:18:32 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952", "sg_event_id"=>"fDnZuIglSAehA74I9v658g", "sg_message_id"=>"1luhAOPzRNObo5Z4rQ_XbA.filter0039p3las1-11140-5B274EB1-1A.0", "smtp-id"=>"<1luhAOPzRNObo5Z4rQ_XbA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529302705}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952", "response"=>"250 2.0.0 OK 1529302706 f3-v6si12291490qvl.57 - gsmtp", "sg_event_id"=>"Ypy6-0PQTDeRKbs7VcMC0Q", "sg_message_id"=>"1luhAOPzRNObo5Z4rQ_XbA.filter0039p3las1-11140-5B274EB1-1A.0", "smtp-id"=>"<1luhAOPzRNObo5Z4rQ_XbA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529302707, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952", "sg_event_id"=>"fDnZuIglSAehA74I9v658g", "sg_message_id"=>"1luhAOPzRNObo5Z4rQ_XbA.filter0039p3las1-11140-5B274EB1-1A.0", "smtp-id"=>"<1luhAOPzRNObo5Z4rQ_XbA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529302705}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952", "response"=>"250 2.0.0 OK 1529302706 f3-v6si12291490qvl.57 - gsmtp", "sg_event_id"=>"Ypy6-0PQTDeRKbs7VcMC0Q", "sg_message_id"=>"1luhAOPzRNObo5Z4rQ_XbA.filter0039p3las1-11140-5B274EB1-1A.0", "smtp-id"=>"<1luhAOPzRNObo5Z4rQ_XbA@ismtpd0004p1iad1.sendgrid.net>", "timestamp"=>1529302707, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 23], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "1luhAOPzRNObo5Z4rQ_XbA.filter0039p3las1-11140-5B274EB1-1A.0"], ["glx_mail_id", 23], ["created_at", "2018-06-18 06:18:32.474359"], ["updated_at", "2018-06-18 06:18:32.474359"]]
  [1m[35m (20.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "23"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:18:32.522267"], ["updated_at", "2018-06-18 06:18:32.522267"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:18:25' WHERE "glx_status_logs"."id" = $1[0m  [["id", 80]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 23]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302701451-3ddd16cb-4859-46d1-a889-7e88bd13a952"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (9.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 23], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (7.3ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "23"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:18:32.598503"], ["updated_at", "2018-06-18 06:18:32.598503"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:18:27' WHERE "glx_status_logs"."id" = $1[0m  [["id", 81]]
  [1m[35mSQL (5.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 23]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 311ms (Views: 0.2ms | ActiveRecord: 127.4ms)


Started POST "/webhooks/sendgrid" for 167.89.119.68 at 2018-06-18 01:19:10 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d", "sg_event_id"=>"jXuGtzLVQVSFelelUlorHw", "sg_message_id"=>"qwjxLriJTcupDRxVfMS1aA.filter0027p3iad2-21653-5B274EDB-5.0", "smtp-id"=>"<qwjxLriJTcupDRxVfMS1aA@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302747}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d", "response"=>"250 2.0.0 OK 1529302747 i36-v6si4220162qvc.148 - gsmtp", "sg_event_id"=>"qczBkjpoTXKImxkWwSz-Uw", "sg_message_id"=>"qwjxLriJTcupDRxVfMS1aA.filter0027p3iad2-21653-5B274EDB-5.0", "smtp-id"=>"<qwjxLriJTcupDRxVfMS1aA@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302748, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d", "sg_event_id"=>"jXuGtzLVQVSFelelUlorHw", "sg_message_id"=>"qwjxLriJTcupDRxVfMS1aA.filter0027p3iad2-21653-5B274EDB-5.0", "smtp-id"=>"<qwjxLriJTcupDRxVfMS1aA@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302747}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d", "response"=>"250 2.0.0 OK 1529302747 i36-v6si4220162qvc.148 - gsmtp", "sg_event_id"=>"qczBkjpoTXKImxkWwSz-Uw", "sg_message_id"=>"qwjxLriJTcupDRxVfMS1aA.filter0027p3iad2-21653-5B274EDB-5.0", "smtp-id"=>"<qwjxLriJTcupDRxVfMS1aA@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302748, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 24], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "qwjxLriJTcupDRxVfMS1aA.filter0027p3iad2-21653-5B274EDB-5.0"], ["glx_mail_id", 24], ["created_at", "2018-06-18 06:19:10.519262"], ["updated_at", "2018-06-18 06:19:10.519262"]]
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (8.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "24"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:19:10.614155"], ["updated_at", "2018-06-18 06:19:10.614155"]]
  [1m[35mSQL (9.4ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:19:07' WHERE "glx_status_logs"."id" = $1[0m  [["id", 84]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 24]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302743387-f821b45d-5681-4b83-936e-e3a8e151ca8d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 24], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (4.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (14.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "24"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:19:10.684997"], ["updated_at", "2018-06-18 06:19:10.684997"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:19:08' WHERE "glx_status_logs"."id" = $1[0m  [["id", 85]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 24]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 89.3ms)


Started POST "/webhooks/sendgrid" for 167.89.119.65 at 2018-06-18 01:20:31 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39", "sg_event_id"=>"EfSC-ql3QPyIVlqW1rSHiQ", "sg_message_id"=>"qX-8uhfRTdqYS5phPEyPjA.filter0016p3iad2-3877-5B274F28-1E.0", "smtp-id"=>"<qX-8uhfRTdqYS5phPEyPjA@ismtpd0031p1mdw1.sendgrid.net>", "timestamp"=>1529302824}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39", "response"=>"250 2.0.0 OK 1529302825 81-v6si3604533qkp.244 - gsmtp", "sg_event_id"=>"7hZZsMEOShuSxjUvAK7-Uw", "sg_message_id"=>"qX-8uhfRTdqYS5phPEyPjA.filter0016p3iad2-3877-5B274F28-1E.0", "smtp-id"=>"<qX-8uhfRTdqYS5phPEyPjA@ismtpd0031p1mdw1.sendgrid.net>", "timestamp"=>1529302825, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39", "sg_event_id"=>"EfSC-ql3QPyIVlqW1rSHiQ", "sg_message_id"=>"qX-8uhfRTdqYS5phPEyPjA.filter0016p3iad2-3877-5B274F28-1E.0", "smtp-id"=>"<qX-8uhfRTdqYS5phPEyPjA@ismtpd0031p1mdw1.sendgrid.net>", "timestamp"=>1529302824}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39", "response"=>"250 2.0.0 OK 1529302825 81-v6si3604533qkp.244 - gsmtp", "sg_event_id"=>"7hZZsMEOShuSxjUvAK7-Uw", "sg_message_id"=>"qX-8uhfRTdqYS5phPEyPjA.filter0016p3iad2-3877-5B274F28-1E.0", "smtp-id"=>"<qX-8uhfRTdqYS5phPEyPjA@ismtpd0031p1mdw1.sendgrid.net>", "timestamp"=>1529302825, "tls"=>1}]}}
  [1m[36mGlxMail Load (6.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (7.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 25], ["LIMIT", 1]]
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "qX-8uhfRTdqYS5phPEyPjA.filter0016p3iad2-3877-5B274F28-1E.0"], ["glx_mail_id", 25], ["created_at", "2018-06-18 06:20:31.608583"], ["updated_at", "2018-06-18 06:20:31.608583"]]
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (4.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (4.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "25"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:20:31.675099"], ["updated_at", "2018-06-18 06:20:31.675099"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:20:24' WHERE "glx_status_logs"."id" = $1[0m  [["id", 88]]
  [1m[35mSQL (6.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 25]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302820148-143eab19-0e05-468e-8c61-66f2509c9c39"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 25], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "25"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:20:31.716638"], ["updated_at", "2018-06-18 06:20:31.716638"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:20:25' WHERE "glx_status_logs"."id" = $1[0m  [["id", 89]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 25]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 174ms (Views: 0.3ms | ActiveRecord: 80.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.206 at 2018-06-18 01:21:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a", "sg_event_id"=>"-qKu050rT0qHo6kOdxOY_w", "sg_message_id"=>"iA2V7OmhQ5S9w0lVPxlWNg.filter0054p3las1-12369-5B274F6F-1D.0", "smtp-id"=>"<iA2V7OmhQ5S9w0lVPxlWNg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529302895}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a", "response"=>"250 2.0.0 OK 1529302897 t7-v6si5492010qvn.81 - gsmtp", "sg_event_id"=>"7eeewr7ARD6MvB8OI3LceA", "sg_message_id"=>"iA2V7OmhQ5S9w0lVPxlWNg.filter0054p3las1-12369-5B274F6F-1D.0", "smtp-id"=>"<iA2V7OmhQ5S9w0lVPxlWNg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529302897, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a", "sg_event_id"=>"-qKu050rT0qHo6kOdxOY_w", "sg_message_id"=>"iA2V7OmhQ5S9w0lVPxlWNg.filter0054p3las1-12369-5B274F6F-1D.0", "smtp-id"=>"<iA2V7OmhQ5S9w0lVPxlWNg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529302895}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a", "response"=>"250 2.0.0 OK 1529302897 t7-v6si5492010qvn.81 - gsmtp", "sg_event_id"=>"7eeewr7ARD6MvB8OI3LceA", "sg_message_id"=>"iA2V7OmhQ5S9w0lVPxlWNg.filter0054p3las1-12369-5B274F6F-1D.0", "smtp-id"=>"<iA2V7OmhQ5S9w0lVPxlWNg@ismtpd0005p1iad1.sendgrid.net>", "timestamp"=>1529302897, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 26], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "iA2V7OmhQ5S9w0lVPxlWNg.filter0054p3las1-12369-5B274F6F-1D.0"], ["glx_mail_id", 26], ["created_at", "2018-06-18 06:21:42.303227"], ["updated_at", "2018-06-18 06:21:42.303227"]]
  [1m[35m (25.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "26"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:21:42.345971"], ["updated_at", "2018-06-18 06:21:42.345971"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:21:35' WHERE "glx_status_logs"."id" = $1[0m  [["id", 92]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 26]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302891870-8691c9fc-f22b-4a4c-9d1e-41187995388a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 26], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "26"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:21:42.385347"], ["updated_at", "2018-06-18 06:21:42.385347"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:21:37' WHERE "glx_status_logs"."id" = $1[0m  [["id", 93]]
  [1m[35mSQL (10.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 26]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 116ms (Views: 0.2ms | ActiveRecord: 57.5ms)


Started POST "/webhooks/sendgrid" for 167.89.119.72 at 2018-06-18 01:22:20 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarezv@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f", "sg_event_id"=>"sIPeCVI6QOKrPlPw9XHLHQ", "sg_message_id"=>"1P6WOAb9SoeI0HcONLYJrQ.filter0054p3iad2-3845-5B274F9D-1.0", "smtp-id"=>"<1P6WOAb9SoeI0HcONLYJrQ@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529302941}, {"email"=>"aalvarezv@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f", "response"=>"250 2.0.0 OK 1529302942 a26-v6si780724qtc.37 - gsmtp", "sg_event_id"=>"LfH7m0aASxCXBvr_2YBspA", "sg_message_id"=>"1P6WOAb9SoeI0HcONLYJrQ.filter0054p3iad2-3845-5B274F9D-1.0", "smtp-id"=>"<1P6WOAb9SoeI0HcONLYJrQ@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529302942, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarezv@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f", "sg_event_id"=>"sIPeCVI6QOKrPlPw9XHLHQ", "sg_message_id"=>"1P6WOAb9SoeI0HcONLYJrQ.filter0054p3iad2-3845-5B274F9D-1.0", "smtp-id"=>"<1P6WOAb9SoeI0HcONLYJrQ@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529302941}, {"email"=>"aalvarezv@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f", "response"=>"250 2.0.0 OK 1529302942 a26-v6si780724qtc.37 - gsmtp", "sg_event_id"=>"LfH7m0aASxCXBvr_2YBspA", "sg_message_id"=>"1P6WOAb9SoeI0HcONLYJrQ.filter0054p3iad2-3845-5B274F9D-1.0", "smtp-id"=>"<1P6WOAb9SoeI0HcONLYJrQ@ismtpd0008p1iad1.sendgrid.net>", "timestamp"=>1529302942, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 27], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "1P6WOAb9SoeI0HcONLYJrQ.filter0054p3iad2-3845-5B274F9D-1.0"], ["glx_mail_id", 27], ["created_at", "2018-06-18 06:22:20.314063"], ["updated_at", "2018-06-18 06:22:20.314063"]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "27"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:22:20.367083"], ["updated_at", "2018-06-18 06:22:20.367083"]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:22:21' WHERE "glx_status_logs"."id" = $1[0m  [["id", 96]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 27]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (2.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302937384-a020b66c-80b1-4133-bddc-db1e54891b5f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (18.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 27], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (9.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (7.2ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "27"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:22:20.436948"], ["updated_at", "2018-06-18 06:22:20.436948"]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:22:22' WHERE "glx_status_logs"."id" = $1[0m  [["id", 97]]
  [1m[35mSQL (6.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 27]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 167ms (Views: 0.1ms | ActiveRecord: 98.6ms)


Started POST "/webhooks/sendgrid" for 167.89.119.65 at 2018-06-18 01:23:21 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarezv@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62", "sg_event_id"=>"aSYLhyCDRjeDdL1_UMmfhQ", "sg_message_id"=>"nX20ygsRTI6GVjk6IpuNww.filter0021p3iad2-32651-5B274FD4-25.0", "smtp-id"=>"<nX20ygsRTI6GVjk6IpuNww@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302996}, {"email"=>"aalvarezv@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62", "response"=>"250 2.0.0 OK 1529302997 r42-v6si584962qtc.401 - gsmtp", "sg_event_id"=>"AAKn-bsMRCiK-86GTOqyIA", "sg_message_id"=>"nX20ygsRTI6GVjk6IpuNww.filter0021p3iad2-32651-5B274FD4-25.0", "smtp-id"=>"<nX20ygsRTI6GVjk6IpuNww@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302997, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarezv@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62", "sg_event_id"=>"aSYLhyCDRjeDdL1_UMmfhQ", "sg_message_id"=>"nX20ygsRTI6GVjk6IpuNww.filter0021p3iad2-32651-5B274FD4-25.0", "smtp-id"=>"<nX20ygsRTI6GVjk6IpuNww@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302996}, {"email"=>"aalvarezv@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62", "response"=>"250 2.0.0 OK 1529302997 r42-v6si584962qtc.401 - gsmtp", "sg_event_id"=>"AAKn-bsMRCiK-86GTOqyIA", "sg_message_id"=>"nX20ygsRTI6GVjk6IpuNww.filter0021p3iad2-32651-5B274FD4-25.0", "smtp-id"=>"<nX20ygsRTI6GVjk6IpuNww@ismtpd0007p1iad1.sendgrid.net>", "timestamp"=>1529302997, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 28], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (11.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "nX20ygsRTI6GVjk6IpuNww.filter0021p3iad2-32651-5B274FD4-25.0"], ["glx_mail_id", 28], ["created_at", "2018-06-18 06:23:21.644877"], ["updated_at", "2018-06-18 06:23:21.644877"]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (11.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (11.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "28"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:23:21.720638"], ["updated_at", "2018-06-18 06:23:21.720638"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:23:16' WHERE "glx_status_logs"."id" = $1[0m  [["id", 100]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 28]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529302992947-b1fd0571-a76a-4bb9-8c8c-32217fe5da62"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 28], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "28"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:23:21.761305"], ["updated_at", "2018-06-18 06:23:21.761305"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:23:17' WHERE "glx_status_logs"."id" = $1[0m  [["id", 101]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 28]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 161ms (Views: 0.2ms | ActiveRecord: 79.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-18 01:24:55 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303081124-49569023-f478-4d83-9016-982b2f431040", "sg_event_id"=>"82WgsIMCS-GutpWNBlz42g", "sg_message_id"=>"55wapk-VT-ORM0taZJGVbg.filter0041p3las1-9525-5B275030-2.0", "smtp-id"=>"<55wapk-VT-ORM0taZJGVbg@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529303088}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303081124-49569023-f478-4d83-9016-982b2f431040", "response"=>"250 2.0.0 OK 1529303089 p23-v6si1969168qtf.216 - gsmtp", "sg_event_id"=>"dbgsebhiQ8iUnaqpcVfiBQ", "sg_message_id"=>"55wapk-VT-ORM0taZJGVbg.filter0041p3las1-9525-5B275030-2.0", "smtp-id"=>"<55wapk-VT-ORM0taZJGVbg@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529303089, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303081124-49569023-f478-4d83-9016-982b2f431040", "sg_event_id"=>"82WgsIMCS-GutpWNBlz42g", "sg_message_id"=>"55wapk-VT-ORM0taZJGVbg.filter0041p3las1-9525-5B275030-2.0", "smtp-id"=>"<55wapk-VT-ORM0taZJGVbg@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529303088}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303081124-49569023-f478-4d83-9016-982b2f431040", "response"=>"250 2.0.0 OK 1529303089 p23-v6si1969168qtf.216 - gsmtp", "sg_event_id"=>"dbgsebhiQ8iUnaqpcVfiBQ", "sg_message_id"=>"55wapk-VT-ORM0taZJGVbg.filter0041p3las1-9525-5B275030-2.0", "smtp-id"=>"<55wapk-VT-ORM0taZJGVbg@ismtpd0043p1mdw1.sendgrid.net>", "timestamp"=>1529303089, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303081124-49569023-f478-4d83-9016-982b2f431040"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (13.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35mSQL (23.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "55wapk-VT-ORM0taZJGVbg.filter0041p3las1-9525-5B275030-2.0"], ["glx_mail_id", 29], ["created_at", "2018-06-18 06:24:55.248943"], ["updated_at", "2018-06-18 06:24:55.248943"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (9.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (9.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (15.1ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "29"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:24:55.400255"], ["updated_at", "2018-06-18 06:24:55.400255"]]
  [1m[35mSQL (26.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:24:48' WHERE "glx_status_logs"."id" = $1[0m  [["id", 104]]
  [1m[35mSQL (8.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 29]]
  [1m[35m (69.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303081124-49569023-f478-4d83-9016-982b2f431040"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 29], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "29"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:24:55.592986"], ["updated_at", "2018-06-18 06:24:55.592986"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:24:49' WHERE "glx_status_logs"."id" = $1[0m  [["id", 105]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 29]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 404ms (Views: 0.2ms | ActiveRecord: 200.2ms)


Started POST "/webhooks/sendgrid" for 167.89.121.238 at 2018-06-18 01:26:12 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f", "sg_event_id"=>"5WUCxLUcTsOLuccmRNqeoQ", "sg_message_id"=>"kJDSLDGwRZOMxPaMulBWhQ.filter0034p3las1-30777-5B27507D-8.0", "smtp-id"=>"<kJDSLDGwRZOMxPaMulBWhQ@ismtpd0037p1mdw1.sendgrid.net>", "timestamp"=>1529303165}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f", "response"=>"250 2.0.0 OK 1529303166 p47-v6si13480978qtp.296 - gsmtp", "sg_event_id"=>"HwDsheQrQYGZ-EYJknnbMA", "sg_message_id"=>"kJDSLDGwRZOMxPaMulBWhQ.filter0034p3las1-30777-5B27507D-8.0", "smtp-id"=>"<kJDSLDGwRZOMxPaMulBWhQ@ismtpd0037p1mdw1.sendgrid.net>", "timestamp"=>1529303167, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f", "sg_event_id"=>"5WUCxLUcTsOLuccmRNqeoQ", "sg_message_id"=>"kJDSLDGwRZOMxPaMulBWhQ.filter0034p3las1-30777-5B27507D-8.0", "smtp-id"=>"<kJDSLDGwRZOMxPaMulBWhQ@ismtpd0037p1mdw1.sendgrid.net>", "timestamp"=>1529303165}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f", "response"=>"250 2.0.0 OK 1529303166 p47-v6si13480978qtp.296 - gsmtp", "sg_event_id"=>"HwDsheQrQYGZ-EYJknnbMA", "sg_message_id"=>"kJDSLDGwRZOMxPaMulBWhQ.filter0034p3las1-30777-5B27507D-8.0", "smtp-id"=>"<kJDSLDGwRZOMxPaMulBWhQ@ismtpd0037p1mdw1.sendgrid.net>", "timestamp"=>1529303167, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35mSQL (7.0ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "kJDSLDGwRZOMxPaMulBWhQ.filter0034p3las1-30777-5B27507D-8.0"], ["glx_mail_id", 30], ["created_at", "2018-06-18 06:26:12.936854"], ["updated_at", "2018-06-18 06:26:12.936854"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "30"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:26:12.995881"], ["updated_at", "2018-06-18 06:26:12.995881"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:26:05' WHERE "glx_status_logs"."id" = $1[0m  [["id", 108]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 30]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303160873-6a5f6b4f-30f3-4b9d-8d66-ace28862150f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (5.0ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 30], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (4.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "30"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:26:13.064720"], ["updated_at", "2018-06-18 06:26:13.064720"]]
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:26:07' WHERE "glx_status_logs"."id" = $1[0m  [["id", 109]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 30]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 75.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.238 at 2018-06-18 01:26:25 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a", "sg_event_id"=>"bc2vmQ9iRHqSwC1pNp45sw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "smtp-id"=>"<BuVoCC_0SCWaCbD7XrjloA@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529303186}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a", "sg_event_id"=>"bc2vmQ9iRHqSwC1pNp45sw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "smtp-id"=>"<BuVoCC_0SCWaCbD7XrjloA@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529303186}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 31], ["LIMIT", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0"], ["glx_mail_id", 31], ["created_at", "2018-06-18 06:26:25.126880"], ["updated_at", "2018-06-18 06:26:25.126880"]]
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (5.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "31"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:26:25.205439"], ["updated_at", "2018-06-18 06:26:25.205439"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:26:26' WHERE "glx_status_logs"."id" = $1[0m  [["id", 112]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 31]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 119ms (Views: 0.2ms | ActiveRecord: 51.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.240 at 2018-06-18 01:26:34 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a", "response"=>"250 2.0.0 OK 1529303188 x6-v6si117536qvb.261 - gsmtp", "sg_event_id"=>"aEnp8QHgSUyqMtCo65FePw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "smtp-id"=>"<BuVoCC_0SCWaCbD7XrjloA@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529303188, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a", "response"=>"250 2.0.0 OK 1529303188 x6-v6si117536qvb.261 - gsmtp", "sg_event_id"=>"aEnp8QHgSUyqMtCo65FePw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "smtp-id"=>"<BuVoCC_0SCWaCbD7XrjloA@ismtpd0049p1mdw1.sendgrid.net>", "timestamp"=>1529303188, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 31], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (12.2ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "31"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:26:34.928232"], ["updated_at", "2018-06-18 06:26:34.928232"]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:26:28' WHERE "glx_status_logs"."id" = $1[0m  [["id", 113]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 31]]
  [1m[35m (261.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 354ms (Views: 0.1ms | ActiveRecord: 288.7ms)


Started POST "/webhooks/sendgrid" for 167.89.119.83 at 2018-06-18 01:27:24 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c", "sg_event_id"=>"6AIPpMKGSiKqGXDCpicjhw", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "smtp-id"=>"<owVGeixZRduyZMks0CN6vw@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1529303237}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c", "response"=>"250 2.0.0 OK 1529303238 r16-v6si7716033qkk.53 - gsmtp", "sg_event_id"=>"tsKZBFL-RdWWwRZgkhqIGg", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "smtp-id"=>"<owVGeixZRduyZMks0CN6vw@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1529303238, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c", "sg_event_id"=>"6AIPpMKGSiKqGXDCpicjhw", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "smtp-id"=>"<owVGeixZRduyZMks0CN6vw@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1529303237}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c", "response"=>"250 2.0.0 OK 1529303238 r16-v6si7716033qkk.53 - gsmtp", "sg_event_id"=>"tsKZBFL-RdWWwRZgkhqIGg", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "smtp-id"=>"<owVGeixZRduyZMks0CN6vw@ismtpd0045p1mdw1.sendgrid.net>", "timestamp"=>1529303238, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0"], ["glx_mail_id", 32], ["created_at", "2018-06-18 06:27:24.324252"], ["updated_at", "2018-06-18 06:27:24.324252"]]
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (3.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "32"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:27:24.383986"], ["updated_at", "2018-06-18 06:27:24.383986"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:27:17' WHERE "glx_status_logs"."id" = $1[0m  [["id", 116]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 32]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "32"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:27:24.425723"], ["updated_at", "2018-06-18 06:27:24.425723"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:27:18' WHERE "glx_status_logs"."id" = $1[0m  [["id", 117]]
  [1m[35mSQL (3.1ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 32]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 171ms (Views: 0.1ms | ActiveRecord: 52.1ms)


Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-18 01:28:43 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303295, "ip"=>"66.102.8.63", "sg_event_id"=>"FBWk_u9kRdKS0jINj7yNuw", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303295, "ip"=>"66.102.8.63", "sg_event_id"=>"FBWk_u9kRdKS0jINj7yNuw", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "32"], ["status_from_id", 7], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 06:28:43.953566"], ["updated_at", "2018-06-18 06:28:43.953566"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:28:15' WHERE "glx_status_logs"."id" = $1[0m  [["id", 118]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 32]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 9.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.238 at 2018-06-18 01:28:44 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303293, "ip"=>"66.102.8.32", "sg_event_id"=>"0BJz3bVAS62looXifFgkbA", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303293, "ip"=>"66.102.8.32", "sg_event_id"=>"0BJz3bVAS62looXifFgkbA", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 3.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.220 at 2018-06-18 01:28:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303300, "ip"=>"66.102.8.32", "sg_event_id"=>"yhRv8Ex_TpSTo8hHlFyd5A", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303300, "ip"=>"66.102.8.32", "sg_event_id"=>"yhRv8Ex_TpSTo8hHlFyd5A", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 4.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.235 at 2018-06-18 01:28:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303299, "ip"=>"66.102.8.63", "sg_event_id"=>"qrOob2DsTSS3RvoGip41fA", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303299, "ip"=>"66.102.8.63", "sg_event_id"=>"qrOob2DsTSS3RvoGip41fA", "sg_message_id"=>"owVGeixZRduyZMks0CN6vw.filter0046p3iad2-20085-5B2750C5-2C.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303233943-19dca9f2-3b01-4253-97c6-3680a2b3e06c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 32], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 4.1ms)


Started POST "/webhooks/sendgrid" for 167.89.119.67 at 2018-06-18 01:29:50 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529303379753-3bc2bccc-5b96-49f1-bcc8-a934ce50c67f", "reason"=>"Bounced Address", "sg_event_id"=>"zS3M804wS1uTC6bYCrQZlw", "sg_message_id"=>"Eq7Ta34uTtSck4mXnTkCng.filter0055p3iad2-28269-5B275157-2E.0", "smtp-id"=>"<Eq7Ta34uTtSck4mXnTkCng@ismtpd0008p1iad2.sendgrid.net>", "timestamp"=>1529303383}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529303379753-3bc2bccc-5b96-49f1-bcc8-a934ce50c67f", "reason"=>"Bounced Address", "sg_event_id"=>"zS3M804wS1uTC6bYCrQZlw", "sg_message_id"=>"Eq7Ta34uTtSck4mXnTkCng.filter0055p3iad2-28269-5B275157-2E.0", "smtp-id"=>"<Eq7Ta34uTtSck4mXnTkCng@ismtpd0008p1iad2.sendgrid.net>", "timestamp"=>1529303383}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303379753-3bc2bccc-5b96-49f1-bcc8-a934ce50c67f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 33], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "Eq7Ta34uTtSck4mXnTkCng.filter0055p3iad2-28269-5B275157-2E.0"], ["glx_mail_id", 33], ["created_at", "2018-06-18 06:29:50.771986"], ["updated_at", "2018-06-18 06:29:50.771986"]]
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "33"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 12], ["created_at", "2018-06-18 06:29:50.838154"], ["updated_at", "2018-06-18 06:29:50.838154"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:29:43' WHERE "glx_status_logs"."id" = $1[0m  [["id", 121]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 12], ["id", 33]]
  [1m[35m (54.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 137ms (Views: 0.1ms | ActiveRecord: 112.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.83 at 2018-06-18 01:30:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e", "sg_event_id"=>"VRn4mkPbQuKR6epWUO4AeA", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "smtp-id"=>"<pRDpxP2ZQc6JcdrUgcEb2A@ismtpd0009p1iad2.sendgrid.net>", "timestamp"=>1529303443}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e", "sg_event_id"=>"VRn4mkPbQuKR6epWUO4AeA", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "smtp-id"=>"<pRDpxP2ZQc6JcdrUgcEb2A@ismtpd0009p1iad2.sendgrid.net>", "timestamp"=>1529303443}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 34], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0"], ["glx_mail_id", 34], ["created_at", "2018-06-18 06:30:42.636572"], ["updated_at", "2018-06-18 06:30:42.636572"]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (11.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "34"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:30:42.686382"], ["updated_at", "2018-06-18 06:30:42.686382"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:30:43' WHERE "glx_status_logs"."id" = $1[0m  [["id", 124]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 34]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 97ms (Views: 0.2ms | ActiveRecord: 44.4ms)


Started POST "/webhooks/sendgrid" for 167.89.119.66 at 2018-06-18 01:30:53 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e", "response"=>"250 2.0.0 OK 1529303444 a3-v6si5392434qth.12 - gsmtp", "sg_event_id"=>"XtwonyeTQ6ibGjeiM9mYrg", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "smtp-id"=>"<pRDpxP2ZQc6JcdrUgcEb2A@ismtpd0009p1iad2.sendgrid.net>", "timestamp"=>1529303444, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e", "response"=>"250 2.0.0 OK 1529303444 a3-v6si5392434qth.12 - gsmtp", "sg_event_id"=>"XtwonyeTQ6ibGjeiM9mYrg", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "smtp-id"=>"<pRDpxP2ZQc6JcdrUgcEb2A@ismtpd0009p1iad2.sendgrid.net>", "timestamp"=>1529303444, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 34], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "34"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:30:53.631837"], ["updated_at", "2018-06-18 06:30:53.631837"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:30:44' WHERE "glx_status_logs"."id" = $1[0m  [["id", 125]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 34]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 63ms (Views: 0.1ms | ActiveRecord: 12.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.234 at 2018-06-18 01:31:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303445, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "sg_event_id"=>"FsYlfka-R46eXCEOBz-Syw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303445, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"pRDpxP2ZQc6JcdrUgcEb2A.filter0012p3iad2-32507-5B275192-44.0", "sg_event_id"=>"FsYlfka-R46eXCEOBz-Syw", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 34], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Error: Mail1529303439223-0b1d054a-43d6-443f-afe8-722cb2e7f58e Bounce 7
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started POST "/webhooks/sendgrid" for 167.89.119.70 at 2018-06-18 01:33:20 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81", "sg_event_id"=>"CDA5T9XTSDuKVDyuQn_r9w", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "smtp-id"=>"<7zaSYXOmRyW_hQ5xC04GxA@ismtpd0007p1iad2.sendgrid.net>", "timestamp"=>1529303598}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81", "response"=>"250 2.0.0 OK 1529303599 o19-v6si1740269qki.30 - gsmtp", "sg_event_id"=>"xpj-6FVTT-uR-d1XxuKknQ", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "smtp-id"=>"<7zaSYXOmRyW_hQ5xC04GxA@ismtpd0007p1iad2.sendgrid.net>", "timestamp"=>1529303599, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81", "sg_event_id"=>"CDA5T9XTSDuKVDyuQn_r9w", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "smtp-id"=>"<7zaSYXOmRyW_hQ5xC04GxA@ismtpd0007p1iad2.sendgrid.net>", "timestamp"=>1529303598}, {"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81", "response"=>"250 2.0.0 OK 1529303599 o19-v6si1740269qki.30 - gsmtp", "sg_event_id"=>"xpj-6FVTT-uR-d1XxuKknQ", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "smtp-id"=>"<7zaSYXOmRyW_hQ5xC04GxA@ismtpd0007p1iad2.sendgrid.net>", "timestamp"=>1529303599, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 35], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0"], ["glx_mail_id", 35], ["created_at", "2018-06-18 06:33:21.284204"], ["updated_at", "2018-06-18 06:33:21.284204"]]
  [1m[35m (32.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "35"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:33:21.445801"], ["updated_at", "2018-06-18 06:33:21.445801"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:33:18' WHERE "glx_status_logs"."id" = $1[0m  [["id", 128]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 35]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 35], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "35"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:33:21.487745"], ["updated_at", "2018-06-18 06:33:21.487745"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:33:19' WHERE "glx_status_logs"."id" = $1[0m  [["id", 129]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 35]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 444ms (Views: 0.3ms | ActiveRecord: 81.1ms)


Started POST "/webhooks/sendgrid" for 167.89.121.224 at 2018-06-18 01:33:47 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303600, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "sg_event_id"=>"EsdmG0QxRC2gD5G02NyK2w", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303600, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"7zaSYXOmRyW_hQ5xC04GxA.filter0018p3iad2-17578-5B27522E-9.0", "sg_event_id"=>"EsdmG0QxRC2gD5G02NyK2w", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81"}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 35], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
Error: Mail1529303593818-21b5a46e-c16d-4617-ab26-c9dc26a5ef81 Bounce 7
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 14.7ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (25.8ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (9.6ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 06:34:00.918552"], ["updated_at", "2018-06-18 06:34:00.918552"]]
  [1m[35m (167.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Created"], ["created_at", "2018-06-18 06:34:01.090796"], ["updated_at", "2018-06-18 06:34:01.090796"]]
  [1m[35m (76.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 06:34:01.170263"], ["updated_at", "2018-06-18 06:34:01.170263"]]
  [1m[35m (55.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 06:34:01.228099"], ["updated_at", "2018-06-18 06:34:01.228099"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 06:34:01.233249"], ["updated_at", "2018-06-18 06:34:01.233249"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Openend"], ["created_at", "2018-06-18 06:34:01.238425"], ["updated_at", "2018-06-18 06:34:01.238425"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 06:34:01.243462"], ["updated_at", "2018-06-18 06:34:01.243462"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 06:34:01.249634"], ["updated_at", "2018-06-18 06:34:01.249634"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 06:34:01.254675"], ["updated_at", "2018-06-18 06:34:01.254675"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 06:34:01.260015"], ["updated_at", "2018-06-18 06:34:01.260015"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 06:34:01.266232"], ["updated_at", "2018-06-18 06:34:01.266232"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Dropped"], ["created_at", "2018-06-18 06:34:01.271117"], ["updated_at", "2018-06-18 06:34:01.271117"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Openend"], ["final_status_id", 5], ["created_at", "2018-06-18 06:34:01.318908"], ["updated_at", "2018-06-18 06:34:01.318908"]]
  [1m[35m (68.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Created"], ["final_status_id", 2], ["created_at", "2018-06-18 06:34:01.393896"], ["updated_at", "2018-06-18 06:34:01.393896"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 3], ["created_at", "2018-06-18 06:34:01.402076"], ["updated_at", "2018-06-18 06:34:01.402076"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 4], ["created_at", "2018-06-18 06:34:01.410854"], ["updated_at", "2018-06-18 06:34:01.410854"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Processed"], ["final_status_id", 11], ["created_at", "2018-06-18 06:34:01.420611"], ["updated_at", "2018-06-18 06:34:01.420611"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Delivered"], ["final_status_id", 7], ["created_at", "2018-06-18 06:34:01.428573"], ["updated_at", "2018-06-18 06:34:01.428573"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 06:34:01.436371"], ["updated_at", "2018-06-18 06:34:01.436371"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 06:34:01.443897"], ["updated_at", "2018-06-18 06:34:01.443897"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 6], ["action", "Open"], ["final_status_id", 6], ["created_at", "2018-06-18 06:34:01.451796"], ["updated_at", "2018-06-18 06:34:01.451796"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 11], ["action", "Bounce"], ["final_status_id", 8], ["created_at", "2018-06-18 06:34:01.459863"], ["updated_at", "2018-06-18 06:34:01.459863"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Dropped"], ["final_status_id", 12], ["created_at", "2018-06-18 06:34:01.469695"], ["updated_at", "2018-06-18 06:34:01.469695"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 2], ["action", "Dropped"], ["final_status_id", 12], ["created_at", "2018-06-18 06:34:01.477509"], ["updated_at", "2018-06-18 06:34:01.477509"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 7], ["action", "Bounce"], ["final_status_id", 8], ["created_at", "2018-06-18 06:34:01.485831"], ["updated_at", "2018-06-18 06:34:01.485831"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-18 01:34:28 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f", "sg_event_id"=>"ACpBplDnSBus4cY6gdKVlg", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "smtp-id"=>"<6f6A43LXQ36EUkCwnkLsxA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529303669}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f", "sg_event_id"=>"ACpBplDnSBus4cY6gdKVlg", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "smtp-id"=>"<6f6A43LXQ36EUkCwnkLsxA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529303669}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 36], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0"], ["glx_mail_id", 36], ["created_at", "2018-06-18 06:34:28.969978"], ["updated_at", "2018-06-18 06:34:28.969978"]]
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "36"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:34:29.158342"], ["updated_at", "2018-06-18 06:34:29.158342"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:34:29' WHERE "glx_status_logs"."id" = $1[0m  [["id", 132]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 36]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 283ms (Views: 0.2ms | ActiveRecord: 89.9ms)


Started POST "/webhooks/sendgrid" for 167.89.121.235 at 2018-06-18 01:34:38 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f", "response"=>"250 2.0.0 OK 1529303670 k23-v6si13034363qvg.220 - gsmtp", "sg_event_id"=>"gZJFA3H1StmD_N45lB_f2Q", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "smtp-id"=>"<6f6A43LXQ36EUkCwnkLsxA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529303670, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f", "response"=>"250 2.0.0 OK 1529303670 k23-v6si13034363qvg.220 - gsmtp", "sg_event_id"=>"gZJFA3H1StmD_N45lB_f2Q", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "smtp-id"=>"<6f6A43LXQ36EUkCwnkLsxA@ismtpd0041p1mdw1.sendgrid.net>", "timestamp"=>1529303670, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 36], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (4.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "36"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:34:38.336531"], ["updated_at", "2018-06-18 06:34:38.336531"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:34:30' WHERE "glx_status_logs"."id" = $1[0m  [["id", 133]]
  [1m[35mSQL (2.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 36]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.4ms | ActiveRecord: 24.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.222 at 2018-06-18 01:34:58 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303671, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "sg_event_id"=>"rO0D1xqoTHiXHHwuCUO4kg", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529303671, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"6f6A43LXQ36EUkCwnkLsxA.filter0053p3las1-18571-5B275275-5.0", "sg_event_id"=>"rO0D1xqoTHiXHHwuCUO4kg", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303665012-b2f9b957-0fc1-4da9-a707-69f1f175b07f"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 36], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "36"], ["status_from_id", 7], ["action", "Bounce"], ["status_to_id", 8], ["created_at", "2018-06-18 06:34:58.968582"], ["updated_at", "2018-06-18 06:34:58.968582"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:34:31' WHERE "glx_status_logs"."id" = $1[0m  [["id", 134]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 8], ["id", 36]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 53ms (Views: 0.1ms | ActiveRecord: 11.5ms)


Started POST "/webhooks/sendgrid" for 167.89.119.70 at 2018-06-18 01:35:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149", "sg_event_id"=>"dteEll-iSZCYMph57VzXEw", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "smtp-id"=>"<cQLBFIYyRsmTioG4t5G1tA@ismtpd0025p1iad2.sendgrid.net>", "timestamp"=>1529303747}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149", "response"=>"250 2.0.0 OK 1529303748 u1-v6si13166813qkd.91 - gsmtp", "sg_event_id"=>"Iec0WvmFSuO88anZYs8T5g", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "smtp-id"=>"<cQLBFIYyRsmTioG4t5G1tA@ismtpd0025p1iad2.sendgrid.net>", "timestamp"=>1529303748, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149", "sg_event_id"=>"dteEll-iSZCYMph57VzXEw", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "smtp-id"=>"<cQLBFIYyRsmTioG4t5G1tA@ismtpd0025p1iad2.sendgrid.net>", "timestamp"=>1529303747}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149", "response"=>"250 2.0.0 OK 1529303748 u1-v6si13166813qkd.91 - gsmtp", "sg_event_id"=>"Iec0WvmFSuO88anZYs8T5g", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "smtp-id"=>"<cQLBFIYyRsmTioG4t5G1tA@ismtpd0025p1iad2.sendgrid.net>", "timestamp"=>1529303748, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 37], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[35mSQL (9.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0"], ["glx_mail_id", 37], ["created_at", "2018-06-18 06:35:52.106627"], ["updated_at", "2018-06-18 06:35:52.106627"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (11.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (7.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (6.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "37"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 11], ["created_at", "2018-06-18 06:35:52.204894"], ["updated_at", "2018-06-18 06:35:52.204894"]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:35:47' WHERE "glx_status_logs"."id" = $1[0m  [["id", 137]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 11], ["id", 37]]
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 37], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 11], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "37"], ["status_from_id", 11], ["action", "Delivered"], ["status_to_id", 7], ["created_at", "2018-06-18 06:35:52.281452"], ["updated_at", "2018-06-18 06:35:52.281452"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:35:48' WHERE "glx_status_logs"."id" = $1[0m  [["id", 138]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 37]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 243ms (Views: 0.2ms | ActiveRecord: 93.8ms)


Started POST "/webhooks/sendgrid" for 167.89.121.223 at 2018-06-18 01:36:36 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303767, "ip"=>"66.102.8.35", "sg_event_id"=>"yP-Qt_MeTW639oSrnD1awQ", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303767, "ip"=>"66.102.8.35", "sg_event_id"=>"yP-Qt_MeTW639oSrnD1awQ", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"}]}}
  [1m[36mGlxMail Load (1.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 37], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "37"], ["status_from_id", 7], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 06:36:36.882252"], ["updated_at", "2018-06-18 06:36:36.882252"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:36:07' WHERE "glx_status_logs"."id" = $1[0m  [["id", 139]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 37]]
  [1m[35m (61.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 96ms (Views: 0.2ms | ActiveRecord: 69.6ms)


Started POST "/webhooks/sendgrid" for 167.89.121.249 at 2018-06-18 01:36:38 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303768, "ip"=>"66.102.8.63", "sg_event_id"=>"6zp-ScVmSl-my3xvZjwkIw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303768, "ip"=>"66.102.8.63", "sg_event_id"=>"6zp-ScVmSl-my3xvZjwkIw", "sg_message_id"=>"BuVoCC_0SCWaCbD7XrjloA.filter0067p3las1-31698-5B275092-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303182855-76d04872-c2f9-4cc5-abff-317899d6086a"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 31], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "31"], ["status_from_id", 7], ["action", "Open"], ["status_to_id", 6], ["created_at", "2018-06-18 06:36:38.450890"], ["updated_at", "2018-06-18 06:36:38.450890"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:36:08' WHERE "glx_status_logs"."id" = $1[0m  [["id", 140]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 31]]
  [1m[35m (68.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 113ms (Views: 0.3ms | ActiveRecord: 76.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.211 at 2018-06-18 01:36:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303767, "ip"=>"66.102.8.35", "sg_event_id"=>"TW0dGpdsQq6XnY4Ry_AhTQ", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529303767, "ip"=>"66.102.8.35", "sg_event_id"=>"TW0dGpdsQq6XnY4Ry_AhTQ", "sg_message_id"=>"cQLBFIYyRsmTioG4t5G1tA.filter0006p3iad2-31295-5B2752C3-16.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303743456-4544999e-4375-4262-99d6-6c67ae9c6149"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 37], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.221 at 2018-06-18 01:37:52 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529303861894-4e09f3f8-9c1f-454e-bb6c-c9d0f6ca19e3", "reason"=>"Bounced Address", "sg_event_id"=>"RBbVDVZdT4C-e-BF3UV4Vw", "sg_message_id"=>"m-WVzfj_T3iTR0XZmkxMRA.filter0031p3las1-22299-5B275339-29.0", "smtp-id"=>"<m-WVzfj_T3iTR0XZmkxMRA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529303865}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529303861894-4e09f3f8-9c1f-454e-bb6c-c9d0f6ca19e3", "reason"=>"Bounced Address", "sg_event_id"=>"RBbVDVZdT4C-e-BF3UV4Vw", "sg_message_id"=>"m-WVzfj_T3iTR0XZmkxMRA.filter0031p3las1-22299-5B275339-29.0", "smtp-id"=>"<m-WVzfj_T3iTR0XZmkxMRA@ismtpd0029p1mdw1.sendgrid.net>", "timestamp"=>1529303865}]}}
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529303861894-4e09f3f8-9c1f-454e-bb6c-c9d0f6ca19e3"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 38], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[35mSQL (8.2ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "m-WVzfj_T3iTR0XZmkxMRA.filter0031p3las1-22299-5B275339-29.0"], ["glx_mail_id", 38], ["created_at", "2018-06-18 06:37:52.050738"], ["updated_at", "2018-06-18 06:37:52.050738"]]
  [1m[35m (56.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (6.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "38"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 12], ["created_at", "2018-06-18 06:37:52.147205"], ["updated_at", "2018-06-18 06:37:52.147205"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 06:37:45' WHERE "glx_status_logs"."id" = $1[0m  [["id", 143]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 12], ["id", 38]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 157ms (Views: 0.2ms | ActiveRecord: 81.2ms)


  [1m[35m (41.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (103.5ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (10.7ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-18 21:43:33.224254"], ["updated_at", "2018-06-18 21:43:33.224254"]]
  [1m[35m (134.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-18 21:43:33.364826"], ["updated_at", "2018-06-18 21:43:33.364826"]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-18 21:43:33.383713"], ["updated_at", "2018-06-18 21:43:33.383713"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-18 21:43:33.389316"], ["updated_at", "2018-06-18 21:43:33.389316"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-18 21:43:33.395484"], ["updated_at", "2018-06-18 21:43:33.395484"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-18 21:43:33.399218"], ["updated_at", "2018-06-18 21:43:33.399218"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-18 21:43:33.403732"], ["updated_at", "2018-06-18 21:43:33.403732"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Dropped"], ["created_at", "2018-06-18 21:43:33.408707"], ["updated_at", "2018-06-18 21:43:33.408707"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (50.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 2], ["created_at", "2018-06-18 21:43:33.551314"], ["updated_at", "2018-06-18 21:43:33.551314"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 3], ["created_at", "2018-06-18 21:43:33.572689"], ["updated_at", "2018-06-18 21:43:33.572689"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Openend"], ["final_status_id", 4], ["created_at", "2018-06-18 21:43:33.580812"], ["updated_at", "2018-06-18 21:43:33.580812"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Open"], ["final_status_id", 4], ["created_at", "2018-06-18 21:43:33.586874"], ["updated_at", "2018-06-18 21:43:33.586874"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Delivered"], ["final_status_id", 5], ["created_at", "2018-06-18 21:43:33.595528"], ["updated_at", "2018-06-18 21:43:33.595528"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Bounce"], ["final_status_id", 6], ["created_at", "2018-06-18 21:43:33.603302"], ["updated_at", "2018-06-18 21:43:33.603302"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Processed"], ["final_status_id", 7], ["created_at", "2018-06-18 21:43:33.612093"], ["updated_at", "2018-06-18 21:43:33.612093"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Dropped"], ["final_status_id", 8], ["created_at", "2018-06-18 21:43:33.619274"], ["updated_at", "2018-06-18 21:43:33.619274"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/sendgrid" for 167.89.121.247 at 2018-06-18 16:50:55 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b", "sg_event_id"=>"yC8H_Jy3Qg-hTozGcQ6Oqg", "sg_message_id"=>"_SR-eTQURA-YI0lBiQ0itg.filter0057p3las1-22829-5B282935-14.0", "smtp-id"=>"<_SR-eTQURA-YI0lBiQ0itg@ismtpd0003p1iad2.sendgrid.net>", "timestamp"=>1529358645}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b", "response"=>"250 2.0.0 OK 1529358647 d82-v6si10215102qke.276 - gsmtp", "sg_event_id"=>"hg9x_IQGQoaGTYPom_icvg", "sg_message_id"=>"_SR-eTQURA-YI0lBiQ0itg.filter0057p3las1-22829-5B282935-14.0", "smtp-id"=>"<_SR-eTQURA-YI0lBiQ0itg@ismtpd0003p1iad2.sendgrid.net>", "timestamp"=>1529358647, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b", "sg_event_id"=>"yC8H_Jy3Qg-hTozGcQ6Oqg", "sg_message_id"=>"_SR-eTQURA-YI0lBiQ0itg.filter0057p3las1-22829-5B282935-14.0", "smtp-id"=>"<_SR-eTQURA-YI0lBiQ0itg@ismtpd0003p1iad2.sendgrid.net>", "timestamp"=>1529358645}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b", "response"=>"250 2.0.0 OK 1529358647 d82-v6si10215102qke.276 - gsmtp", "sg_event_id"=>"hg9x_IQGQoaGTYPom_icvg", "sg_message_id"=>"_SR-eTQURA-YI0lBiQ0itg.filter0057p3las1-22829-5B282935-14.0", "smtp-id"=>"<_SR-eTQURA-YI0lBiQ0itg@ismtpd0003p1iad2.sendgrid.net>", "timestamp"=>1529358647, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (20.4ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 39], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[35mSQL (29.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "_SR-eTQURA-YI0lBiQ0itg.filter0057p3las1-22829-5B282935-14.0"], ["glx_mail_id", 39], ["created_at", "2018-06-18 21:50:56.201395"], ["updated_at", "2018-06-18 21:50:56.201395"]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Error: Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b Processed 2
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 39], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Error: Mail1529358638331-f004503b-c6ba-4abd-a7b1-1e38e3894e0b Delivered 2
Completed 200 OK in 387ms (Views: 0.2ms | ActiveRecord: 107.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.228 at 2018-06-18 16:53:56 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c", "sg_event_id"=>"A-r4pq2DRu-UkP7apudlLg", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "smtp-id"=>"<y46QgD6ERricikE5CVOFsw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529358829}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c", "response"=>"250 2.0.0 OK 1529358830 u3-v6si3473682qta.336 - gsmtp", "sg_event_id"=>"1j0pSErVRWOLg9lLqiEAgA", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "smtp-id"=>"<y46QgD6ERricikE5CVOFsw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529358830, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c", "sg_event_id"=>"A-r4pq2DRu-UkP7apudlLg", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "smtp-id"=>"<y46QgD6ERricikE5CVOFsw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529358829}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c", "response"=>"250 2.0.0 OK 1529358830 u3-v6si3473682qta.336 - gsmtp", "sg_event_id"=>"1j0pSErVRWOLg9lLqiEAgA", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "smtp-id"=>"<y46QgD6ERricikE5CVOFsw@ismtpd0024p1mdw1.sendgrid.net>", "timestamp"=>1529358830, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 40], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0"], ["glx_mail_id", 40], ["created_at", "2018-06-18 21:53:56.902522"], ["updated_at", "2018-06-18 21:53:56.902522"]]
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (2.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Error: Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c Processed 2
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 40], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Error: Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c Delivered 2
Completed 200 OK in 142ms (Views: 0.1ms | ActiveRecord: 57.7ms)


Started POST "/webhooks/sendgrid" for 167.89.121.202 at 2018-06-18 16:55:21 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 41], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0"], ["glx_mail_id", 41], ["created_at", "2018-06-18 21:55:22.000566"], ["updated_at", "2018-06-18 21:55:22.000566"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 191ms (ActiveRecord: 37.9ms)


  
NoMethodError (undefined method `STATUS_ALL_ID' for #<Class:0x007fe21c729dd0>):
  
app/models/glx_machine_status.rb:12:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:23:in `block in sendgrid'
app/controllers/webhooks_controller.rb:4:in `each'
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.246 at 2018-06-18 16:56:04 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 41], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 80ms (ActiveRecord: 15.3ms)


  
NoMethodError (undefined method `STATUS_ALL_ID' for #<Class:0x007fe21c729dd0>):
  
app/models/glx_machine_status.rb:12:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:23:in `block in sendgrid'
app/controllers/webhooks_controller.rb:4:in `each'
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.243 at 2018-06-18 16:57:11 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 41], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 129ms (ActiveRecord: 3.0ms)


  
NoMethodError (undefined method `STATUS_ALL_ID=' for #<Class:0x007fe21c7296f0>):
  
app/models/glx_status.rb:3:in `<class:GlxStatus>'
app/models/glx_status.rb:1:in `<top (required)>'
app/models/glx_machine_status.rb:12:in `get_status_from_initial_status_and_action'
app/controllers/webhooks_controller.rb:23:in `block in sendgrid'
app/controllers/webhooks_controller.rb:4:in `each'
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.121.217 at 2018-06-18 16:58:55 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "sg_event_id"=>"_QyY0xkfQ7qh8xlN2b6Mxg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358914}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96", "response"=>"250 2.0.0 OK 1529358915 c33-v6si3670750qve.47 - gsmtp", "sg_event_id"=>"yhgT6wzeSZiUsqU3zTuE5g", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "smtp-id"=>"<mqxhY6ppRcuDKlBXa18rew@ismtpd0044p1mdw1.sendgrid.net>", "timestamp"=>1529358915, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 41], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 0], ["LIMIT", 1]]
Error: Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96 Processed 2
  [1m[36mGlxMail Load (22.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 41], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (5.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 0], ["LIMIT", 1]]
Error: Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96 Delivered 2
Completed 200 OK in 258ms (Views: 0.3ms | ActiveRecord: 65.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.236 at 2018-06-18 17:01:27 -0500
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d", "sg_event_id"=>"dsJEoA2VTyeIasd90j6MKw", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "smtp-id"=>"<AOPEDwQrRGOsmWobXoJuNg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529359279}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d", "response"=>"250 2.0.0 OK 1529359280 p12-v6si113641qvm.2 - gsmtp", "sg_event_id"=>"Tm-4XcTrToihvNHD8Ff8FQ", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "smtp-id"=>"<AOPEDwQrRGOsmWobXoJuNg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529359280, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d", "sg_event_id"=>"dsJEoA2VTyeIasd90j6MKw", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "smtp-id"=>"<AOPEDwQrRGOsmWobXoJuNg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529359279}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d", "response"=>"250 2.0.0 OK 1529359280 p12-v6si113641qvm.2 - gsmtp", "sg_event_id"=>"Tm-4XcTrToihvNHD8Ff8FQ", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "smtp-id"=>"<AOPEDwQrRGOsmWobXoJuNg@ismtpd0033p1mdw1.sendgrid.net>", "timestamp"=>1529359280, "tls"=>1}]}}
  [1m[36mGlxMail Load (3.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 42], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0"], ["glx_mail_id", 42], ["created_at", "2018-06-18 22:01:28.595609"], ["updated_at", "2018-06-18 22:01:28.595609"]]
  [1m[35m (25.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (5.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 0], ["LIMIT", 1]]
Error: Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d Processed 2
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 42], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (6.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 0], ["LIMIT", 1]]
Error: Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d Delivered 2
Completed 200 OK in 21328ms (Views: 1.0ms | ActiveRecord: 81.3ms)


Started POST "/webhooks/sendgrid" for 167.89.125.203 at 2018-06-18 17:03:08 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11", "sg_event_id"=>"-hC5pfPWTZaZ_RPSzzWSsQ", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "smtp-id"=>"<DUjS-H8OTVavrVRlNq5jzA@ismtpd0022p1iad2.sendgrid.net>", "timestamp"=>1529359383}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11", "response"=>"250 2.0.0 OK 1529359383 20-v6si5609685qtq.196 - gsmtp", "sg_event_id"=>"uo21nVguQMC8ZkcdF89NoA", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "smtp-id"=>"<DUjS-H8OTVavrVRlNq5jzA@ismtpd0022p1iad2.sendgrid.net>", "timestamp"=>1529359383, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11", "sg_event_id"=>"-hC5pfPWTZaZ_RPSzzWSsQ", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "smtp-id"=>"<DUjS-H8OTVavrVRlNq5jzA@ismtpd0022p1iad2.sendgrid.net>", "timestamp"=>1529359383}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11", "response"=>"250 2.0.0 OK 1529359383 20-v6si5609685qtq.196 - gsmtp", "sg_event_id"=>"uo21nVguQMC8ZkcdF89NoA", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "smtp-id"=>"<DUjS-H8OTVavrVRlNq5jzA@ismtpd0022p1iad2.sendgrid.net>", "timestamp"=>1529359383, "tls"=>1}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 43], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0"], ["glx_mail_id", 43], ["created_at", "2018-06-18 22:03:09.106259"], ["updated_at", "2018-06-18 22:03:09.106259"]]
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "43"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 7], ["created_at", "2018-06-18 22:03:09.287646"], ["updated_at", "2018-06-18 22:03:09.287646"]]
  [1m[35mSQL (8.1ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:03:03' WHERE "glx_status_logs"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 43]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 43], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (14.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (3.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "43"], ["status_from_id", 7], ["action", "Delivered"], ["status_to_id", 5], ["created_at", "2018-06-18 22:03:09.388534"], ["updated_at", "2018-06-18 22:03:09.388534"]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:03:03' WHERE "glx_status_logs"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 43]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 454ms (Views: 0.3ms | ActiveRecord: 134.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.206 at 2018-06-18 17:04:39 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529359449, "ip"=>"66.102.8.45", "sg_event_id"=>"6RrJujS6RamLU8dvW--02A", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529359449, "ip"=>"66.102.8.45", "sg_event_id"=>"6RrJujS6RamLU8dvW--02A", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 43], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "43"], ["status_from_id", 5], ["action", "Open"], ["status_to_id", 4], ["created_at", "2018-06-18 22:04:39.718085"], ["updated_at", "2018-06-18 22:04:39.718085"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:04:09' WHERE "glx_status_logs"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 4], ["id", 43]]
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 112ms (Views: 0.1ms | ActiveRecord: 43.8ms)


Started POST "/webhooks/sendgrid" for 167.89.125.210 at 2018-06-18 17:04:42 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529359452, "ip"=>"66.102.8.43", "sg_event_id"=>"KrvnLYHxS9W0jC3MU8owIA", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529359452, "ip"=>"66.102.8.43", "sg_event_id"=>"KrvnLYHxS9W0jC3MU8owIA", "sg_message_id"=>"DUjS-H8OTVavrVRlNq5jzA.filter0061p3mdw1-16555-5B282C16-2F.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"}]}}
  [1m[36mGlxMail Load (1.0ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359380380-74b6f138-9118-4a67-a235-ddcb2aba5f11"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 43], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 11.4ms)


Started POST "/webhooks/sendgrid" for 167.89.119.83 at 2018-06-18 17:11:13 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "sg_event_id"=>"dsVM9KTpRcSwOnSBRBix0w", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359868}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "response"=>"250 2.0.0 OK 1529359869 x189-v6si1923750qkc.119 - gsmtp", "sg_event_id"=>"EjPwdemSQQenxXfwB9Hybw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359869, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "sg_event_id"=>"dsVM9KTpRcSwOnSBRBix0w", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359868}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "response"=>"250 2.0.0 OK 1529359869 x189-v6si1923750qkc.119 - gsmtp", "sg_event_id"=>"EjPwdemSQQenxXfwB9Hybw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359869, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 44], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0"], ["glx_mail_id", 44], ["created_at", "2018-06-18 22:11:14.337142"], ["updated_at", "2018-06-18 22:11:14.337142"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 198ms (ActiveRecord: 52.2ms)


  
RuntimeError (7):
  
app/controllers/webhooks_controller.rb:24:in `block in sendgrid'
app/controllers/webhooks_controller.rb:4:in `each'
app/controllers/webhooks_controller.rb:4:in `sendgrid'
Started POST "/webhooks/sendgrid" for 167.89.119.69 at 2018-06-18 17:12:52 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "sg_event_id"=>"dsVM9KTpRcSwOnSBRBix0w", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359868}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "response"=>"250 2.0.0 OK 1529359869 x189-v6si1923750qkc.119 - gsmtp", "sg_event_id"=>"EjPwdemSQQenxXfwB9Hybw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359869, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "sg_event_id"=>"dsVM9KTpRcSwOnSBRBix0w", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359868}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82", "response"=>"250 2.0.0 OK 1529359869 x189-v6si1923750qkc.119 - gsmtp", "sg_event_id"=>"EjPwdemSQQenxXfwB9Hybw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "smtp-id"=>"<cs_sYpUGT2Ksv3IHTvDZjQ@ismtpd0039p1mdw1.sendgrid.net>", "timestamp"=>1529359869, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"], ["LIMIT", 1]]
Completed 204 No Content in 19ms (ActiveRecord: 4.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.242 at 2018-06-18 17:13:05 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd", "sg_event_id"=>"o_kVhKRSTeGrX2g_7qXR6Q", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "smtp-id"=>"<jPiV1-_rQba2B7qCeXPBdw@ismtpd0018p1iad2.sendgrid.net>", "timestamp"=>1529359982}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd", "response"=>"250 2.0.0 OK 1529359983 d142-v6si10436565qkg.382 - gsmtp", "sg_event_id"=>"cu2W-yI1QNSP4OA6x4rEKw", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "smtp-id"=>"<jPiV1-_rQba2B7qCeXPBdw@ismtpd0018p1iad2.sendgrid.net>", "timestamp"=>1529359984, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "event"=>"processed", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd", "sg_event_id"=>"o_kVhKRSTeGrX2g_7qXR6Q", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "smtp-id"=>"<jPiV1-_rQba2B7qCeXPBdw@ismtpd0018p1iad2.sendgrid.net>", "timestamp"=>1529359982}, {"email"=>"andersonav91@gmail.com", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd", "response"=>"250 2.0.0 OK 1529359983 d142-v6si10436565qkg.382 - gsmtp", "sg_event_id"=>"cu2W-yI1QNSP4OA6x4rEKw", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "smtp-id"=>"<jPiV1-_rQba2B7qCeXPBdw@ismtpd0018p1iad2.sendgrid.net>", "timestamp"=>1529359984, "tls"=>1}]}}
  [1m[36mGlxMail Load (2.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0"], ["glx_mail_id", 1], ["created_at", "2018-06-18 22:13:05.604154"], ["updated_at", "2018-06-18 22:13:05.604154"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 7], ["created_at", "2018-06-18 22:13:05.714608"], ["updated_at", "2018-06-18 22:13:05.714608"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:13:02' WHERE "glx_status_logs"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (4.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 7], ["action", "Delivered"], ["status_to_id", 5], ["created_at", "2018-06-18 22:13:05.765157"], ["updated_at", "2018-06-18 22:13:05.765157"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:13:04' WHERE "glx_status_logs"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (6.3ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 1]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 302ms (Views: 0.2ms | ActiveRecord: 87.6ms)


Started POST "/webhooks/sendgrid" for 167.89.125.254 at 2018-06-18 17:14:13 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.43", "sg_event_id"=>"JAJ5q9T8TFaEVmoP9uhfWg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.43", "sg_event_id"=>"JAJ5q9T8TFaEVmoP9uhfWg", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.249 at 2018-06-18 17:14:14 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.41", "sg_event_id"=>"LkyHo9iYTHm62wCwIZawBQ", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.41", "sg_event_id"=>"LkyHo9iYTHm62wCwIZawBQ", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms)


Started POST "/webhooks/sendgrid" for 167.89.125.206 at 2018-06-18 17:14:14 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"Eiak-uTlT4uRNBEhq08Uug", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"Eiak-uTlT4uRNBEhq08Uug", "sg_message_id"=>"mqxhY6ppRcuDKlBXa18rew.filter0038p3las1-31476-5B282A42-1E.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"}]}}
  [1m[36mGlxMail Load (1.2ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358912045-0177a04b-ca26-413b-854c-5f82c9779d96"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 1.2ms)


Started POST "/webhooks/sendgrid" for 167.89.125.213 at 2018-06-18 17:14:15 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"8yndC7lySQuIQqM8EU21yw", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"8yndC7lySQuIQqM8EU21yw", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"], ["LIMIT", 1]]
Completed 204 No Content in 5ms (ActiveRecord: 0.6ms)


Started POST "/webhooks/sendgrid" for 167.89.125.243 at 2018-06-18 17:14:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.45", "sg_event_id"=>"lZsyH2AfRaaRxEf8pMMWFA", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.45", "sg_event_id"=>"lZsyH2AfRaaRxEf8pMMWFA", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (5.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (4.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (2.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.0ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "1"], ["status_from_id", 5], ["action", "Open"], ["status_to_id", 4], ["created_at", "2018-06-18 22:14:16.410830"], ["updated_at", "2018-06-18 22:14:16.410830"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:13:45' WHERE "glx_status_logs"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 4], ["id", 1]]
  [1m[35m (39.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 126ms (Views: 0.2ms | ActiveRecord: 62.4ms)


Started POST "/webhooks/sendgrid" for 167.89.125.220 at 2018-06-18 17:14:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.43", "sg_event_id"=>"4dA4YQ1RSM2Dt9xa7UKUaQ", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.43", "sg_event_id"=>"4dA4YQ1RSM2Dt9xa7UKUaQ", "sg_message_id"=>"y46QgD6ERricikE5CVOFsw.filter0038p3las1-31476-5B2829ED-4.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"}]}}
  [1m[36mGlxMail Load (0.4ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529358826706-6a14f4b8-1b9e-4550-870b-e712dc6b9e6c"], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)


Started POST "/webhooks/sendgrid" for 167.89.121.246 at 2018-06-18 17:14:16 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.35", "sg_event_id"=>"-P6BA0eGTo-zsxtZ1NUOdg", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.35", "sg_event_id"=>"-P6BA0eGTo-zsxtZ1NUOdg", "sg_message_id"=>"jPiV1-_rQba2B7qCeXPBdw.filter0058p3las1-19690-5B282E6E-D.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"}]}}
  [1m[36mGlxMail Load (0.9ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359980259-f03d083e-b051-4a4f-af79-7299986a2ebd"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 1], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 4], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'open') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started POST "/webhooks/sendgrid" for 167.89.125.206 at 2018-06-18 17:14:18 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"K8y7kPJiQbGwX20_F0rM9A", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.41", "sg_event_id"=>"K8y7kPJiQbGwX20_F0rM9A", "sg_message_id"=>"AOPEDwQrRGOsmWobXoJuNg.filter0055p3las1-29157-5B282BAE-52.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359276843-ac601c7a-53d2-431e-93fc-e11397c6168d"], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/webhooks/sendgrid" for 167.89.125.221 at 2018-06-18 17:14:19 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.43", "sg_event_id"=>"wy1t8H3fQcaQ1egQxZ0lGw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360025, "ip"=>"66.102.8.43", "sg_event_id"=>"wy1t8H3fQcaQ1egQxZ0lGw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.233 at 2018-06-18 17:14:36 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.35", "sg_event_id"=>"NYthFeyWTAKxWNcWPN7VDw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"}], "webhook"=>{"_json"=>[{"email"=>"andersonav91@gmail.com", "timestamp"=>1529360024, "ip"=>"66.102.8.35", "sg_event_id"=>"NYthFeyWTAKxWNcWPN7VDw", "sg_message_id"=>"cs_sYpUGT2Ksv3IHTvDZjQ.filter0023p3iad2-4584-5B282DFB-19.0", "useragent"=>"Mozilla/5.0 (Windows NT 5.1; rv:11.0) Gecko Firefox/11.0 (via ggpht.com GoogleImageProxy)", "event"=>"open", "mail_name"=>"Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529359866061-2e603f20-13d9-48d8-953d-2871e69aff82"], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.250 at 2018-06-18 17:15:20 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23", "sg_event_id"=>"tVJJecfdTnCDoQTkT8pOLg", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "smtp-id"=>"<BbIMZEvgS-GRGvDX-WUSkA@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529360120}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"processed", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23", "sg_event_id"=>"tVJJecfdTnCDoQTkT8pOLg", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "smtp-id"=>"<BbIMZEvgS-GRGvDX-WUSkA@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529360120}]}}
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0"], ["glx_mail_id", 2], ["created_at", "2018-06-18 22:15:20.462997"], ["updated_at", "2018-06-18 22:15:20.462997"]]
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'processed') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 2], ["action", "Processed"], ["status_to_id", 7], ["created_at", "2018-06-18 22:15:20.522117"], ["updated_at", "2018-06-18 22:15:20.522117"]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:15:20' WHERE "glx_status_logs"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (7.0ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 7], ["id", 2]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 90ms (Views: 0.2ms | ActiveRecord: 52.3ms)


Started POST "/webhooks/sendgrid" for 167.89.121.201 at 2018-06-18 17:15:31 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23", "response"=>"250 2.0.0 OK 1529360121 d13-v6si12931564qvn.206 - gsmtp", "sg_event_id"=>"jEWQIuM_RHWxKyaZbC0Pdg", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "smtp-id"=>"<BbIMZEvgS-GRGvDX-WUSkA@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529360121, "tls"=>1}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "event"=>"delivered", "ip"=>"167.89.100.250", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23", "response"=>"250 2.0.0 OK 1529360121 d13-v6si12931564qvn.206 - gsmtp", "sg_event_id"=>"jEWQIuM_RHWxKyaZbC0Pdg", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "smtp-id"=>"<BbIMZEvgS-GRGvDX-WUSkA@ismtpd0010p1iad2.sendgrid.net>", "timestamp"=>1529360121, "tls"=>1}]}}
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 7], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivered') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 7], ["action", "Delivered"], ["status_to_id", 5], ["created_at", "2018-06-18 22:15:31.525904"], ["updated_at", "2018-06-18 22:15:31.525904"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:15:21' WHERE "glx_status_logs"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 2]]
  [1m[35m (27.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 69ms (Views: 0.1ms | ActiveRecord: 38.5ms)


Started POST "/webhooks/sendgrid" for 167.89.121.204 at 2018-06-18 17:15:51 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529360122, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "sg_event_id"=>"ecmgKCB7TVWXHMjesbDZDQ", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23"}], "webhook"=>{"_json"=>[{"email"=>"aalvarez929292@unal.edu.co", "timestamp"=>1529360122, "status"=>"5.0.0", "reason"=>"", "sg_message_id"=>"BbIMZEvgS-GRGvDX-WUSkA.filter0034p3las1-30777-5B282EF8-9.0", "sg_event_id"=>"ecmgKCB7TVWXHMjesbDZDQ", "type"=>"blocked", "event"=>"bounce", "mail_name"=>"Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23"}]}}
  [1m[36mGlxMail Load (12.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529360118534-e8d88a4a-1631-49fb-ac2b-6c6c60497f23"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (4.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.4ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.7ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "2"], ["status_from_id", 5], ["action", "Bounce"], ["status_to_id", 6], ["created_at", "2018-06-18 22:15:51.995294"], ["updated_at", "2018-06-18 22:15:51.995294"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:15:22' WHERE "glx_status_logs"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 2]]
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 105ms (Views: 0.2ms | ActiveRecord: 55.0ms)


Started POST "/webhooks/sendgrid" for 167.89.121.222 at 2018-06-18 17:16:33 -0500
Processing by WebhooksController#sendgrid as HTML
  Parameters: {"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529360188084-08c096bb-eb75-4678-a6d8-d22a2056f914", "reason"=>"Bounced Address", "sg_event_id"=>"iKSYrGddRQmPKfwGTScBqQ", "sg_message_id"=>"gfa3eEV9QduQPQVRkm3DTg.filter0032p3las1-18858-5B282F3E-1.0", "smtp-id"=>"<gfa3eEV9QduQPQVRkm3DTg@ismtpd0012p1iad2.sendgrid.net>", "timestamp"=>1529360190}], "webhook"=>{"_json"=>[{"email"=>"andersonav91ssss@gmail.com", "event"=>"dropped", "mail_name"=>"Mail1529360188084-08c096bb-eb75-4678-a6d8-d22a2056f914", "reason"=>"Bounced Address", "sg_event_id"=>"iKSYrGddRQmPKfwGTScBqQ", "sg_message_id"=>"gfa3eEV9QduQPQVRkm3DTg.filter0032p3las1-18858-5B282F3E-1.0", "smtp-id"=>"<gfa3eEV9QduQPQVRkm3DTg@ismtpd0012p1iad2.sendgrid.net>", "timestamp"=>1529360190}]}}
  [1m[36mGlxMail Load (0.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."mail_name" = $1 LIMIT $2[0m  [["mail_name", "Mail1529360188084-08c096bb-eb75-4678-a6d8-d22a2056f914"], ["LIMIT", 1]]
  [1m[36mGlxSendgridMailInfo Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "glx_sendgrid_mail_info" WHERE "glx_sendgrid_mail_info"."glx_mail_id" = $1 LIMIT $2[0m  [["glx_mail_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_sendgrid_mail_info" ("sendgrid_id", "glx_mail_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["sendgrid_id", "gfa3eEV9QduQPQVRkm3DTg.filter0032p3las1-18858-5B282F3E-1.0"], ["glx_mail_id", 3], ["created_at", "2018-06-18 22:16:33.648006"], ["updated_at", "2018-06-18 22:16:33.648006"]]
  [1m[35m (37.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGlxMachineStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'dropped') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "3"], ["status_from_id", 2], ["action", "Dropped"], ["status_to_id", 8], ["created_at", "2018-06-18 22:16:33.709944"], ["updated_at", "2018-06-18 22:16:33.709944"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '2018-06-18 22:16:30' WHERE "glx_status_logs"."id" = $1[0m  [["id", 10]]
  [1m[35mSQL (4.5ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 8], ["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 94ms (Views: 0.1ms | ActiveRecord: 57.1ms)


Started GET "/webhooks/ses" for 181.140.135.9 at 2018-06-19 18:53:05 -0500
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:697:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:221:in `initialize'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 181.140.135.9 at 2018-06-19 18:53:08 -0500
  
PG::ConnectionBad (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  
pg (0.21.0) lib/pg.rb:56:in `initialize'
pg (0.21.0) lib/pg.rb:56:in `new'
pg (0.21.0) lib/pg.rb:56:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:697:in `connect'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:221:in `initialize'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `new'
activerecord (5.1.6) lib/active_record/connection_adapters/postgresql_adapter.rb:38:in `postgresql_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:759:in `new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:803:in `checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:782:in `try_to_checkout_new_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:743:in `acquire_connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:500:in `checkout'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:374:in `connection'
activerecord (5.1.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:931:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:116:in `retrieve_connection'
activerecord (5.1.6) lib/active_record/connection_handling.rb:88:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:562:in `connection'
activerecord (5.1.6) lib/active_record/migration.rb:553:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/webhooks/ses" for 181.140.135.9 at 2018-06-19 18:53:50 -0500
  [1m[35m (44.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
JSON::ParserError (743: unexpected token at ''):
  
app/controllers/webhooks_controller.rb:35:in `ses'
Started GET "/favicon.ico" for 181.140.135.9 at 2018-06-19 18:53:52 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/ses" for 72.21.217.79 at 2018-06-19 18:54:14 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 666ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.154 at 2018-06-19 19:01:54 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 190.248.183.35 at 2018-06-20 10:57:07 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/anderson/.rvm/gems/ruby-2.4.1/gems/railties-5.1.6/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/anderson/.rvm/gems/ruby-2.4.1/gems/railties-5.1.6/lib/rails/templates/rails/welcome/index.html.erb (9.0ms)
Completed 200 OK in 34ms (Views: 17.4ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 190.248.183.35 at 2018-06-20 10:57:08 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/webhooks/ses" for 72.21.217.84 at 2018-06-20 11:01:31 -0500
  
SyntaxError (/home/anderson/Apps/james-api/app/controllers/webhooks_controller.rb:48: Invalid next):
  
app/controllers/webhooks_controller.rb:48: Invalid next
app/controllers/webhooks_controller.rb
Started POST "/webhooks/ses" for 72.21.217.168 at 2018-06-20 11:01:51 -0500
  
SyntaxError (/home/anderson/Apps/james-api/app/controllers/webhooks_controller.rb:48: Invalid next):
  
app/controllers/webhooks_controller.rb:48: Invalid next
app/controllers/webhooks_controller.rb
Started POST "/webhooks/ses" for 72.21.217.141 at 2018-06-20 11:02:08 -0500
Started POST "/webhooks/ses" for 72.21.217.64 at 2018-06-20 11:02:18 -0500
  
SyntaxError (/home/anderson/Apps/james-api/app/controllers/webhooks_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/webhooks_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end
  
SyntaxError (/home/anderson/Apps/james-api/app/controllers/webhooks_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/webhooks_controller.rb:65: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/webhooks/ses" for 72.21.217.72 at 2018-06-20 11:03:08 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 200 OK in 559ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.155 at 2018-06-20 11:08:05 -0500
Processing by WebhooksController#ses as HTML
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.66 at 2018-06-20 11:11:10 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"7cc95cc7-e92b-584c-b1e3-0f6397c95895", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T16:11:14.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641df6d955-9568b88e-1475-4ac3-983b-e874008fb622-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"LLL\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"LLL\"}},\"delivery\":{\"timestamp\":\"2018-06-20T16:11:14.718Z\",\"processingTimeMillis\":585,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529511074 y4-v6si2668268qtj.290 - gsmtp\",\"remoteMtaIp\":\"173.194.206.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T16:11:14.795Z", "SignatureVersion"=>"1", "Signature"=>"SgqGJj0iQbqGLw3Lvh4AphToE+H5XWXDcCjQgjes9aPc9riBmRsKLjF7x+doqCIk3Cq3VejHoj/Fo0OIeseluHCvLKtHR8WxE7f/iwBGLhVCCFozXvwSWdVLLeEG7mS14ITVAekpSZpKDlFK+ZgQdDLRaV68LlaRqS4ElbYdfAg8aI6ZPpwtcq0rM85reB7c4NGhmMAsburjT1dNpqpXnM5oKGRdZJFC11Z1fn/bcNRSL1HohF11vMDve/63CU/KqCZh5us/K5pdwNgDS20QBOkJAGEsCTPmv5IKU3wiH9JZjPZTS9GffiPz0P3IGdafvwwKf2KHBboyxsgesq5oEQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.135 at 2018-06-20 11:11:33 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"7cc95cc7-e92b-584c-b1e3-0f6397c95895", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T16:11:14.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641df6d955-9568b88e-1475-4ac3-983b-e874008fb622-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"LLL\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"LLL\"}},\"delivery\":{\"timestamp\":\"2018-06-20T16:11:14.718Z\",\"processingTimeMillis\":585,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529511074 y4-v6si2668268qtj.290 - gsmtp\",\"remoteMtaIp\":\"173.194.206.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T16:11:14.795Z", "SignatureVersion"=>"1", "Signature"=>"SgqGJj0iQbqGLw3Lvh4AphToE+H5XWXDcCjQgjes9aPc9riBmRsKLjF7x+doqCIk3Cq3VejHoj/Fo0OIeseluHCvLKtHR8WxE7f/iwBGLhVCCFozXvwSWdVLLeEG7mS14ITVAekpSZpKDlFK+ZgQdDLRaV68LlaRqS4ElbYdfAg8aI6ZPpwtcq0rM85reB7c4NGhmMAsburjT1dNpqpXnM5oKGRdZJFC11Z1fn/bcNRSL1HohF11vMDve/63CU/KqCZh5us/K5pdwNgDS20QBOkJAGEsCTPmv5IKU3wiH9JZjPZTS9GffiPz0P3IGdafvwwKf2KHBboyxsgesq5oEQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.64 at 2018-06-20 11:12:11 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"7cc95cc7-e92b-584c-b1e3-0f6397c95895", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T16:11:14.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641df6d955-9568b88e-1475-4ac3-983b-e874008fb622-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"LLL\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"LLL\"}},\"delivery\":{\"timestamp\":\"2018-06-20T16:11:14.718Z\",\"processingTimeMillis\":585,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529511074 y4-v6si2668268qtj.290 - gsmtp\",\"remoteMtaIp\":\"173.194.206.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T16:11:14.795Z", "SignatureVersion"=>"1", "Signature"=>"SgqGJj0iQbqGLw3Lvh4AphToE+H5XWXDcCjQgjes9aPc9riBmRsKLjF7x+doqCIk3Cq3VejHoj/Fo0OIeseluHCvLKtHR8WxE7f/iwBGLhVCCFozXvwSWdVLLeEG7mS14ITVAekpSZpKDlFK+ZgQdDLRaV68LlaRqS4ElbYdfAg8aI6ZPpwtcq0rM85reB7c4NGhmMAsburjT1dNpqpXnM5oKGRdZJFC11Z1fn/bcNRSL1HohF11vMDve/63CU/KqCZh5us/K5pdwNgDS20QBOkJAGEsCTPmv5IKU3wiH9JZjPZTS9GffiPz0P3IGdafvwwKf2KHBboyxsgesq5oEQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.169 at 2018-06-20 11:12:40 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"7cc95cc7-e92b-584c-b1e3-0f6397c95895", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T16:11:14.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641df6d955-9568b88e-1475-4ac3-983b-e874008fb622-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"LLL\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"LLL\"}},\"delivery\":{\"timestamp\":\"2018-06-20T16:11:14.718Z\",\"processingTimeMillis\":585,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529511074 y4-v6si2668268qtj.290 - gsmtp\",\"remoteMtaIp\":\"173.194.206.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T16:11:14.795Z", "SignatureVersion"=>"1", "Signature"=>"SgqGJj0iQbqGLw3Lvh4AphToE+H5XWXDcCjQgjes9aPc9riBmRsKLjF7x+doqCIk3Cq3VejHoj/Fo0OIeseluHCvLKtHR8WxE7f/iwBGLhVCCFozXvwSWdVLLeEG7mS14ITVAekpSZpKDlFK+ZgQdDLRaV68LlaRqS4ElbYdfAg8aI6ZPpwtcq0rM85reB7c4NGhmMAsburjT1dNpqpXnM5oKGRdZJFC11Z1fn/bcNRSL1HohF11vMDve/63CU/KqCZh5us/K5pdwNgDS20QBOkJAGEsCTPmv5IKU3wiH9JZjPZTS9GffiPz0P3IGdafvwwKf2KHBboyxsgesq5oEQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.73 at 2018-06-20 13:13:32 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"9aa0d524-4a60-5b19-b332-8680d1efaf0f", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T18:13:34.913Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641e66dc41-f8a83465-e1ee-47f6-89e6-b0cc63bfa63c-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Demo1\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Demo1\"}},\"delivery\":{\"timestamp\":\"2018-06-20T18:13:35.482Z\",\"processingTimeMillis\":569,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529518415 s29-v6si2820137qki.146 - gsmtp\",\"remoteMtaIp\":\"173.194.205.26\",\"reportingMTA\":\"a8-84.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T18:13:35.609Z", "SignatureVersion"=>"1", "Signature"=>"hUkvT694J+brvXeHbyGTb6Rz3rXkuGi8In/uqtKMs+dpdYadZFBJL2P9ShO90EbRtFHO03qdTaZHEEK8gsxB8J186jwOxWwHVNiL0WbjtrMKlmxhcnAkwj9Ah6HoEmBfFwCf0zXR7R6hNa3BPGrWGY177wBhVtxN4+xrp+d9nvcT9Mln5+DCb2hf23UnJ4c0MovXhipgOgRHAV+FaLSKDCfZJahJPeBPjGI80D8XCJKOQh5LsOpPK5vjQw7Yzow7q3k/fcQwn+JfZMGVMgtjWkjG6pd78wvPevt+mKfEEdL913QXC6Jfuy/Vv89nhAzsCFziTOdr21St4+Jl5ZY4iQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.133 at 2018-06-20 13:13:53 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"9aa0d524-4a60-5b19-b332-8680d1efaf0f", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T18:13:34.913Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641e66dc41-f8a83465-e1ee-47f6-89e6-b0cc63bfa63c-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Demo1\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Demo1\"}},\"delivery\":{\"timestamp\":\"2018-06-20T18:13:35.482Z\",\"processingTimeMillis\":569,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529518415 s29-v6si2820137qki.146 - gsmtp\",\"remoteMtaIp\":\"173.194.205.26\",\"reportingMTA\":\"a8-84.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T18:13:35.609Z", "SignatureVersion"=>"1", "Signature"=>"hUkvT694J+brvXeHbyGTb6Rz3rXkuGi8In/uqtKMs+dpdYadZFBJL2P9ShO90EbRtFHO03qdTaZHEEK8gsxB8J186jwOxWwHVNiL0WbjtrMKlmxhcnAkwj9Ah6HoEmBfFwCf0zXR7R6hNa3BPGrWGY177wBhVtxN4+xrp+d9nvcT9Mln5+DCb2hf23UnJ4c0MovXhipgOgRHAV+FaLSKDCfZJahJPeBPjGI80D8XCJKOQh5LsOpPK5vjQw7Yzow7q3k/fcQwn+JfZMGVMgtjWkjG6pd78wvPevt+mKfEEdL913QXC6Jfuy/Vv89nhAzsCFziTOdr21St4+Jl5ZY4iQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.71 at 2018-06-20 13:14:15 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"9aa0d524-4a60-5b19-b332-8680d1efaf0f", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T18:13:34.913Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641e66dc41-f8a83465-e1ee-47f6-89e6-b0cc63bfa63c-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Demo1\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Demo1\"}},\"delivery\":{\"timestamp\":\"2018-06-20T18:13:35.482Z\",\"processingTimeMillis\":569,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529518415 s29-v6si2820137qki.146 - gsmtp\",\"remoteMtaIp\":\"173.194.205.26\",\"reportingMTA\":\"a8-84.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T18:13:35.609Z", "SignatureVersion"=>"1", "Signature"=>"hUkvT694J+brvXeHbyGTb6Rz3rXkuGi8In/uqtKMs+dpdYadZFBJL2P9ShO90EbRtFHO03qdTaZHEEK8gsxB8J186jwOxWwHVNiL0WbjtrMKlmxhcnAkwj9Ah6HoEmBfFwCf0zXR7R6hNa3BPGrWGY177wBhVtxN4+xrp+d9nvcT9Mln5+DCb2hf23UnJ4c0MovXhipgOgRHAV+FaLSKDCfZJahJPeBPjGI80D8XCJKOQh5LsOpPK5vjQw7Yzow7q3k/fcQwn+JfZMGVMgtjWkjG6pd78wvPevt+mKfEEdL913QXC6Jfuy/Vv89nhAzsCFziTOdr21St4+Jl5ZY4iQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
Started POST "/webhooks/ses" for 72.21.217.167 at 2018-06-20 13:14:37 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"Type"=>"Notification", "MessageId"=>"9aa0d524-4a60-5b19-b332-8680d1efaf0f", "TopicArn"=>"arn:aws:sns:us-east-1:356792611229:test-james", "Message"=>"{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T18:13:34.913Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641e66dc41-f8a83465-e1ee-47f6-89e6-b0cc63bfa63c-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"Demo1\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"Demo1\"}},\"delivery\":{\"timestamp\":\"2018-06-20T18:13:35.482Z\",\"processingTimeMillis\":569,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529518415 s29-v6si2820137qki.146 - gsmtp\",\"remoteMtaIp\":\"173.194.205.26\",\"reportingMTA\":\"a8-84.smtp-out.amazonses.com\"}}", "Timestamp"=>"2018-06-20T18:13:35.609Z", "SignatureVersion"=>"1", "Signature"=>"hUkvT694J+brvXeHbyGTb6Rz3rXkuGi8In/uqtKMs+dpdYadZFBJL2P9ShO90EbRtFHO03qdTaZHEEK8gsxB8J186jwOxWwHVNiL0WbjtrMKlmxhcnAkwj9Ah6HoEmBfFwCf0zXR7R6hNa3BPGrWGY177wBhVtxN4+xrp+d9nvcT9Mln5+DCb2hf23UnJ4c0MovXhipgOgRHAV+FaLSKDCfZJahJPeBPjGI80D8XCJKOQh5LsOpPK5vjQw7Yzow7q3k/fcQwn+JfZMGVMgtjWkjG6pd78wvPevt+mKfEEdL913QXC6Jfuy/Vv89nhAzsCFziTOdr21St4+Jl5ZY4iQ==", "SigningCertURL"=>"https://sns.us-east-1.amazonaws.com/SimpleNotificationService-eaea6120e66ea12e88dcd8bcbddca752.pem", "UnsubscribeURL"=>"https://sns.us-east-1.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-east-1:356792611229:test-james:8c009737-25b5-45ef-b105-cc657c288151"}):
  
app/controllers/webhooks_controller.rb:44:in `ses'
  [1m[35m (23.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(265374687444504960)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGlxAwsSesMailInfos (20180620182618)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (213.4ms)[0m  [1m[35mCREATE TABLE "glx_aws_ses_mail_infos" ("id" bigserial primary key, "ses_id" character varying, "glx_mail_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180620182618"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameTableGlxAwsSesMailInfo (20180620182802)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "glx_aws_ses_mail_infos" RENAME TO "glx_aws_ses_mail_info"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "public"."glx_aws_ses_mail_infos_id_seq" RENAME TO "glx_aws_ses_mail_info_id_seq"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER INDEX "glx_aws_ses_mail_infos_pkey" RENAME TO "glx_aws_ses_mail_info_pkey"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180620182802"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (21.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(265374687444504960)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (24.5ms)[0m  [1m[35mTRUNCATE TABLE glx_statuses RESTART IDENTITY[0m
  [1m[35m (34.3ms)[0m  [1m[35mTRUNCATE TABLE glx_machine_statuses RESTART IDENTITY[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "All"], ["created_at", "2018-06-20 19:32:09.001772"], ["updated_at", "2018-06-20 19:32:09.001772"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Relayed"], ["created_at", "2018-06-20 19:32:09.006482"], ["updated_at", "2018-06-20 19:32:09.006482"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Limited"], ["created_at", "2018-06-20 19:32:09.011251"], ["updated_at", "2018-06-20 19:32:09.011251"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Opened"], ["created_at", "2018-06-20 19:32:09.015706"], ["updated_at", "2018-06-20 19:32:09.015706"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Delivered"], ["created_at", "2018-06-20 19:32:09.021093"], ["updated_at", "2018-06-20 19:32:09.021093"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bounced"], ["created_at", "2018-06-20 19:32:09.025156"], ["updated_at", "2018-06-20 19:32:09.025156"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Processed"], ["created_at", "2018-06-20 19:32:09.036334"], ["updated_at", "2018-06-20 19:32:09.036334"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Dropped"], ["created_at", "2018-06-20 19:32:09.040305"], ["updated_at", "2018-06-20 19:32:09.040305"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = 2 WHERE (status_id IS NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (2.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Relayed"], ["final_status_id", 2], ["created_at", "2018-06-20 19:32:09.258642"], ["updated_at", "2018-06-20 19:32:09.258642"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Limited"], ["final_status_id", 3], ["created_at", "2018-06-20 19:32:09.270714"], ["updated_at", "2018-06-20 19:32:09.270714"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (5.0ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Openend"], ["final_status_id", 4], ["created_at", "2018-06-20 19:32:09.278595"], ["updated_at", "2018-06-20 19:32:09.278595"]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Open"], ["final_status_id", 4], ["created_at", "2018-06-20 19:32:09.294708"], ["updated_at", "2018-06-20 19:32:09.294708"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (4.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Delivered"], ["final_status_id", 5], ["created_at", "2018-06-20 19:32:09.312125"], ["updated_at", "2018-06-20 19:32:09.312125"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Bounce"], ["final_status_id", 6], ["created_at", "2018-06-20 19:32:09.320939"], ["updated_at", "2018-06-20 19:32:09.320939"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Processed"], ["final_status_id", 7], ["created_at", "2018-06-20 19:32:09.328616"], ["updated_at", "2018-06-20 19:32:09.328616"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Dropped"], ["final_status_id", 8], ["created_at", "2018-06-20 19:32:09.341949"], ["updated_at", "2018-06-20 19:32:09.341949"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxStatus Load (0.3ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "glx_machine_statuses" ("initial_status_id", "action", "final_status_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["initial_status_id", 1], ["action", "Delivery"], ["final_status_id", 5], ["created_at", "2018-06-20 19:32:09.351910"], ["updated_at", "2018-06-20 19:32:09.351910"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/webhooks/ses" for 72.21.217.136 at 2018-06-20 14:35:04 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.173 at 2018-06-20 14:36:19 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType":"Delivery","mail":{"timestamp":"2018-06-20T19:36:19.848Z","source":"clara@glx.com","sourceArn":"arn:aws:ses:us-east-1:356792611229:identity/glx.com","sourceIp":"190.248.183.35","sendingAccountId":"356792611229","messageId":"010001641eb29e88-e1c0375f-d8c3-4ba2-ba56-d803abf8426f-000000","destination":["andersonav91@gmail.com"],"headersTruncated":false,"headers":[{"name":"From","value":"clara@glx.com"},{"name":"To","value":"andersonav91@gmail.com"},{"name":"Subject","value":"dsdsf"},{"name":"MIME-Version","value":"1.0"},{"name":"Content-Type","value":"text/plain; charset=UTF-8"},{"name":"Content-Transfer-Encoding","value":"7bit"}],"commonHeaders":{"from":["clara@glx.com"],"to":["andersonav91@gmail.com"],"subject":"dsdsf"}},"delivery":{"timestamp":"2018-06-20T19:36:20.340Z","processingTimeMillis":492,"recipients":["andersonav91@gmail.com"],"smtpResponse":"250 2.0.0 OK 1529523380 w42-v6si1025398qtc.68 - gsmtp","remoteMtaIp":"173.194.205.27","reportingMTA":"a8-92.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:43:in `ses'
Started POST "/webhooks/ses" for 72.21.217.129 at 2018-06-20 14:36:41 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType":"Delivery","mail":{"timestamp":"2018-06-20T19:36:19.848Z","source":"clara@glx.com","sourceArn":"arn:aws:ses:us-east-1:356792611229:identity/glx.com","sourceIp":"190.248.183.35","sendingAccountId":"356792611229","messageId":"010001641eb29e88-e1c0375f-d8c3-4ba2-ba56-d803abf8426f-000000","destination":["andersonav91@gmail.com"],"headersTruncated":false,"headers":[{"name":"From","value":"clara@glx.com"},{"name":"To","value":"andersonav91@gmail.com"},{"name":"Subject","value":"dsdsf"},{"name":"MIME-Version","value":"1.0"},{"name":"Content-Type","value":"text/plain; charset=UTF-8"},{"name":"Content-Transfer-Encoding","value":"7bit"}],"commonHeaders":{"from":["clara@glx.com"],"to":["andersonav91@gmail.com"],"subject":"dsdsf"}},"delivery":{"timestamp":"2018-06-20T19:36:20.340Z","processingTimeMillis":492,"recipients":["andersonav91@gmail.com"],"smtpResponse":"250 2.0.0 OK 1529523380 w42-v6si1025398qtc.68 - gsmtp","remoteMtaIp":"173.194.205.27","reportingMTA":"a8-92.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:43:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:37:02 -0500
Processing by WebhooksController#ses as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms)


Started POST "/webhooks/ses" for 72.21.217.131 at 2018-06-20 14:38:49 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError (nil):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.178 at 2018-06-20 14:39:15 -0500
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("mail"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:39:19 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ("mail"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:40:04 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("mail"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:40:05 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ("mail"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.163 at 2018-06-20 14:41:01 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T19:41:01.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641eb6e94d-17107368-d4c7-4a38-8896-46c5cb37a497-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"aaa\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"aaa\"}},\"delivery\":{\"timestamp\":\"2018-06-20T19:41:01.716Z\",\"processingTimeMillis\":583,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529523661 t27-v6si3106978qte.14 - gsmtp\",\"remoteMtaIp\":\"209.85.232.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:41:37 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ("{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T19:41:01.133Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641eb6e94d-17107368-d4c7-4a38-8896-46c5cb37a497-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"aaa\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"aaa\"}},\"delivery\":{\"timestamp\":\"2018-06-20T19:41:01.716Z\",\"processingTimeMillis\":583,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529523661 t27-v6si3106978qte.14 - gsmtp\",\"remoteMtaIp\":\"209.85.232.27\",\"reportingMTA\":\"a8-92.smtp-out.amazonses.com\"}}"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.69 at 2018-06-20 14:41:38 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
RuntimeError ("{\"notificationType\":\"Delivery\",\"mail\":{\"timestamp\":\"2018-06-20T19:39:15.679Z\",\"source\":\"clara@glx.com\",\"sourceArn\":\"arn:aws:ses:us-east-1:356792611229:identity/glx.com\",\"sourceIp\":\"190.248.183.35\",\"sendingAccountId\":\"356792611229\",\"messageId\":\"010001641eb54d5f-8f75a2c1-9970-4fbd-a746-c54be63bb6b4-000000\",\"destination\":[\"andersonav91@gmail.com\"],\"headersTruncated\":false,\"headers\":[{\"name\":\"From\",\"value\":\"clara@glx.com\"},{\"name\":\"To\",\"value\":\"andersonav91@gmail.com\"},{\"name\":\"Subject\",\"value\":\"aa\"},{\"name\":\"MIME-Version\",\"value\":\"1.0\"},{\"name\":\"Content-Type\",\"value\":\"text/plain; charset=UTF-8\"},{\"name\":\"Content-Transfer-Encoding\",\"value\":\"7bit\"}],\"commonHeaders\":{\"from\":[\"clara@glx.com\"],\"to\":[\"andersonav91@gmail.com\"],\"subject\":\"aa\"}},\"delivery\":{\"timestamp\":\"2018-06-20T19:39:16.168Z\",\"processingTimeMillis\":489,\"recipients\":[\"andersonav91@gmail.com\"],\"smtpResponse\":\"250 2.0.0 OK 1529523556 z34-v6si3181326qvc.154 - gsmtp\",\"remoteMtaIp\":\"209.85.201.26\",\"reportingMTA\":\"a8-208.smtp-out.amazonses.com\"}}"):
  
app/controllers/webhooks_controller.rb:46:in `ses'
Started POST "/webhooks/ses" for 72.21.217.129 at 2018-06-20 14:42:08 -0500
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:41:01.133Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb6e94d-17107368-d4c7-4a38-8896-46c5cb37a497-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:41:01.716Z", "processingTimeMillis"=>583, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523661 t27-v6si3106978qte.14 - gsmtp", "remoteMtaIp"=>"209.85.232.27", "reportingMTA"=>"a8-92.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:47:in `ses'
Started POST "/webhooks/ses" for 72.21.217.157 at 2018-06-20 14:42:29 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:41:01.133Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb6e94d-17107368-d4c7-4a38-8896-46c5cb37a497-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:41:01.716Z", "processingTimeMillis"=>583, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523661 t27-v6si3106978qte.14 - gsmtp", "remoteMtaIp"=>"209.85.232.27", "reportingMTA"=>"a8-92.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:47:in `ses'
Started POST "/webhooks/ses" for 72.21.217.71 at 2018-06-20 14:46:44 -0500
Started POST "/webhooks/ses" for 72.21.217.153 at 2018-06-20 14:46:44 -0500
Started POST "/webhooks/ses" for 72.21.217.153 at 2018-06-20 14:46:44 -0500
Started POST "/webhooks/ses" for 72.21.217.157 at 2018-06-20 14:46:44 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:43:31.561Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb934e9-c8c5fa15-a2ed-47f0-864d-4b542b32c231-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:43:32.231Z", "processingTimeMillis"=>670, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523812 m9-v6si2911617qkk.386 - gsmtp", "remoteMtaIp"=>"173.194.208.26", "reportingMTA"=>"a8-84.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:47:in `ses'
  [1m[35m (142.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
  [1m[35m (143.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (159.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:43:31.561Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb934e9-c8c5fa15-a2ed-47f0-864d-4b542b32c231-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:43:32.231Z", "processingTimeMillis"=>670, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523812 m9-v6si2911617qkk.386 - gsmtp", "remoteMtaIp"=>"173.194.208.26", "reportingMTA"=>"a8-84.smtp-out.amazonses.com"}}):
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:43:31.561Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb934e9-c8c5fa15-a2ed-47f0-864d-4b542b32c231-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:43:32.231Z", "processingTimeMillis"=>670, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523812 m9-v6si2911617qkk.386 - gsmtp", "remoteMtaIp"=>"173.194.208.26", "reportingMTA"=>"a8-84.smtp-out.amazonses.com"}}):
  
  
app/controllers/webhooks_controller.rb:47:in `ses'
app/controllers/webhooks_controller.rb:47:in `ses'
  
RuntimeError ({"notificationType"=>"Delivery", "mail"=>{"timestamp"=>"2018-06-20T19:43:31.561Z", "source"=>"clara@glx.com", "sourceArn"=>"arn:aws:ses:us-east-1:356792611229:identity/glx.com", "sourceIp"=>"190.248.183.35", "sendingAccountId"=>"356792611229", "messageId"=>"010001641eb934e9-c8c5fa15-a2ed-47f0-864d-4b542b32c231-000000", "destination"=>["andersonav91@gmail.com"], "headersTruncated"=>false, "headers"=>[{"name"=>"From", "value"=>"clara@glx.com"}, {"name"=>"To", "value"=>"andersonav91@gmail.com"}, {"name"=>"Subject", "value"=>"aaa"}, {"name"=>"MIME-Version", "value"=>"1.0"}, {"name"=>"Content-Type", "value"=>"text/plain; charset=UTF-8"}, {"name"=>"Content-Transfer-Encoding", "value"=>"7bit"}], "commonHeaders"=>{"from"=>["clara@glx.com"], "to"=>["andersonav91@gmail.com"], "subject"=>"aaa"}}, "delivery"=>{"timestamp"=>"2018-06-20T19:43:32.231Z", "processingTimeMillis"=>670, "recipients"=>["andersonav91@gmail.com"], "smtpResponse"=>"250 2.0.0 OK 1529523812 m9-v6si2911617qkk.386 - gsmtp", "remoteMtaIp"=>"173.194.208.26", "reportingMTA"=>"a8-84.smtp-out.amazonses.com"}}):
  
app/controllers/webhooks_controller.rb:47:in `ses'
Started POST "/webhooks/ses" for 72.21.217.79 at 2018-06-20 14:48:11 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (0.9ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641ebd7a16-6d582f42-bbbd-42fb-8980-c38fc192f849-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (6.3ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (2.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (2.6ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "20"], ["status_from_id", 2], ["action", "Delivery"], ["status_to_id", 5], ["created_at", "2018-06-20 19:48:12.251445"], ["updated_at", "2018-06-20 19:48:12.251445"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 28]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 20]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 328ms (Views: 0.8ms | ActiveRecord: 70.2ms)


Started POST "/webhooks/ses" for 72.21.217.86 at 2018-06-20 14:49:42 -0500
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (1.0ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641ebedcdb-54b42c0c-9351-4326-bca6-3cfee30883af-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (1.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.4ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "21"], ["status_from_id", 2], ["action", "Delivery"], ["status_to_id", 5], ["created_at", "2018-06-20 19:49:42.466051"], ["updated_at", "2018-06-20 19:49:42.466051"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 30]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 21]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 121ms (Views: 0.6ms | ActiveRecord: 20.5ms)


Started POST "/webhooks/ses" for 72.21.217.166 at 2018-06-20 14:49:42 -0500
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (1.5ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641ebedcdb-54b42c0c-9351-4326-bca6-3cfee30883af-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (1.3ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.2ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 5], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.5ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.7ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "21"], ["status_from_id", 5], ["action", "Bounce"], ["status_to_id", 6], ["created_at", "2018-06-20 19:49:42.841699"], ["updated_at", "2018-06-20 19:49:42.841699"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 31]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 21]]
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 95ms (Views: 0.5ms | ActiveRecord: 42.6ms)


Started POST "/webhooks/ses" for 72.21.217.159 at 2018-06-20 14:50:36 -0500
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (1.3ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641ebfa56a-08b9818c-585b-4917-b6c8-feb98f1ea972-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (1.1ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (1.7ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'bounce') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (1.1ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "22"], ["status_from_id", 2], ["action", "Bounce"], ["status_to_id", 6], ["created_at", "2018-06-20 19:50:36.074424"], ["updated_at", "2018-06-20 19:50:36.074424"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 33]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 6], ["id", 22]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 51ms (Views: 0.4ms | ActiveRecord: 13.9ms)


Started POST "/webhooks/ses" for 72.21.217.167 at 2018-06-20 16:12:38 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 628ms (ActiveRecord: 0.0ms)


  
JSON::ParserError (743: unexpected token at 'You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.
To confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.'):
  
app/controllers/webhooks_controller.rb:45:in `ses'
Started POST "/webhooks/ses" for 72.21.217.171 at 2018-06-20 16:13:14 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 429ms (ActiveRecord: 0.0ms)


  
JSON::ParserError (743: unexpected token at 'You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.
To confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.'):
  
app/controllers/webhooks_controller.rb:45:in `ses'
Started POST "/webhooks/ses" for 72.21.217.160 at 2018-06-20 16:13:37 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 476ms (ActiveRecord: 0.0ms)


  
JSON::ParserError (743: unexpected token at 'You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.
To confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.'):
  
app/controllers/webhooks_controller.rb:45:in `ses'
Started POST "/webhooks/ses" for 72.21.217.84 at 2018-06-20 16:13:52 -0500
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (1.0ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641f0be91f-f32155c2-bf3c-4710-b56e-0c2c677381af-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (3.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
Error OK: 2018-06-20T21:13:51.647Z
  [1m[36mGlxMachineStatus Load (1.0ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (3.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.5ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.8ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (7.3ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "23"], ["status_from_id", 2], ["action", "Delivery"], ["status_to_id", 5], ["created_at", "2018-06-20 21:13:52.920610"], ["updated_at", "2018-06-20 21:13:52.920610"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 35]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 23]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 577ms (Views: 2.0ms | ActiveRecord: 97.2ms)


Started POST "/webhooks/ses" for 72.21.217.112 at 2018-06-20 16:14:00 -0500
Processing by WebhooksController#ses as HTML
Completed 500 Internal Server Error in 348ms (ActiveRecord: 0.0ms)


  
JSON::ParserError (743: unexpected token at 'You have chosen to subscribe to the topic arn:aws:sns:us-east-1:356792611229:test-james.
To confirm the subscriptionDataBuilder, visit the SubscribeURL included in this message.'):
  
app/controllers/webhooks_controller.rb:45:in `ses'
Started POST "/webhooks/ses" for 72.21.217.107 at 2018-06-20 16:16:19 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhooksController#ses as HTML
  [1m[36mGlxAwsSesMailInfo Load (6.9ms)[0m  [1m[34mSELECT  "glx_aws_ses_mail_info".* FROM "glx_aws_ses_mail_info" WHERE "glx_aws_ses_mail_info"."ses_id" = $1 LIMIT $2[0m  [["ses_id", "010001641f0e26b8-5b59e1a1-6740-4ab8-b1b6-105d33ccccd8-000000"], ["LIMIT", 1]]
  [1m[36mGlxMail Load (6.8ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
Error OK: 1529529378
  [1m[36mGlxMachineStatus Load (3.6ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 2], ["LIMIT", 1]]
  [1m[36mGlxMachineStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_machine_statuses".* FROM "glx_machine_statuses" WHERE "glx_machine_statuses"."initial_status_id" = $1 AND (lower(action) = 'delivery') ORDER BY "glx_machine_statuses"."id" ASC LIMIT $2[0m  [["initial_status_id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGlxMail Load (0.6ms)[0m  [1m[34mSELECT  "glx_mails".* FROM "glx_mails" WHERE "glx_mails"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.9ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mGlxStatus Load (0.5ms)[0m  [1m[34mSELECT  "glx_statuses".* FROM "glx_statuses" WHERE "glx_statuses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "glx_status_logs" ("mail_id", "status_from_id", "action", "status_to_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["mail_id", "24"], ["status_from_id", 2], ["action", "Delivery"], ["status_to_id", 5], ["created_at", "2018-06-20 21:16:21.353325"], ["updated_at", "2018-06-20 21:16:21.353325"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_status_logs" SET "created_at" = '1970-01-01 00:33:38' WHERE "glx_status_logs"."id" = $1[0m  [["id", 37]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "glx_mails" SET "status_id" = $1 WHERE "glx_mails"."id" = $2[0m  [["status_id", 5], ["id", 24]]
  [1m[35m (51.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 471ms (Views: 1.4ms | ActiveRecord: 117.0ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 19:58:49 -0500
  [1m[35m (57.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.5ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 22.4ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2018-06-29 19:58:50 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2018-06-29 19:58:50 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:00:15 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.9ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 21ms (ActiveRecord: 10.7ms)


  
RuntimeError ("a"):
  
app/controllers/subscriptions_controller.rb:7:in `unsubscribe'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:01:52 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 9.8ms)


  
RuntimeError ("a"):
  
app/controllers/subscriptions_controller.rb:7:in `unsubscribe'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:02:59 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (3.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 86ms (ActiveRecord: 18.3ms)


  
RuntimeError ("a"):
  
app/controllers/subscriptions_controller.rb:7:in `unsubscribe'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:03:23 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (10.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 200 OK in 52ms (Views: 0.2ms | ActiveRecord: 10.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:05:32 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 9.9ms)


  
ActionView::MissingTemplate (Missing template subscriptions/unsubscribe with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/anderson/Apps/james-api/app/views"
):
  
app/controllers/subscriptions_controller.rb:7:in `unsubscribe'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:17:50 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.4ms)
Completed 200 OK in 98ms (Views: 21.7ms | ActiveRecord: 22.2ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:20:23 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.1ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.1ms)
Completed 200 OK in 55ms (Views: 4.7ms | ActiveRecord: 14.5ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:25:08 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.5ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.5ms)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 0.5ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:27:40 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (7.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.0ms)
Completed 200 OK in 48ms (Views: 33.4ms | ActiveRecord: 7.7ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:47:12 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.2ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (3.6ms)
Completed 200 OK in 24ms (Views: 13.2ms | ActiveRecord: 1.2ms)


Started GET "/unsubscribe/logo.png" for 127.0.0.1 at 2018-06-29 20:47:12 -0500
Processing by SubscriptionsController#unsubscribe as PNG
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (10.5ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
Completed 406 Not Acceptable in 61ms (ActiveRecord: 10.5ms)


  
ActionController::UnknownFormat (SubscriptionsController#unsubscribe is missing a template for this request format and variant.

request.formats: ["image/png"]
request.variant: []):
  
actionpack (5.1.6) lib/action_controller/metal/implicit_render.rb:40:in `default_render'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.6) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.6) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.6) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.6) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.6) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.6) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.6) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.6) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.6) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:844:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.1.6) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/unsubscribe/logo.png" for 127.0.0.1 at 2018-06-29 20:47:13 -0500
Processing by SubscriptionsController#unsubscribe as PNG
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
Completed 406 Not Acceptable in 74ms (ActiveRecord: 0.8ms)


  
ActionController::UnknownFormat (SubscriptionsController#unsubscribe is missing a template for this request format and variant.

request.formats: ["image/png"]
request.variant: []):
  
actionpack (5.1.6) lib/action_controller/metal/implicit_render.rb:40:in `default_render'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.6) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.6) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.6) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.6) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.6) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.6) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.6) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.6) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.6) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.6) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.6) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.6) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.6) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.6) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.6) lib/action_dispatch/routing/route_set.rb:844:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
activerecord (5.1.6) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.6) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.6) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:49:27 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (4.5ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.6ms)
Completed 200 OK in 40ms (Views: 19.1ms | ActiveRecord: 4.5ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:50:27 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.1ms)
Completed 200 OK in 38ms (Views: 3.7ms | ActiveRecord: 1.4ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:51:45 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.8ms)
Completed 200 OK in 13ms (Views: 3.6ms | ActiveRecord: 0.7ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:53:39 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (7.2ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.7ms)
Completed 200 OK in 42ms (Views: 20.2ms | ActiveRecord: 7.2ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:54:24 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.8ms)
Completed 200 OK in 35ms (Views: 29.9ms | ActiveRecord: 0.8ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:55:42 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.3ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (16.6ms)
Completed 200 OK in 49ms (Views: 36.2ms | ActiveRecord: 1.3ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:56:10 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (9.8ms)
Completed 200 OK in 20ms (Views: 15.1ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:58:35 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.1ms)
Completed 200 OK in 23ms (Views: 3.7ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 20:59:36 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.0ms)
Completed 200 OK in 23ms (Views: 9.2ms | ActiveRecord: 0.8ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:00:54 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.9ms)
Completed 200 OK in 44ms (Views: 12.7ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:01:50 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.6ms)
Completed 200 OK in 36ms (Views: 8.3ms | ActiveRecord: 1.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:02:30 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.9ms)
Completed 200 OK in 29ms (Views: 15.8ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:07:43 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (2.9ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.7ms)
Completed 200 OK in 17ms (Views: 4.0ms | ActiveRecord: 2.9ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:08:34 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (5.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.6ms)
Completed 200 OK in 34ms (Views: 14.7ms | ActiveRecord: 5.4ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:09:15 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.9ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 10.0ms | ActiveRecord: 0.9ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:09:30 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (9.1ms)
Completed 200 OK in 52ms (Views: 13.7ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:11:56 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.8ms)
Completed 200 OK in 21ms (Views: 4.9ms | ActiveRecord: 0.7ms)


  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" ORDER BY "glx_subscriptions"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:19:57 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.1ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (3.0ms)
Completed 200 OK in 62ms (Views: 14.0ms | ActiveRecord: 15.7ms)


Started GET "/unsubscribe/0be94f01-4dd5-40d7-96c8-14dbd2fa732d" for 127.0.0.1 at 2018-06-29 21:20:02 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"0be94f01-4dd5-40d7-96c8-14dbd2fa732d"}
  [1m[36mGlxSubscription Load (7.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "0be94f01-4dd5-40d7-96c8-14dbd2fa732d"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (10.5ms)[0m  [1m[33mUPDATE "glx_subscriptions" SET "unsubscribed_at" = $1, "subscribed" = $2 WHERE "glx_subscriptions"."id" = $3[0m  [["unsubscribed_at", "2018-06-30 02:20:02.876521"], ["subscribed", "f"], ["id", 1]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.6ms)
Completed 200 OK in 159ms (Views: 23.9ms | ActiveRecord: 38.4ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:46:45 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.0ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (16.2ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 19.0ms)


  
ActionView::Template::Error (No route matches {:action=>"logo", :controller=>"subscriptions", :uuid=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}):
    34:     <div class="container">
    35:       <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    36:       <a class="navbar-brand" href="#">
    37:         <img src="<%= url_for(action: 'logo', controller: 'subscriptions', only_path: false, protocol: 'https') %>">
    38:       </a>
    39:       </nav>
    40:       <h1>
  
app/views/subscriptions/unsubscribe.html.erb:37:in `_app_views_subscriptions_unsubscribe_html_erb___3544365609107823957_70061892866060'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:47:19 -0500
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (8.2ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (7.7ms)
Completed 200 OK in 66ms (Views: 17.9ms | ActiveRecord: 30.4ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:47:25 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.5ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.8ms)
Completed 200 OK in 59ms (Views: 9.0ms | ActiveRecord: 18.0ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:13 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.1ms)
Completed 200 OK in 18ms (Views: 9.2ms | ActiveRecord: 1.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:13 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (2.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.8ms)
Completed 200 OK in 123ms (Views: 60.7ms | ActiveRecord: 2.7ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:13 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (9.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.0ms)
Completed 200 OK in 52ms (Views: 10.0ms | ActiveRecord: 9.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:16 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.0ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.0ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:17 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (2.2ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.7ms)
Completed 200 OK in 24ms (Views: 13.1ms | ActiveRecord: 2.2ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:17 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.0ms)
Completed 200 OK in 40ms (Views: 7.5ms | ActiveRecord: 1.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:20 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 12.7ms | ActiveRecord: 0.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:20 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (5.5ms)
Completed 200 OK in 60ms (Views: 30.0ms | ActiveRecord: 1.4ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:21 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.1ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.8ms)
Completed 200 OK in 25ms (Views: 9.3ms | ActiveRecord: 1.1ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:24 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.3ms)
Completed 200 OK in 37ms (Views: 31.5ms | ActiveRecord: 0.7ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:24 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.6ms)
Completed 200 OK in 43ms (Views: 21.9ms | ActiveRecord: 1.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:25 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.6ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (0.7ms)
Completed 200 OK in 77ms (Views: 48.2ms | ActiveRecord: 0.6ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:46 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (6.5ms)
Completed 200 OK in 74ms (Views: 21.9ms | ActiveRecord: 16.7ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:48 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (4.3ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.2ms)
Completed 200 OK in 78ms (Views: 18.9ms | ActiveRecord: 15.2ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:48 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (2.4ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.4ms)
Completed 200 OK in 37ms (Views: 17.7ms | ActiveRecord: 2.4ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:53 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.8ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (1.0ms)
Completed 200 OK in 16ms (Views: 3.5ms | ActiveRecord: 0.8ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:53 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (0.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.5ms)
Completed 200 OK in 33ms (Views: 11.0ms | ActiveRecord: 0.7ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:53 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (2.3ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (4.0ms)
Completed 200 OK in 44ms (Views: 22.1ms | ActiveRecord: 2.3ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:48:59 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (0.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (3.5ms)
Completed 200 OK in 32ms (Views: 17.2ms | ActiveRecord: 0.7ms)


Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:48:59 -0500
Processing by SubscriptionsController#unsubscribe as */*
  Parameters: {"uuid"=>"logo"}
  [1m[36mGlxSubscription Load (1.7ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "logo"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (2.3ms)
Completed 200 OK in 31ms (Views: 15.0ms | ActiveRecord: 1.7ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:49:41 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:49:50 -0500
  
ActionController::RoutingError (No route matches [GET] "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13"):
  
actionpack (5.1.6) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.6) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.6) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.6) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.6) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.6) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.1.6) lib/rails/engine.rb:522:in `call'
puma (3.11.4) lib/puma/configuration.rb:225:in `call'
puma (3.11.4) lib/puma/server.rb:632:in `handle_request'
puma (3.11.4) lib/puma/server.rb:446:in `process_client'
puma (3.11.4) lib/puma/server.rb:306:in `block in run'
puma (3.11.4) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/unsubscribe/logo" for 127.0.0.1 at 2018-06-29 21:49:55 -0500
Processing by SubscriptionsController#logo as HTML
Sent file /home/anderson/Apps/james-api/public/logo.png (0.2ms)
Completed 200 OK in 2ms (ActiveRecord: 0.0ms)


Started GET "/logo" for 127.0.0.1 at 2018-06-29 21:51:17 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#logo as HTML
Sent file /home/anderson/Apps/james-api/public/logo.png (0.4ms)
Completed 200 OK in 3ms (ActiveRecord: 0.0ms)


Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:51:21 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (2.0ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (6.7ms)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 26.3ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"logo", :uuid=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}):
    34:     <div class="container">
    35:       <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    36:       <a class="navbar-brand" href="#">
    37:         <img src="<%= url_for(controller: 'logo', only_path: false) %>">
    38:       </a>
    39:       </nav>
    40:       <h1>
  
app/views/subscriptions/unsubscribe.html.erb:37:in `_app_views_subscriptions_unsubscribe_html_erb___2601434619163110608_69912908697580'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:51:47 -0500
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (12.9ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (34.1ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 12.9ms)


  
ActionView::Template::Error (wrong number of arguments (given 2, expected 0..1)):
    34:     <div class="container">
    35:       <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    36:       <a class="navbar-brand" href="#">
    37:         <img src="<%= url_for('logo', only_path: false) %>">
    38:       </a>
    39:       </nav>
    40:       <h1>
  
app/views/subscriptions/unsubscribe.html.erb:37:in `_app_views_subscriptions_unsubscribe_html_erb___2601434619163110608_69912911384460'
Started GET "/unsubscribe/74ac3f97-72af-4c41-a4dc-9806ba6d7d13" for 127.0.0.1 at 2018-06-29 21:52:56 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SubscriptionsController#unsubscribe as HTML
  Parameters: {"uuid"=>"74ac3f97-72af-4c41-a4dc-9806ba6d7d13"}
  [1m[36mGlxSubscription Load (1.3ms)[0m  [1m[34mSELECT  "glx_subscriptions".* FROM "glx_subscriptions" WHERE "glx_subscriptions"."uuid" = $1 ORDER BY "glx_subscriptions"."id" ASC LIMIT $2[0m  [["uuid", "74ac3f97-72af-4c41-a4dc-9806ba6d7d13"], ["LIMIT", 1]]
  Rendering subscriptions/unsubscribe.html.erb
  Rendered subscriptions/unsubscribe.html.erb (7.3ms)
Completed 200 OK in 101ms (Views: 47.3ms | ActiveRecord: 18.7ms)


Started GET "/logo" for 127.0.0.1 at 2018-06-29 21:52:57 -0500
Processing by SubscriptionsController#logo as */*
Sent file /home/anderson/Apps/james-api/public/logo.png (0.3ms)
Completed 200 OK in 3ms (ActiveRecord: 0.0ms)


